(self.webpackChunkelement_masters=self.webpackChunkelement_masters||[]).push([[792],{182:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEBElEQVRYR3VX63nbMAy04knqDOH4b7tPOqblIexMkqrAAYcHyej7WjmkBB5wh4e2z99vx0muTf7hR7tyddpvC6u3fU1umxg+9E89R3+X8zYF8HF5A4B6HbKyf32fsOcvEajesf+yfTed1n3l8fp3usa+OrkJkGJMVwigHk4wezOA14H98Fjp/se7APghhtiHc/kOz2HMtr8SgSuNYDXDub+O0+1ix2qINtnTwzf5fcgiD1jxp1buXwLglwDUF/S9cD7jjQjcLufwKozJM/vTPIgQ83DjQCg6ZF/8g2EzCojuww4A54maShkioGFUj8gxjVEDXTUepQCop3URMkIPAXBVALgo8RSnLpkG3vWhFAfF8pAIXCU69K9miT5zF46DolHGEpYWQUdVoQI609A4Lqm4zsv0NfZdYsPzZbuJlNExQ1MWyIIKzKPRVOzo6jkhwpJCVfG57yIcyADlyAIIrZimiCQLVGQmDpc+D5tE6hYiv0YRF5RBl6gt6gAPKDhqmrUK5s88BOAVAD0D5KFDw+qZsD/TgRWjoQFWQhNZPmoq9jRcAfQ8HwsN4Mh/dwKoAhy05nVA0pBHryIwACNG5LlmCV6uCjY3eiVNCqoiLAuc5tqNFpSjwGg1tKwuLYUus5gQsIDKIlUKTcFbNFCdsGy4P78lz1klHXfRonp4K0WsykydMg0ohSO5JRqff6QQkecm1O1khYjhodC0D5jBh5Ri7Lcq6kkjt7tm0bsqxJsRnytOSBqeJQ3zEG89sGndzjmepoVsx4iNhAx3La9OkGrkJhEAx7IxZ8KqHRfyEWJSYKd4jKwjaqkda4g3PpsXdJ5ANwwWMjwuIdHA+bhJmKp+DIMa0G7mniG1SuwYoVLERi2jW4Le0kUGGwAQ1W6AagA4Ldk0w5lA8VihOgsuLUDMY7/rvrZznzUy9cBR0hXNiAKchoc0TDEFG2bLOC51oEe8/FU3/PdmWSBexEiSgWQEJhIdJNJM6KtZYDXCLkbIIObpra1bL/B5AK9lYQ0DcNDc9RsOiVLdnMzJUecF1AF629TgsbORzEqxnx8ujFPtqObajkcBWiHiUOoxoFbKQaUdz9kyHkCdMcw5Lxh22x+mZhUpAutCpaMurXksL3rSqdhUXFlLoDGWk5tiPDXAodbobSmpKzmSZY7Pj3XLCzEP0wjp/MlmWmhfRghhEdqqndbDESEt4yvECw0Y9UPbzi+jjL2ljDYT7YY+K9AZ1Hzjc54ZuxTju2DRDfmkVcLI5e7K/OXDfbvXNG356QzMQ6unHpWgPtt3Ab/vOtfoZlKKR/Uz5lrr8V3QNRqUoF1LL5kuZy0+TKIOlAyAigHABxK3UykMDRi5TeH6F+aBaPVrIf8H7vGYIDMUJNQAAAAASUVORK5CYIIA"},324:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0003","name":"block.desert_0003","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0003.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},329:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0008","name":"block.desert_0008","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0008.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},344:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/170515__rolandasb__forest_ambient_01_loop.a310101290493c58b5ae.ogg"},502:l=>{"use strict";l.exports=JSON.parse('{"id":"quicksand_block","name":"block.quicksand","displayName":"Quicksand","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"quicksand":true,"swimmable":true},"liquid":{"buoyancy":0.1,"drag":{"x":0.3,"y":0.35},"surface":true,"damagePerSecond":0,"oxygen":{"drainPerSecond":15,"regenPerSecond":35,"damagePerSecondWhenDepleted":10}},"tintBelowSurface":10924635}')},592:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAoUlEQVRYR+2VvQrAIAyEdXTq+z9mJ8eWFBJatDGF/FCIo4j3eYmXWoJXDdYvCZAO/M+BvbVj610NXHwRCMOX1RSH+5YAVsKYP68A1sIsgHadubR9OOD16jvQBRAhTCVA8aihRA5ofy/pg6gHPBtv6AHciIAYcsAbYhpEnhBsEno0JjsLPJwQDSNLJ5YAmJRWECIASwgxgDTZvp5LgHQgHTgBL4xGIwdgE58AAAAASUVORK5CYIIA"},628:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_thunder_off","name":"weather.thunder_off","displayName":"Thunder Off","type":"weather_trigger","weatherType":"thunder","weatherAction":"off","width":1,"height":1,"editorIcon":"\ud83d\udeab\u26a1","isHiddenInGame":true,"collision":false}')},692:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADe0lEQVRYR8VXa3qjMAyE9pSw50tyypadhyTbQEvSP2H7ZR1jS6PRSHbm6c3P/Gb/08sA7vO24W/asHXm7q2FsHjmpeepDY/pG26wdIZjjdLzXP41g/fzZpPPgrkE8GC4fPBJ2ys+HvxS0XPcUREAuGGZPi7t/7rAdA8U68tj/jaaeLgkMTg5+cyXTPwIQLTT6g6AoudDZAkilmkqwaQ8QOD6CxOnAODEYYj9XCJD031C9JgDvcHEwENma/qHNRIqPsHktGznAj0AoPN0SzrJghZhuKQNjAlknT8iZFESbNmtgGJq2Qj0C1ZnBHAEMQCoyOWwZZNRLHQWykty+P8d7/hvnT6tDzhGBWh8h1YIRmxtZO5YHUcAJSCpuL61AaoAhskSK0KxRxGQarFHtuA49SLmMGdwY2UMABBNmGTEnzC0TTdYkyOlwipj1J005JFUi4FUoqNtIDgGcKwbfNYXvBR8ZxDRVR5BoYxvMqbI9Y4rXRGiOMcA+ojWkalg5CVg66L8NgDR7bLq1jBktX9ZTKoAihHVwEKJ3XQkQGqTBlxrgwUCIHyu68VYAKBaEB3JlBHTJ/FF/ug8K8RRW3CNDaaKEdqs9zv/dlx7zhhg+dk832b+TCPBQHiy7zUZJR2IjVQp/an5fLoKVL6sArCIuQB9DqCXvGmGgaxlAiiFBAi6xZ/pD34iYjGjw8kskg2Kmf2hr4ROA1ZOaaBTsBtO15MVZQ83Uwfag8cSalSI0qEUkIkzEaoKjCeV7k0+90mzU+AVJD37gKEEiBo6bVkl0oQOsbEZDSLM/KeQuGGFom9ZckEvgbDXS1x5XGKcShcGsdRAOR0V3FEDoVqfA5H3PPHuKMO8aKQOUqRZFT0BWf9JhgLIkt0dSoWEi9kJcxOxZn835S4rU+pcqL/3R3aEaNVzbcELwRwvKQcA+3te7zAFwkK9Ib8DjyHhLLUm0RHE/qo2AMg0FJ2VQjPAsNkhqUYdSG58ZqW7IbHUZovA4gw7Z/fEA4BQa1VEi8SjvhOyKbUWhLOiOw1zXVfWp75OJ/cgVH6dxV54GoeXRrZHnv7DlSyj1gWlnmY027HNU+GmO9PUorq+Gf/IwAiiNeEhJV3vqfnusvrMb4NLADTM67kkmL+IQgl7yptCriNPwE8B6KPu743+ldRSc3bp3It4//1lAFcGX33/dgD/AXwh6zCwjz62AAAAAElFTkSuQmCC"},719:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_06.c9213a4db899c1e409fa.jpg"},886:l=>{"use strict";l.exports=JSON.parse('{"id":"radioactive_water","name":"block.radioactive_water","displayName":"Radioactive Water","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"radioactive":true,"radioactive_water":true,"swimmable":true},"liquid":{"buoyancy":0.5,"drag":{"x":0.55,"y":0.65},"surface":true,"damagePerSecond":15,"oxygen":{"drainPerSecond":20,"regenPerSecond":35,"damagePerSecondWhenDepleted":10}},"tintBelowSurface":1727514}')},914:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_rain_on","name":"weather.rain_on","displayName":"Rain On (0%)","type":"weather_trigger","weatherType":"rain","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\ud83d\udca7","isHiddenInGame":true,"collision":false}')},969:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_snow_on","name":"weather.snow_on","displayName":"Snow On (0%)","type":"weather_trigger","weatherType":"snow","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\u2744\ufe0f","isHiddenInGame":true,"collision":false}')},1006:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_thunder_on","name":"weather.thunder_on","displayName":"Thunder On (0%)","type":"weather_trigger","weatherType":"thunder","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\u26a1","isHiddenInGame":true,"collision":false}')},1020:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABEklEQVRYR+2X4RHCIAyFy0a6kK6hE+gaupBuZA/uXi/GAK8ghR/tn5Y2Tb48Ak3d1PlwneNPO8AqBZ7344eZstPlRfulDNnAGo4BSQKUBl4DYgL8KzAD8gPQKjhg9LR8AbQObkEsAFsF1xBjAKSyP1/fAfpxO4QzxrLA8Az3vI28p8dShaBADEC+yDqVkBLaX0t4P/YF6XLZ6+ysLGMqWQDaXxIA2VgQUMRSST+zbJFIFiAGUQqAwEiKnoJYDaQU0PVgFWNWAT2/bA1Yq0AXofeVBWA+vzU2O0ByI6qRlnk3bESpnZBxUmOzAPSAQF8wxtcQMm7VE8iuaKyWrLUSVps+Zluul1ZpbVT/mJSCMIHhewZmPezxG7GaugAAAABJRU5ErkJgggAA"},1045:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD60lEQVRYR6VX0XUcRwzTWm5EURGKfl2L/Zt0lZSiuyIsVWKfCRIgMburOH7e92zt3cyQIAiSc9tfnz7c7uLZ4l++/M7zK0a4d/vn88d3/G53l9fvd3/+gZ0EGK95jicub7H+8GEg7wDUeayXjTIUh81jAdD6josxcMJQnLl8hYN7424jk2Eo1q+x/hTrWzi93ehEAJyBLT5kVHyRmZfXWzGwp5afxUCfV5CABIBg4CEAhtMOfNkcnpoB0uLrV1LYjO0pPkuBsQyAz5GioRgIy9oWjhC0aQBxB1VDxN2VDhBNRVAI8v9OAXPsuRVD0kCfl5hMEmciFBQw8BQiamiTqwTSKVBcC0Ml4udIoav8kM2/owwPZeB5ULgW+eioOWNIsiTIcvd+fe7K0LmiiLKMTp4Aefn6LSKMHMf7FmFk+phI/H1BCh6h8N15VQD2IwWTfcsNDFADGWdiU8RVGFUlABi6YCV1rASIdecDJ29TEgJQooIDGBNg9QFl4QAAAOHABOqxeh+p7yclnbzzTlgb08CjpSC5Goi9rhJu+ov1K/vIWsZsSCrHBtAcDspr5BgRVm67grtczzql77u81vnVpThiSVcVRGRol1jbRZOuk+NVyYu+fWnfFp35My2XCCe6eivMGQFSYBxWVZeQahZUhDLi/i9vIdIHxS+rI+SsmQTAPRgYynGpXNNshU7yCqAAcIuT0QAOJWLVplmwTkmJsIbREqEgxpetgcMcqYiuARDT0PK6lHJmx6tgzbI5yAgWgVSKIgVoRPlwuPi8VyvnBgZS94GCqGnIDz42lYLsdDaEEgaRosyeqBGIWE9fWFCGuU6P+gNdw05Owy+hgQJ1SHSKLAx4AxJWHFjH7VgQk3NjYiXtSEw56044XbyoaZ5sPtvAJuu46Qzu0grS1bXMRckWSyx5bfELSWvAKWavVx6HK4zbYxW4YkukfiM69pTt3yjDpVXCAr+56EpWGluiTRHmvB+N+CzsVs4qUDeYpkNW1AcaBCnHeO0+kKLBFWpVSgLEuG31TfYa4OM9z61zREdYhrsCTKaC4regOO90MjwUQvUv7IQUBCmSLaUobsU2YQ9an2E0upNYc5qxzDApsmPiTkAfAPgcFCcz3q3oRRqo+8T0Er9/VBUosAzULx3rBaSAdTa9In1czvyyGbpGPg7/45eROiFbqfVz9Y3jhWN141XQU7ZozFDB3NqKd0o/GFAHw/GwAZEiBd7rkyVmRFe6JsLvHNx0ykB3suW3nRryKH3K0NU/9HYAav4ApiCZSasCSs8Kon8X5CEumAU1oi6SVRU9LVu8KeS1nH+qgWo058//08A713qa/AFXJMQcmddrVgAAAABJRU5ErkJgggAA"},1083:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVRYR+2XMQqAMAxF7TW8gEdzcnYUR2cnj+YFvIYSoSDSNj9tIR3iKNL3+htNdJ3y5ZT5nQlYAtkJTGN/hwp4Py7RmqKHCejB2zoEX6B5Od/7qIhIgOAx8N+GRBAJWEAC9zKIBCSQA0clWIESOCLRtkCN3XMpJBMwAUvAElBPwHc/tAHF5stUT2j7S+h3VHIUXEdkEyiR4OC0NiwgrQcELhZQH8m+Va42lNb+lRPVQG14Vg3UllBP4AHdtpQh121K4wAAAABJRU5ErkJgggAA"},1134:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB6ElEQVRYR+1W7W7CMAxMHyDJ63Zs/NoGfd2mD8DubKdk09SQKhqaVIQgQOE+fLYZ3JNvw5Px3f8mMJ7ebs40TJf3XWJ2fWk8nQGMO8CXNDsfovszAgruXEoJ+OQxuBCCRGkPiSYHsuVUrfrpgz6GnS48RCCr5sUzwIlZfpEk6ML02Z6DKgGqHgAgwIIMOJGPsyRBvQgRZcCxtQx1Aq/nm9RbYDKcnsR80FNeN+cjwtjowiaBEeBAQNITsmYVX9VbB1o/kGAEgWtXAkg81QtL+E7N1M7kyyvlxJdaBo8cNM6DbQdIYGHtFYBuaOnvyAOJSWM65CDKNdPlo1pa+9HtUcz0S8sBVVrenFDJhrq2hFoR0Q3XBheqGUgzSiCqNf2SBUouOVhTkJ+XMvR2II8cw7aCFMPI+IBcaw6qGWAJ7g3Ik8Qwp2I9SzLwa9637YVNAi/r3P9JQkvB3rcxoMEEsxA9ZkGnElAmg5jgwrfRa1NQp6I6Ii2JU1cHlIDu/AXtqNar0vtI1kxqcVAC7oReXZB7NbejZIGqRWx51mEkBHpmoCRQJj+/rzuC4QMZ2MCVTBLd5kAG+u15XdFwZE6L1EFWcsMMyKK2cKqflX/PeHFL/fsQkI3ZDpyVPbw0qlbsvOAgcDhwOPAFkVUBMMBoXdcAAAAASUVORK5CYIIA"},1169:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/wooden_box_0001.009100a1076a98a960ed.png"},1297:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALUlEQVRYR+3QQREAAAABQfqXFsNnFTizzXk99+MAAQIECBAgQIAAAQIECBAgMBo/ACHo7lH9AAAAAElFTkSuQmCC"},1351:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAjUlEQVRYR+2XOQ7AIAwEoeeXvCu/pE/kIlIOY0fIR4rlAwwDy0ItyaMmz18AAAMwAAMw8DKwtbb3McLMsABnP0SA3ABo9ddySgcgGG8I0UDEVnwC8DQBgH8ZoL1+RtE7luJFxD1YrWPJXrmSBetELAFYQkxLR7NgBSG2ngZhcR7U2vVOhQrg/XUDQLqBA78FQCESgyt9AAAAAElFTkSuQmCC"},1374:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_fog_value","name":"weather.fog_value","displayName":"Fog Intensity","type":"weather_trigger","weatherType":"fog","weatherAction":"set","width":1,"height":1,"editorIcon":"\ud83c\udf2b\ufe0f\ud83c\udf2b\ufe0f","isHiddenInGame":true,"collision":false,"hasIntensity":true}')},1458:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC6UlEQVRYR8VXbXbDIAyD3rK935JTrsySbTAU8rE/zfZek2BsIcuG5PTlK385froNYM/vUkrWibmkJP9yw3U8U77t79KEPUvMUiRMMMetvGNMgrALj/L8ugjmFMBOdxqDMWXVWRgo8qexBdYAQI1LepbHqf9DAw/OtdnKlHpFpKAcmlPQnnF3xsQSgAZXim1BvV5l5lOYCMxXKFt6V10ArNgt40wHNsk5vL3SI+3ptznrIaSn+HUdbkwGhVitZBH1fiXQDwDiSHXtK5TfXV/xigFaNsSoVoTaIThsHcQqHR2ALueTgDAWdlTmrfR492MMzEA6IBvrYt4CoKt6iB9nJCfkW4RWV0rcwavrZDddjKlYAjDKGpUDxdOU1HQ1gJ4G/EInY1VUAIIQkle/qGGsNNS3NKPQDKokmjaGhuQagMtNUkaWzEdkIQBAr2vsVeTi2EU4CjDmNkJaVUJgrcbtAERaXb2RwlhWVt+c4iU4zncg3TwxmjKA8nM0sXxmq/ZAY6lph9T0gW4KMJSxd04Z/2QAzQf9Bw3gxV6PWn7TWSs/y5FpwysC6UeeGwOxUrQneHC0qyjEIQUKANZdHmU1DVTcefRegfSp6OdLa678kqGJBmSfb0bzlrrKKfXA3aqtFqqPIo1b1BxALUPLodVg1AMcwrFzwLLCVRmjCGJB9A3KRqcpULShF5gbDzhRsu/KXUA+GA7Pvb+a7YzrVhwWg12POzO7meTTxgAOJeg0UAum+pE5n3PSij8ZUJFpr1cNRMwavLHDcxIt/gWAzjoxqnTgjKXY7+8c2+S8gHNDBNIFt94wlp/nrUuBv2RPoLhMu3q+G3INVnDy0atvWD6mjOBaHc2mADAhdsYhcvdY9z1uNHN3R8f1JQBNhx7Nzi7yZFRrI0NLMS0cnAfh9xCA5bUV+/gNEJE5gODyyofKKQBNx9u/hRjSu1rcvuN7WMRud8TgJQDRwQimjl38EBnB3AZwpoe7418H8AdIH28wN5IfHwAAAABJRU5ErkJgggAA"},1521:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_0001","name":"interactable.stone","type":"interactable","subtype":"pushable","width":1,"height":1,"texture":"/assets/images/interactables/stone_0001.png","collision":true,"renderAbovePlayer":false,"isPushable":true,"isRound":true,"sinkingSpeed":0.2,"sounds":{"water_splash":"/assets/sounds/interactables/stone_water.mp3","lava_splash":"/assets/sounds/interactables/stone_lava.mp3","push":"/assets/sounds/interactables/stone_push.mp3"},"physics":{"gravity":true,"buoyancy":false}}')},1621:(l,e,n)=>{var t={"./blocks/block_pack_01/dirt_block_0002.png":8625,"./blocks/block_pack_01/dirt_block_0003.png":2967,"./blocks/block_pack_01/dirt_block_0004.png":7800,"./blocks/block_pack_01/dirt_block_0005.png":2017,"./blocks/block_pack_01/dirt_block_0006.png":1850,"./blocks/block_pack_01/ice_block_0001.png":9745,"./blocks/desert_pack_01/desert_pack_0001.png":7741,"./blocks/desert_pack_01/desert_pack_0002.png":182,"./blocks/desert_pack_01/desert_pack_0003.png":1727,"./blocks/desert_pack_01/desert_pack_0004.png":6352,"./blocks/desert_pack_01/desert_pack_0005.png":2601,"./blocks/desert_pack_01/desert_pack_0006.png":6018,"./blocks/desert_pack_01/desert_pack_0007.png":6523,"./blocks/desert_pack_01/desert_pack_0008.png":5132,"./blocks/desert_pack_01/desert_pack_0009.png":1045,"./blocks/diorite_block.png":8276,"./blocks/dirt_block_0001.png":9538,"./blocks/grass_block_0001.png":1764,"./blocks/sand_block_0001.png":2250,"./blocks/sand_block_0002.png":2145,"./blocks/water_block.png":1635,"./decorations/stone_pack_01/stone_pack_01_001.png":1978,"./decorations/stone_pack_01/stone_pack_01_002.png":4526,"./decorations/stone_pack_01/stone_pack_01_003.png":7928,"./decorations/stone_pack_01/stone_pack_01_004.png":9447,"./decorations/stone_pack_01/stone_pack_01_005.png":1134,"./decorations/stone_pack_01/stone_pack_01_006.png":8485,"./decorations/stone_pack_01/stone_pack_01_007.png":3036,"./decorations/stone_pack_01/stone_pack_01_008.png":7195,"./decorations/stone_pack_01/stone_pack_01_009.png":9330,"./decorations/stone_pack_01/stone_pack_01_010.png":2952,"./entities/player/player_dead_01.png":2735,"./entities/player/player_dead_02.png":2820,"./entities/player/player_dead_03.png":5325,"./entities/player/player_dead_04.png":3762,"./entities/player/player_dead_05.png":2763,"./entities/player/player_dead_06.png":7728,"./entities/player/player_dead_07.png":8905,"./entities/player/player_dead_08.png":3662,"./entities/player/player_dead_09.png":1351,"./entities/player/player_dead_10.png":1297,"./entities/player/player_default_100.A.png":6847,"./entities/player/player_default_100.B.png":4388,"./entities/player/player_target_100.A.png":2155,"./entities/player/player_target_100.B.png":8336,"./entities/tanks/tank_0000.png":2386,"./entities/tanks/tank_0001.png":3563,"./entities/tanks/tank_0002.png":5232,"./hazards/bushes_001.png":6343,"./hazards/death_block_0001.png":3527,"./interactables/arrows/arrow_down.png":7152,"./interactables/arrows/arrow_left.png":8047,"./interactables/arrows/arrow_right.png":592,"./interactables/arrows/arrow_up.png":7263,"./interactables/berry_bush_01_A.png":2534,"./interactables/berry_bush_01_B.png":4157,"./interactables/berry_bush_02_A.png":3945,"./interactables/berry_bush_02_B.png":7858,"./interactables/ends/end_0001.png":8597,"./interactables/platforms/platform_0001.png":9427,"./interactables/portals/portal_01/portal_A_001.png":8518,"./interactables/portals/portal_01/portal_A_002.png":3933,"./interactables/portals/portal_01/portal_A_003.png":692,"./interactables/portals/portal_01/portal_A_004.png":5499,"./interactables/portals/portal_01/portal_A_005.png":3954,"./interactables/portals/portal_01/portal_A_006.png":8489,"./interactables/portals/portal_01/portal_A_007.png":4288,"./interactables/portals/portal_01/portal_A_008.png":8519,"./interactables/portals/portal_01/portal_A_009.png":2734,"./interactables/portals/portal_01/portal_A_010.png":3124,"./interactables/portals/portal_01/portal_A_011.png":4253,"./interactables/portals/portal_01/portal_A_012.png":6838,"./interactables/portals/portal_01/portal_A_013.png":5583,"./interactables/portals/portal_01/portal_A_014.png":9712,"./interactables/portals/portal_01/portal_A_015.png":5465,"./interactables/portals/portal_01/portal_A_016.png":1458,"./interactables/stone_0001.png":1020,"./interactables/wooden_box_0001.png":1169,"./items/fireball_basic_A.png":9240,"./items/fireball_basic_B.png":4851,"./items/fireball_basic_C.png":9290,"./items/fireball_basic_D.png":9717,"./items/hertz_item.A.png":7720,"./items/hertz_item.B.png":3475,"./projectiles/fireball_basic_A.png":9792,"./projectiles/fireball_basic_B.png":1083,"./projectiles/fireball_basic_C.png":9954,"./projectiles/fireball_basic_D.png":4205,"./secrets/crack_block.png":2789};function a(l){var e=u(l);return n(e)}function u(l){if(!n.o(t,l)){var e=new Error("Cannot find module '"+l+"'");throw e.code="MODULE_NOT_FOUND",e}return t[l]}a.keys=function(){return Object.keys(t)},a.resolve=u,l.exports=a,a.id=1621},1635:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAMklEQVRYR+3QQREAAAjDMGYYudgBGXxSBb2kerYeiwECBAgQIECAAAECBAgQIEDgW+AAFGZIgY4rz5YAAAAASUVORK5CYIIA"},1727:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEBElEQVRYR3VX63nbMAy04knqDOH4b7tPOqblIexMkqrAAYcHyej7WjmkBB5wh4e2z99vx0muTf7hR7tyddpvC6u3fU1umxg+9E89R3+X8zYF8HF5A4B6HbKyf32fsOcvEajesf+yfTed1n3l8fp3usa+OrkJkGJMVwigHk4wezOA14H98Fjp/se7APghhtiHc/kOz2HMtr8SgSuNYDXDub+O0+1ix2qINtnTwzf5fcgiD1jxp1buXwLglwDUF/S9cD7jjQjcLufwKozJM/vTPIgQ83DjQCg6ZF/8g2EzCojuww4A54maShkioGFUj8gxjVEDXTUepQCop3URMkIPAXBVALgo8RSnLpkG3vWhFAfF8pAIXCU69K9miT5zF46DolHGEpYWQUdVoQI609A4Lqm4zsv0NfZdYsPzZbuJlNExQ1MWyIIKzKPRVOzo6jkhwpJCVfG57yIcyADlyAIIrZimiCQLVGQmDpc+D5tE6hYiv0YRF5RBl6gt6gAPKDhqmrUK5s88BOAVAD0D5KFDw+qZsD/TgRWjoQFWQhNZPmoq9jRcAfQ8HwsN4Mh/dwKoAhy05nVA0pBHryIwACNG5LlmCV6uCjY3eiVNCqoiLAuc5tqNFpSjwGg1tKwuLYUus5gQsIDKIlUKTcFbNFCdsGy4P78lz1klHXfRonp4K0WsykydMg0ohSO5JRqff6QQkecm1O1khYjhodC0D5jBh5Ri7Lcq6kkjt7tm0bsqxJsRnytOSBqeJQ3zEG89sGndzjmepoVsx4iNhAx3La9OkGrkJhEAx7IxZ8KqHRfyEWJSYKd4jKwjaqkda4g3PpsXdJ5ANwwWMjwuIdHA+bhJmKp+DIMa0G7mniG1SuwYoVLERi2jW4Le0kUGGwAQ1W6AagA4Ldk0w5lA8VihOgsuLUDMY7/rvrZznzUy9cBR0hXNiAKchoc0TDEFG2bLOC51oEe8/FU3/PdmWSBexEiSgWQEJhIdJNJM6KtZYDXCLkbIIObpra1bL/B5AK9lYQ0DcNDc9RsOiVLdnMzJUecF1AF629TgsbORzEqxnx8ujFPtqObajkcBWiHiUOoxoFbKQaUdz9kyHkCdMcw5Lxh22x+mZhUpAutCpaMurXksL3rSqdhUXFlLoDGWk5tiPDXAodbobSmpKzmSZY7Pj3XLCzEP0wjp/MlmWmhfRghhEdqqndbDESEt4yvECw0Y9UPbzi+jjL2ljDYT7YY+K9AZ1Hzjc54ZuxTju2DRDfmkVcLI5e7K/OXDfbvXNG356QzMQ6unHpWgPtt3Ab/vOtfoZlKKR/Uz5lrr8V3QNRqUoF1LL5kuZy0+TKIOlAyAigHABxK3UykMDRi5TeH6F+aBaPVrIf8H7vGYIDMUJNQAAAAASUVORK5CYIIA"},1752:l=>{"use strict";l.exports=JSON.parse('{"id":"hertz_item","name":"item.hertz","width":"1","height":"1","textures":["/assets/images/items/hertz_item.A.png","/assets/images/items/hertz_item.B.png"],"animationSpeed":300,"pickup":true,"effect":{"health":"10"},"sfx":"/assets/sound/sfx/zzox-fx_sling-selector.ogg","sfxVolume":0.85}')},1764:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABrklEQVRYR62WLVYDUQyFZ0zNFN/V4MFjUCjWhaphAXhWU8+pqSlkDum5k+bnptMxnZ+X5MtN8l7HzcvufPo8jNXv8Hfpmui+8uF9XwQWx3IpkD7jO/wW3Wd21vcMgAbVvThABSr7SF2N0waoALvf7w7wdjwMH9OO5rgrgASXqw1gDTtZ4NrVAEpfOcVAunbz9TO8Ph4vCrBJzCVQhxHA/nu6OJd7uTCYPGc+soYY35+HxRhK/awCCKDOFOT09DC/QgBdY3vBK3UJgNJiJqiEVQXXIYQLsN1OZ5XTGoqBZp+VwaqS+cMpkeSuFED5MHuvDPSw/4+mV6YFAAYR6az8LAS7ThIIFfDqmjWjTobaqTpeOVC5KwB0YI3ZzGy/ZBChAkLJNJ7XBxY0A3cBPBnZ7C04ToinBNUDneARQPR+Bsg2kioDpgTZPpH2gHXOgGbAnr07BdXoMKMWwdpyjt5WzATQmlqVEJ7pnVYJuvIyW/VNAN1Rs2qhSjcBMNJG2V/1gP1DwsgWAWTbeOSXUqDTlN3zgz4LGGVY2anTsNoLOkDtw6jjfO1aqgfWBsnsfwHb/steztmElwAAAABJRU5ErkJgggAA"},1850:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABNUlEQVRYR82XwRmDIAyFyyQdozu05+7jPp2kLmUVQVFC8gihnx56wJD8SR6RunEcp1vF42bbyf9UbGJMHQ1gGEHgLADYZId4qQawrs1/WpBSnzKAKmCdddoaCADpZclmeD+yV8Pnu625592xByo1RkGooKW9IkDcKIH4oEsqS7+2J1vIOGCA3DlaD94OB7CJh1cAUT5rI1ffw6wVAI3JIvi9ege6FujjhRx2BzxAc6CScESAHpFpn0ALiI2GfADAOlviuLRQ/uFbQI9iwxSlC8k1AISEkaGkHZSQBrTO/aRL9HPofVjvDiDBdwYIvWXGdQPAUTiITrzNSW86AMNTqgOQzjYpPPUolmTEvS+1adeGe833AYu/eYgGKNTKFpSaXy+KCFwJkN0nWvqTXMma3QgOmAL9ANzieuyQWMkEAAAAAElFTkSuQmCC"},1866:l=>{"use strict";l.exports=JSON.parse('{"id":"secret_area_a","name":"secret.area_a","displayName":"Secret Area - first","type":"secret","subtype":"above","width":"1","height":"1","texture":null,"editorIcon":"A","filterColorInEditor":"rgba(25, 77, 233, 0.73)","filterColorInGame":"rgba(0, 0, 0, 0.5)","renderAbovePlayer":true,"collision":{"top":false,"bottom":false,"left":false,"right":false},"canReveal":true,"revealOnEnter":true,"description":"Secret zone that appears as foreground until player enters, then reveals"}')},1978:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACaUlEQVRYR+1WUXabMBCUDmBxXSdxvtokvi5wAHVmdleAcVvZTV76YZJnQAjt7MzuiJy++cjfHD89ADwYeDDwYOD/ZeD4/FrpkkT48f7jy4BeXVjBc03zOKVSisNIiYgy3qiCxgMXPnB+/3kXyOsAXl7rhOAZICxqBMUFxnLNCf84Vz0uZWiAbgWyA3B8PjGtNM2jFs34s4wRWEA0suxhDi7jYTkcOCudb5DsCgBkP1lwFYDg4IQAIiQy15s+FnLgPICNW2pmB+AJ+hNAVKCpwKgGpu2fcU16RA2fVbAwfCIDjQbGNb2Vt1HiINuong2H8m8MsAPIgMdoOuje+Pe6cApUlEFOTgd1TQULfV2xkeDp5VQZZGYNLKxGykv7GY5VkdjkaoM3ybAFgOxHZg+OSXjI7r2gEb3gRiBClK+Pe5HQOz7e+sxrA+Co/rfsbUnAUBeY3msTkkfEuCRwwGrHork9IHYSjDCg9dGCM4SqzwyooRH7PstrgdjJwvnt73WwZQASzPPUtJYQVvKbFjQZFoECQOtMPBrQjj1+cAHghHhwQcig9d2DLT9zpNYNsQ849YtBsAiLJOtxxA0AhqQRjRP3AUs6fo36hmDljG6P4RKiH2Z0TxEySPjAqsnERJPDqnKxaE1cekE+gDl3+YAYYCeAAd9/vB49aDSdko7CM1YoEannTQ/1Ueh7CWhGWIQgbLuNCvDGVLzVpoA5pFwzAaqn9bZdtmk6uyELXHCeZtFptcDI8S1gXcHAUSu9ml+G2zEQE+KTjJEmAFm80UuAO19nr1/JsQ39FkADAjbCGC4+RcRIj9n8CcAvyOpOMMAyoxwAAAAASUVORK5CYIIA"},2008:l=>{"use strict";l.exports=JSON.parse('{"id":"platform_0001","name":"interactable.platform","type":"interactable","subtype":"platform","width":2,"height":1,"texture":"/assets/images/interactables/platforms/platform_0001.png","collision":true,"isMoving":true}')},2010:l=>{"use strict";l.exports=JSON.parse('{"id":"wooden_box_0001","name":"interactable.wooden_box","type":"interactable","width":1,"height":1,"texture":"/assets/images/interactables/wooden_box_0001.png","collision":true,"renderAbovePlayer":false,"maxHealth":100,"isDestructible":true,"passableHealthThreshold":20,"spriteSheet":{"enabled":true,"totalSprites":114,"columns":11},"description":{"normal_state":"Sprite 1 (index 0)","damage_stages":"Sprites 2 to 94","passable_state":"Sprites 95 to 114 (last 20 sprites)","damage_per_hit":10}}')},2017:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABE0lEQVRYR+2WQRaDIAxEZVmP0nN5id6lvaZbCwolKIRJBLvRVeuL5DMZQszzNSzDHx9TAzAWLiF0f9zLRk8VoJTnAKYEUgPI8pVxiwDjO6aYp+03fbcHCDEcmPt+nlIYCEC2WzDaeykL4BgfRAFwSVVY2QOWcPyo1vQfYTZlTcjVHEFjEbgShMXPAkCQXCPSAGDCR7R2HlB2yI7HsKSFsZ18+bX3LMBBeuXuTnlAU38k4T7mXAlWZbzUVKWKYrQ4XfsAosi1ABll+gPUytG6ESGy05j+ClSIbgCBAtJrBhtnBQCIvSqQYQawS4VRXwmAJYKQWx/DFU1weSkVQPaGxdwAous4Wk96JJnpKDEhMc9VA8kXK2Rw5Jv3NokAAAAASUVORK5CYIIA"},2038:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_03.b36cf089998887796c4f.jpg"},2068:l=>{"use strict";l.exports=JSON.parse('{"id":"death_block_0001","name":"hazard.death_block","type":"hazard","width":1,"height":1,"texture":"/assets/images/hazards/death_block_0001.png","collision":true,"renderAbovePlayer":true,"damage":5,"damageOnce":false,"damagePerSecond":5,"damageDirections":{"top":true,"bottom":true,"left":true,"right":true}}')},2097:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_meteor_rain_on","name":"weather.meteor_rain_on","displayName":"Meteor Rain On (0%)","type":"weather_trigger","weatherType":"meteorRain","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\u2604\ufe0f","isHiddenInGame":true,"collision":false}')},2145:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACdElEQVRYR7VXO0pDURB9WYJgIZheLQTdgaJ22lpF7BRxCwER0gYrEVyAG4hY+duBdm4ghYXgEtS5cC7nzpuZ+xLwNUnenTtz5sw3vYfJ4U/z90zuP5qD/TX5mp7p9Dt99vsL+Z0+e3v/bDY3lvK5/Mbj6RI78uC8d3uzlwCIITFqGWwhUC80eD62HGE7PTBgXcK7GigLAAwziyIHxqAzAah5zhcZKJR4ACLgsFkAiKiMwqA9qznEulIOaKS1mEJeDCER+Z2mXSck2zNzAFXAglFVWOwAHGe8JZcBaNrYIJSJJxa9HmNdQLcY2Nq5zkBfn87NHlCrCl1RkIdu1lsAEIHh8CLfH40uGxa2vGd2okRl3aJX7OxufzW5CgbHd4VxKGMQGgB3NQ6DDol2THRDbxXA6spyMzg6SUwwAN1SOXFRlkJ9ZFzuFGVoCQNtrR175xxS9hzyRQ4I8vHVsxmKeQHwPZ1TiQGehv9p3MqpBODsdD1Nw8i4IJ/30SHgMAjjmYEo/ihFJGHU6/VZlIQFgMeXxVQaXfqAB4CznxnTPaBoRDyMIkEojNqrB0DuWl0wMQAAaB6WIHuD+udVbJ5tCnpas6DrFNP9Xn7zjIABec/jGPfgsAnAW0SjDWiWKuFW7TIA1FbMu47fLsMrAYBCLjNNqc4DzgE+0yxZA4z3ihYAKPNmvjWEvArRm7FVJe5KVoupB8TbrGR3tDaqmQBEDUiUe6B0zph/TGr7W+1cGNP7ggZlOVAwACOgi2Orc0InrJU73Atwrlf0VieMjOrm02U5rf3ZKfYBq/atjsZU6tBEyWmVdt4HvJZpVUNtHFt3uD+wrV8YyG2u9XeR7wAAAABJRU5ErkJgggAA"},2147:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_02.cdc61ab2fe1638255840.jpg"},2149:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0004","name":"block.desert_0004","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0004.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},2155:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA8klEQVRYR+2WQQ7DMAgEybUPyP/flwf02sZSrdIUwi6mSiLVyilG3mGxsSc5eEwH68sf4HoOPETWzx9rRlRScHAkvEVCQUIAVpgF2QUYFe8we264AIj4fVnkNs9QK/EgTABUvCuPQKQBmjjjQIu3XPgCQLKHPHeCthDnAqjK3rJar63nPxyoAEAbkDqi72JlAFhBo1HlAUbFXyfjwgDazuZGL6HnjDVfvgm9htP+hwA6qKLZWJv63I2oZ505johj0F1QVQYLCAb4BQT1HqguRepFVAURdcvwUZoFiYTNywjZydEJQYXTAAgkEwOXgFmUiX0CYXFFIWMypoAAAAAASUVORK5CYIIA"},2201:(l,e,n)=>{var t={"./City.png":3676,"./Forest.png":6370,"./UndergroundCave.png":2445,"./seamless_01.jpg":2436,"./seamless_02.jpg":2147,"./seamless_03.jpg":2038,"./seamless_04.jpg":8237,"./seamless_05.jpg":3344,"./seamless_06.jpg":719,"./seamless_07.png":6390};function a(l){var e=u(l);return n(e)}function u(l){if(!n.o(t,l)){var e=new Error("Cannot find module '"+l+"'");throw e.code="MODULE_NOT_FOUND",e}return t[l]}a.keys=function(){return Object.keys(t)},a.resolve=u,l.exports=a,a.id=2201},2250:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACJklEQVRYR6VXO05DQQzMOwIdRS5AgQSHoIOWKyBOhMQ1grgGdFwgBR1HAPykWc2bHa838Jokbz8ejz22s7we7r93v8/h5WN3d3sRX9fnePxaP/f7s/ZO197eP3fXV+dtPX7jye4KO/FgfXl+ulkBhKEw6gx2COSFgudl5wjbWcCAO4R3FSgHAIaZxdgHxnDnCqDynA8yUFySARgBh80NgBGVozCoZ5VDfNeaA4q0iin2hyEkIr9T2jUh2Z7NAaiAN45U4dgBOM54t68BUNrYIC4LTxy9GWMzoFMGspifEl9l0jm5AVBd7taZnapeqNQjxFaGoFSrlgLgdQ5DpSZeTwFw8sAwA1BwTDdkOaoDOG9lqFQyAJZYVRtYfrq3AeBS7BpSeMHvZzI7jFVhAKCWhP+RkgPlQmTrwOPD5doNlS6O98jrWU+z+jFdCTnJRnKtpMwsBPi0HWeDyGhumMn+DoBrRpWHmRJmACCcmJ6aDLn4xNCQaRjJxaPYiJWsxzQAOhHNdrFq7AJQ7NMkh8NdDmT0axUcFZmqJ3SlWL0JemAg07gDoHtnmtfKABDNltxsRnSTkGtgPFd0AMBGlYSzDPB9TiUnDyS4MCu1o6x3E9VJALIEzeYHBpsNppuZcNRqZ7qgUwoz5RzoRrIAwSrQuQ5eacK63NFaoE0v7ugqoRrIND3bdKpuaecBppu94Now+iOStXcX4gXzgDv0F+8BXs/y/0i29QMq/F8fgUChegAAAABJRU5ErkJgggAA"},2251:l=>{"use strict";l.exports=JSON.parse('{"id":"dirt_block_0006","name":"block.dirt_0006","width":"1","height":"1","texture":"/assets/images/blocks/block_pack_01/dirt_block_0006.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},2258:l=>{"use strict";l.exports=JSON.parse('{"id":"lava_waterfall_block","name":"block.lava_waterfall","displayName":"Block Lava WaterFall","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"lava":true,"waterfall":true,"lava_waterfall":true,"swimmable":false},"liquid":{"buoyancy":-0.4,"drag":{"x":0.6,"y":0.9},"surface":false,"swimmable":false,"damagePerSecond":20,"resistance":{"drainPerSecond":25,"regenPerSecond":40,"damagePerSecondWhenDepleted":15}},"tintBelowSurface":16763904}')},2333:l=>{"use strict";l.exports=JSON.parse('{"id":"player_default_100","name":"entities.player","type":"default","width":"1","height":"1","textures":["/assets/images/entities/player/player_default_100.A.png","/assets/images/entities/player/player_default_100.B.png"],"animationSpeed":500}')},2386:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB0ElEQVRYR+1WO3LCMBSUytBCWk6ROyQt4p7SQTI5RUqgJaWy+1YfwMYUKZjMSAwyfnqf3X2SsXdPHv7J9d0AMBQYCgwFhgJDgaHAP1DA+yyUGR9n/9+Zc+bsXfa60lpX7YpbRdi4S3RZAeb/wIRPeAmz7y7xJ3UwhGZYGOgQs7OYmOhjJCb1FgD4HAISVHKXXBoxGdM5iT/UgDAWQ8BVIRX3LsY4ATELAIFNQDEqBIqa1MSqqBNiTZ1IUKFlGZ7WKt0LN7Nbc6p5qiwSZveOgKPRcn6jfl614VaZkrwBoPRQhuA6SBiPzATjpxDMt4AtfMO0LlROCFmLd1iprz2zFLod6RxlPuG7Nt4oDtdX+mMFdl9ATIIJerffm6NtMirBJLxCjcbyVEAeEYHEtTX5UPzoz4IHEHgtAEDKWDPmq/yeaYI2YBmU0kZNyL6yT7j3AGYsN9qAtvEgswGFPWxxemYUYrqU4tJreTkFF+jSN2RFK1r70Rq3wZ0x7lXCav7ItrbBXUcza//eH9cg2A4POTnsRLN43fHcXDCGbVdueoZVKUYqqmfCAwDmgcwmLC7izpPWQNClPHhk7EmFrZ1TLduDotd9DGBZoj+vDgBPV+AX5t3IJBAy0EMAAAAASUVORK5CYIIA"},2436:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_01.b0589e5cf585a593914d.jpg"},2445:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/UndergroundCave.426dca4f513d8006a356.png"},2534:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABI0lEQVRYR+2XMQ7CMAxFE5WFge6sXAtGDoAEKxMrAwdg5Fys7F1YqIr+kNK6tuMUpAopnpP85287Tb2bOPzE+i4DZAeyA9mB7EB24P8cKDZlI31B61uVnJB5QxD2c35L8+xzWWGiAJLw+Vq53bF0s8fQjy5MDEQFgLiUMQAO27Kn/lq6HpAFZDQAFdNeVgGEc0ME0LKHGBxAUBckEAmCBYiJQ6TrgNUNDmIAQMWth1sftxSiBxDLXILhGjIAcXu6EC1ATFzLUBtJrSfQlD8BSC0T1iOKe/P5L4AD9cqzF0uqAG1S6gLOu5wqt18vbAB05MYAUQic2QJw9Q+iuG4R3JVr7XytD7zWfKFWKQCSO9I0qADfZhjbj3FkAVJqnLKWAgHgDQvYnxUVmndjAAAAAElFTkSuQmCC"},2601:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEB0lEQVRYR6VXW1IbQQz0wkkgh8D+Dfchx7R9COAkwVGru0eaWadCVfyD8c5qpX5I2u3t58Pt8N+fLSIwDL7h852gOLshgeOPB96RcRxsO1w+vg7H5zzGqFscUuQtfjt//j4cn+LePLHFpf5Y3B/Xn3H9flqXz6/D9isSeHECExIK0K9VoRnz8v51OMUDxmM3pBE53vjLNQp4eX5seCiA8sH929vrw+0UVeQtESDuHvmeE4GoQL8LIqUZCQqBcVkcGChUeHp6DFAj5gCvkmACnQJBCZyR0PXjlhQMViaEAgEn6N870pHVFRRkcUVr1woKbBSYxcL5GhUAASDKX7vYSNFLclyfzlJPMFHCsSYTXE8ETsFTF5CYjAfc4gEUISXWw3cEZgk6WSRIjcz3ialEMBOYkS248qGLM1YcsqRFnOCbxbqUYbEdWqRgwHivQqhY4ahRfgJTukAaEbxFFRAyAkuJGQcasQiDgqpW8eHz9LGuJRFzgyHHtNkO5EyQfWCSYDs4+gAaEYXGq1Y9DqQNjSCSkJ1wMm0a925xw9BQXGAvWF1SFoEgETNdkDb8i5KzwqlLzh0vE1QndJndLcPGZmBUzy/Xz0DOCZSOVQIOvNsFxWHXO1zCVl02HVTGb9AIKYBOqo07WnMBHjqky8YnUWXo7GRzr3f3s0kM+14pd8TTNHmXAg8PZJgq7w2oOcEUFLvu2oS4I2SURl3xpblA3UzlbFFxiagPEzuECLnTWVRry64ERP5iFSYQwyh52lM0VyBe5JOkaQwr96KdyGIaxjDix/uCqIyzl9BYa0Q9S6sUATAN5wZgyGtaQiYOTI5wBgixydkbs12HCBMBCa+LjRpwL0cYVuFmSJtGhZpWI09xwT7C61MN0jz7wOtjUGDZd7sZ4lUDunvXaPZqvzuu+zTERtSHUVEoqQvr1MdSgrXQHMVFJqDkvIiqXZceSutWAXm8d8JafJhA7/X3dGANTMNYTqINvVGZN2uB0wPDau4Di9jmTlcCcqI7iJvcKoEaVl0/UNS/E3Cvz2VT48ZwRjQgcMKscIHL2MdGRRsuK4d4y2lIChavCglvRIVqQZRr+Vi7k81pbXeFGVttfu01GFZjKe1j1hWlDTWqpS+KSBVNGjH8rZ2URjzRtdiJwzGOlT/DNhGt4mKSbkPubEqn62cFo1tF3338zjBaK/ScaNYUpdWoGLUT1F3Q3xu2tCkteh7vBV5I7rkgRbYMCkVch82ETfxT+0BNgr6+QaTf34hUYeqjiZTjeip/QGGN2EFzgrGU+tXsqIlF+tX24i8O1DCRNKURBD2nTaFyCN1bYcEIled7RdNVb2jzMBqjxud7AmuJ5PwSO93piQvL/t2YNp1eXhcxIoE/DWHgdTufX/oAAAAASUVORK5CYIIA"},2619:l=>{"use strict";l.exports=JSON.parse('{"id":"lava_block","name":"block.lava","displayName":"Block Lava","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"lava":true,"swimmable":false},"liquid":{"buoyancy":0.3,"drag":{"x":0.5,"y":0.6},"surface":false,"swimmable":false,"damagePerSecond":20,"resistance":{"drainPerSecond":25,"regenPerSecond":40,"damagePerSecondWhenDepleted":15}},"tintBelowSurface":16763904}')},2734:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADQUlEQVRYR8VXC7LiMAxr2VPC3q+ckteVLCtxaCi8mZ0h70M/iS3LshPW5ctj/bL/5dcA7su+74l6XXHFmxVm8HmNi9+Njxbc15992etUeONtINHFDt/Ew8GP24dg3gK4L3AO4wxbkyNk/O7Lbb8IQ44Nd8FBPNzByOWt/dMJpts2h8m4uYEVOvVAChYATlY+A/ESwH1lzKAWThA/Yws/vOb/a+YdINM/I/4TkW9gx+ngsivz82JMX4Tzym1z4TRQcBdFm/QERPghC1xLYJRNAA6BztNxALCl4JzLMDIBI7qrGKMKAtA98TfjMEAmZ8IcADDnRWZF6SN/zvUNLDxji4TBIUF0W0rbrDpGBjBn238wVZGw4uM63ZD2KsiozETQ2Qj1i51hpHaeyvPAQMutyy2NBL1B+yMccEArreQaXb0pFRDJgCrnuZjkwcITgEeWkqKJ9xO1H6NMtMkMK8WpaD33qWM2NM6/HKKU8PcXq2qdZwsKLxZcZ7rnw8A4hz9b9AaPsUE1AHAUpQ6lhupV9xBTibwXoZihYZaepyhNHNkzQv3J8NiweoEYFwHoqWkXcjee1oJzgbVixuxXlPfU2X7tkHXTGlJgig/0FrWXy0JrD7xVkUFkX2h9Q8+PDFgDzi+p773dvuTewpQ41ftJH/eGljLcowXHwm5L+ZgzkB2QLZUNhobZ25kCCtHsZDOJZ6GX6BkUjXYMA9A82FkBEGmRZtg5YxedM+DWwYXKP9Bm2W7SqFgJo6WcqUMsJqA6eEc7Ai81cdSWPKyIStCEYVuNckonfB/7Pi8iI704uY7vXA2ex9as/SQ2q8HncONmJEN1X8+6D/w9Fto05VwjUoS0gSRGPk31ngI4lmJGSUftJOjIDaqSK3YSZ6/csi2cAuDCdv4zN4Ximl9f+2AS+8T6yAPMZKaqYhRJj29cEEwc8sutt3bGFCiie94Tasv2yQbCPji3jGaB0ejzfpriqkc05bobYplRA5aCLs5OyFNURjQDwXctwrO22Evz1MfpSzrDARNVVMmYLEkg/fgmiJ98UXkLIISJ7wY+FZsdBy8DNeu6/+Q7wakGpsJIMDXP1ffZ8fuVvY8YeLX4fzz/OoB/W5ufMG5kQWcAAAAASUVORK5CYIIA"},2735:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA7UlEQVRYR+2WPQ7DIAyFyZIpt8zWA3XrLTNlaeQBiVIbP/9USaSyYvl9PIPxVE5e08n65Q9wPwdey/Ie3Zt120yHgoM14R4KBVEBrMJWkCFAVLzCjNwQARDxx76X5zxDrUSCYAFQ8aocgXADkLjFAYrnXPgCQE4PeS4E9RDXAsg6PWd1m7vd/3AgAwBtQLVCYQCrYH81QgBRcYK5N0BrJ7lR75DkDLcfckDqB24ASpj5Erhc125E1dIMF7jyQH9BVhlCAL+AMM0D2aVwTURZEFq3VIdSL4gmzH5GyKChvRBU2A2AQFpi4BJYklpiDyZMgSFARslqAAAAAElFTkSuQmCC"},2763:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WSw6AIAxEZc8tPZe3ZK9h0QQr9ENLwAS34sxz7MdwTL7CZP9jA+wEdgI7gTUTuGK8ywl5ptQNWmrVdD7C2LwHRKOhAsgwVBqUMbwIfv4FIBGQLK8aZOtTuANo68UMoDXECZoArOYZ5t8AuEWh0FrJ1O6bEmh1RDdAFvRoRQCoaZFzwAuAmhUswEgI0S5YAmAERKswyTXrUZDcAmP3vBWCm5YsAFS0FoQzBl0xgBREatwNIPkf0JxRJ6ARl5x9ANkibCGN1XqfAAAAAElFTkSuQmCC"},2789:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAGQElEQVR4Xu1a7ZLbMAi8e/+HbucyUYZgYBck24lNf3VqSYhdPhalvz/951QEfk+13sZ/moCTg6AJaAJORuBk850BTcDJCJxsvjPgiwj497zrWaRdwf7GhyyYEQhHAPTt9v/u/4Z5loC/JNgc8swM799XJ/m32jfvXSHAIuEo8AeZ2t6n23fvt4KAPZxHZ8rvaG0lA9GZGfthaa4SMLJgODdzjgUQA4Dc96n2YV+cvTgCqhJ9iFzp1Kfbh/ebJSBqylXw9T4dRUfX/6p9CP6foysIOIIEJitW+eIFziDCws0KCgrflZemGJ9IC1RPj7LvATvsZxr0sgyQEbqaVLbRI4Iq3FtRH80h+q4wKFaCtbIUVcGEDpMsRPYjG9a38E57EEDVPgWEjLTKfjmgVfZn7CMCtP1DCahkQTXao2aZCaysfZRlqSzIXJTM3ssvQwSkBssmIB8vFQLcytAEHEeASUITUCOg0uibgDzW7o5qGdqQ0BlQYyWrnKSVN/KagBoBs5P/i4QmoE5AZeaRA+MD+yZgjoCZ3Y8saAJmIJzb2wQI/PRbkFUdkPJB3026ZjIgepadOZeNqxn7DFjogU6e4f0dvlfNAJV9FWSBZddV7WclpLc+Aj2y8fZNElC5WEQgE2VaH2eEATo/myEM0Jaer+57nKUBzJBQBSCK8L3tM3fWuCAi0Xd3CPOijQUBOVPRybLuovJYsY/2aPvVMrfR+89/2JznOYlIQI6ErDspIG2utj9MopI5gvIw++hC1vcM+CMLoto+VUOJjs2AmZGdS/1n0lxHRaZR6lS0wGDTPFOeNC/DxsfZRwRIAKVTXmZUIp0I4sd/ib+kfZYATUSlNGVT1yImKifofPQ9EwhV/ze9KEsA3d2VNyucjxo7Oh99Z8Bfaf+V0ZEKYhs0cg41QS/S72D/3wwBqCYzCsiLPJZUJC9RyfJ61mH20RzgyTOpjNhIZdJcN9s97Edq6nD7TA/QUaSjw4sWFEW6pnrRvNJ+NHOcYp8hwJKi1hvSng97spx5WcHYnwkWlDms/bf7ryJgAPR3nnQykwWoRKFBTA5bwy82W5FtFACs/xsfEAGW01EU6TSeJWCl/cpd9rL/ugtqwtmBw3JyxvGV9jP3QOopox6tzHxljExVRlbKVPP0u67RjONafVSVlQWcB4AnAjxpKnthJnAjAh4/yERseyBnAYpIyNhn1mazkDlTC5FV/ruDWNSUmIjW+yt72AxjGyjqd+w5KEMyQXsYAah0sc7LjPV0u3fWbBDIUsKWa13mNkFQiYoZR6p75T5LWrJkfJz9KgGVNKxmgQe4p5Ciu3n9IYroXe1XCKgCyagItnegSLb0O2ufUWSefatMha8GMwTsnQUrlZN+JmD8rthnFNjbGuYiUVPbiwQU4SMLWftaaqLz0XfPfpQZ8q6vdTMEzJQiFF3svRigrNKzl3323GUEMPIxIwszgGZtW80UvepmbKC7m/bZSMtchF3LAMKexa5DcnYGD0SArhiP9d5bkFVbkQH0nQXpVuvQmwarj6PIsgBtsp6oMCmnFQTT1Lw9WfVy+WzQ+jhTevTQwTa0jn4RVhZomoRI247HMfaHkwZf5bRHwCAB6Vq5jsmeJiAgQNbtqIZHA5gF8DjLIujyNR456P0ihpooq54qv7ihO1/qu1XDtaTUZSYTyTr6UWZdClzGmUzzjGYCJC+7DDlssARI7e9lAGqwTYJBAqvd9dbsO45V1saZzDDIZPNXrvEIYKJZviMxTZmZOb4SxJlLe5MwQwDqCWxf6Ax4IilrdASunhdQ9KNhbyaAvn6v9RyNSgVb/6Oh7NZRr6Ob1eaRirFI8Z4mMnPE10c4ciATiUhGytdRr0GjM9B9L/cdEWABFr2Oammp5SernC4HtOeQR0D1Lcir++jJ4zaAa0etJjxqdBTpGeKs0oQk6m0IiV4rqyomygI0Ud8GeOYZoEqABWIlm25BBtOEdePUAxs6YwCJputbAO71AM/51dKySVBIyx5glSVLDSGFFA1aTYBBgNUYrWlZP9xFvyVkpuZblh62CXuS1MsCRgF1FoiQi/S8Hp6Y9x40JfckTJYgC6jZ6PaeJboECQSsKNfTMsoapKhaljoliBm8ovrN1PbOAhWe/wHRE4h5bbjzYAAAAABJRU5ErkJggg=="},2820:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA60lEQVRYR+2WMQ7DIAxFyZIpt8zWA3XrLTNlSUUlS4TafBtbgiFZTfwf3zawpMHfMlg/PQCPA2oHPtt2tRp2Pw51rjIP/AkJoylCYE0ArzjBtSBEAI346zzTe12RCb+4BMECaMVJ2QPRDZDFLQ5ILvwBaHav8lxYVJdiLoCo3XMNV+Yu4zcHIgDQ3NeVcQNYBUMBvOIZxuXAcIDSzgxDPSSBcXGXA9J50A2QE0ZOApdr7oOILI1wgSsPVxrXZWS9E9QAUb1QTwkHPO+LKKof0GEFH6W9IEiY8qoBtCBa4W4Aa+ej9WYHUEJr/AvvYn0hrfQsOQAAAABJRU5ErkJgggAA"},2867:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_005","name":"decoration.stone_005","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_005.png","collision":false,"renderAbovePlayer":false}')},2952:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABgElEQVRYR+1WQY6DMAxMHpD0u+1Ke1qp6ncJD2A9dkzcKKqgLckFDgjSgMcz46HeDT784PruBHAycDIwhIHrz++C8X/c//wJoDsDSv8wCQBgnpMLIY7xwI0ATPPkYrj0B6D0p5RcjJ0ZKMWp+yjdwweHm9CaLqWJv/5dALQKa3GdgMMY0OIzdcyRZw7b/aEAEjkd1aHxQidP1wDTDQB3T0nPAFCawXgXsvuVlN0mrJOs9Z+Sw4ZGLZfOXl8YTDATsFuCVducZNZMCsSOW+nSCwufSiAxStTyuzyHSesQ8wn52QW87SMGbIrJ26gEuUs7kzWoTCtwHUMQ9+FevfC2CUv3tjMBIuxKMYYgFMkSoMCAdBEo/2vZNpsQAJDh6LDQqmBk1PSnFdMqQ3sCVJamjvXis7nMeK0zXtZk9ulMrWsOAFxN/y4A2CwsSJ6Xh4UTWYAcGRHulZYM5isAtJYF8iQJ+6DobZnUL6Bd2+wB+5ANo1f6tQrW+98CsMk0Gzf9Aw8X6CHsRdMnAAAAAElFTkSuQmCC"},2967:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABKElEQVRYR82X4RHCIAyFZShdwk0cyE1cgqUqcLSXQggvAaz9I1di+PpIQnDe++1GHhfGpxd0shrrrDlXrgQQ10uTdNFLAPqIpYWEaVBACyCr1AR4PR/HSu+PT2P6rsTYbSS8+P9kR5ggAO03H/YxmuNiwrMMAA1PMQYkydWqNNTQAVAngLwIpA4A8agEmw+AQNLK266ELqTdXemuZ16H5rIs6KHs8yzA1OjvkExUAM38M5EOQBnhyDb8cxYwh0+lwHhvMKiAbd/p1hQA2WH+0WaDBYdXwAiABF3VLUk94SUKUBm1AKICU45ji8bWStjrAXEWY1M6D8DYE/4CIGozWIjwjWhZ8oUoWw9nAXB4LVIAr4nicYy7Ea8e4W6ysTduMQa68md5RyG/HTmxjB/t9poAAAAASUVORK5CYIIA"},3004:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/830253__nicktayloe__afternoon-woods-in-october-midwest-us-loop.8cf51a08e5b09d743c60.ogg"},3036:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACfElEQVRYR+1WW5KjQAxrDgBcN8nMfu3O47rQB2Al2YaeKQLNhKr8DJUK0CEtWZZtmvTko3kyfnqYwOXlz5QSP7EVrnF8vv+r2rvqoTWVLi+vk4FOKeecJuHyq0ld1ymyj/e/u/vvPrAGfkXUBMx5AGQjMC00iwp92+M3+3WLyGEClxslT2kEuA4LOjVQY2qcDshYIkyNzw0lDhEQOP4xjoMis6AdzD2A1Rmc7PquP0cBmQ2AitzCM+njTPnByE6gpzMI9CDwdt8L1QoweoJb5Ayd6EHBCQFVLLkOZXjZ9UjB2/2KqCLA6BuADnmcoyYDwbn3GLXJAhWEbSS6lh54gEBIn5H3CIzgitQFMDGoeeFK3HTIPxcfIwDp8zhqI4IYdNF0ZAIvxSgLV6VFKW5VQPhordTnNeZ+id6A3YMiU96bJF4Zyj8IbBiwnoBq3synWFl6crp3Ya5qbakOys++sGXAXQJXRM89R5hPJRa5L64WVy4VYbnnPHiwFZv8APeIw+HMualhhwxYlF9XkfvI8WYZmgITFMgOoExYnr0koiWEF2qcX5putw9cb69oQJx21vNkvKLiLPiwI4y30/tL8F0P8AF1QPV+i36efia+l4QZk6q0ZxOINHDmC9JzH53OWMUMqCu9QymQCnj5yMPonTDK0LfhrZMgKev9++6vMmE8NI/hAf1AgAraHRmT37JxpASrPFCSsI74rQ3P3c8JaPicrABJ0As0ozpiqOAmbGIMMwVtW/1CekwBjOQRPlD7LVIwDyeN3l561LyMHvLAFy/MFo7Gb03BeuH26C3d/yMCaxvES+qRvB8uwzXgs9Z2W/FZQPf2+SXwdAX+A2afaTCrhllxAAAAAElFTkSuQmCC"},3106:l=>{"use strict";l.exports=JSON.parse('{"id":"open_area","name":"open.area","displayName":"Open Area","type":"secret","subtype":"open","width":"1","height":"1","texture":null,"editorIcon":"O","filterColorInEditor":"rgba(0, 0, 0, 0.4)","filterColorInGame":"rgba(0, 0, 0, 0.6)","renderAbovePlayer":false,"collision":{"top":false,"bottom":false,"left":false,"right":false},"canReveal":false,"revealOnEnter":false,"description":"Open area - blocks always render with filter in background (default visible state)"}')},3124:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADNUlEQVRYR8VXbXbDMAiLu1Mm91tyytVDCDB2Prc/zd5bm8SAEAK7ZfrwVT4cf/ozgG2qtQrqAkv5UuWvmJuZT/90PTLYisREVFwWmJ8KRR/XYkAU1DQtD8HcAkDGGiBiMxACLvXVZStAeW8W8/S69X+5YJXgvqDl2piY5e02vYMFKYHcO1W0uCvLKQDQjmp7fQOAUT8XyV4eatYWEwBwNRDEJkBP4xy+WMtbGAbNYu8JDdISepl9iJFfexBNOGdM7ACw5pavCy4FV7EJsp5uLtgzkER6IswOQFM7DaPdVPBduynNovSoOCE0xKIf99D8iMORiZGBuhWhFfRnd1b3ZfpyiQ8FgRbcDsBeEwGky7BdAgD9Sm0SlrvAc/ytUvcZmoIA8S/PBZ1MDAuNYG0GcTQf4v0qqkfcqK29Qathpmz1h5xQ1TpmVsglAxgEu9PJAQsBwAcOMxXngoZ9nr0ioJRHPlB/L7sSZs4dGO51TcwK51L8pgGVALw1HVeyLw8AEkXHkrUm64wh1K7RNsuSfrhz5DG9KwGMFs2SUy71Q0SCGweATw+ET4iPGuj1DV15xbIQewCwlFUQUDAcg44c5/8td6NlNxkBrmoZqQeO7WMAmnPM7+hzzSi6givAkGYtN9CK74qd6FRDZAeB2RWSAJ9H4k0DMn5bC1F8PmjyhqMlkiy+7b1rwrkhIBKYdQIbvNPyHQKwbdfrx1kA6jh8XIzqaOx/axQtnXeNpbbpbn4+kjul+CgGlUDrG1FoQv1U7f/OsPW30u3CdEHyNEOL8aDSAzAWFtlq18oO8ItOh0kTwmpMObIG8jx71VGKAfSx5TQ69fxj7dWceamyPQVH0erWpXjdhjxIIjvyOh+yqYQY+SIFxWDjMMzHLrNH2bAhDduDLuVOenQm6KeFudKxHEEIgoz0p53WJV4aYAdK28xtbB/V3rM+BGCBhoKzzujjOAznwaOASY9PPELXqXka5/TFCIKFsHLE7hPsd/rUVeb56jwI60sABCGaiF8h3Iy6XXgoFSHR7d2J+BEABSHC5Aig474X+jun4slvgscAXDDBSCIuwg8zPttcfb8twVNH/133cQC/ur22MNhhD6EAAAAASUVORK5CYIIA"},3227:l=>{"use strict";l.exports=JSON.parse('{"id":"secret_area_b","name":"secret.area_b","displayName":"Secret Area - second","type":"secret","subtype":"above","width":"1","height":"1","texture":null,"editorIcon":"B","filterColorInEditor":"rgba(5, 47, 174, 0.4)","filterColorInGame":"rgba(0, 0, 0, 0.5)","renderAbovePlayer":true,"collision":{"top":false,"bottom":false,"left":false,"right":false},"canReveal":true,"revealOnEnter":true,"description":"Secret zone that appears as foreground until player enters, then reveals"}')},3322:l=>{"use strict";l.exports=JSON.parse('{"id":"ice_block_0001","name":"block.ice_0001","width":"1","height":"1","texture":"/assets/images/blocks/block_pack_01/ice_block_0001.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true},"slipperiness":0.98}')},3344:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_05.2794b109e4674b610203.jpg"},3462:l=>{"use strict";l.exports=JSON.parse('{"id":"dirt_block_0001","name":"block.dirt","width":"1","height":"1","texture":"/assets/images/blocks/dirt_block_0001.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},3475:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAoklEQVRYR+2V0Q2AIAwFYQBXcP+5XIEBNHyYECztayWBj+d3wx2npjktfvJifqIAC7AAC7DA/gWu47j7fXGW8hHv56QZae+oBST4e0gLGM0hEkMBDd5KWHOWxC8BZJWHBKxbIeB2RpMQC1CABZYXqF/wLInQb7iFwAwJ6/aVYW7D6KtA4JBApAQKhwU8Eh64SwCR8MLdAppEBB4SkCSi8HrWA1utWCGi57SIAAAAAElFTkSuQmCC"},3527:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACWElEQVRYR5VXSWLDMAiMm/bWPKB9VPv/B8R5RJymoA3EJuKTF8QyDCN5+/k8P0+La4PvoVExQAu8ee3aMIHv97e6tkWJA+YDKT/ixX78nSiBkrh0zp/pvvtxE11CVlGaE0gu6gAXc29N0peBQHc/I/FypbCg0kKjxhmyP0QL5kBWr/u7uTUbhLNIGgIBH/e74gASGVwVbCde+tQeUVaoaT7dNAlFHFXCE2pl1TolbvC+oC8vbA3W1wi/H+CPxpAq1ytF4GEQtWmtB2sEmo88N+ooI0qSzqVqgdg6gZBFeUHy+MTGECNJGdUBeD6zDjjJiAKIG9U+0AHqX03rOYCNxy1ApSXDc0ok0BzKSkpK9jWZCtafCgR1Hdpdxxh+wGbENcYknzVVFZnqUUxRlcJ5bIULhUCsXOCsCRRVbyPU2W7pwboFYRZyuGau5OUYLCG725Di3gIGkT/7ufFb1gEGRQd+4UDyJQ4kPQ/XyfSB+pwJytm7Hw9+IKmwaHrzLZXGEfus9X61Ic0sdMbQZq5XnX4vW8SecVL61MBt+kDijHxTA6agLBu69TmjE1Baa7E+IqH4ZsDmj2EvxJO4SJzY2h4ATw1DpBrw0nVCin3wh54yaeUBeAvGIUbsB3QmdKR4Ed7fDPBLqEp8N7zAj8kZ9oLpWomN8b1pv/13VO2LCSOBO4bkRGo9D8zHiyqWvENpKYAYiCQ4YFe6gTdOMP1HlWgeJGb+GY0KLEi9sVqM25QO2PaTceLfEJshq42rq7kIWbcShCyu93Ysp9PqCyKDtOr7wXIX8pP+B4bHYLjK8julAAAAAElFTkSuQmCC"},3540:l=>{"use strict";l.exports=JSON.parse('{"id":"bushes_001","name":"hazard.bush","type":"hazard","width":1,"height":1,"texture":"/assets/images/hazards/bushes_001.png","collision":false,"renderAbovePlayer":true,"damage":5,"damageOnce":false,"damagePerSecond":5,"damageDirections":{"top":true,"bottom":true,"left":true,"right":true}}')},3563:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/tank_0001.46f0b1abbd7b410b42dc.png"},3662:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAtElEQVRYR+2WSw6AIAxEYc8tPZe3ZK9h0QQj9IMtYFK3GuY5UxhiWPzExfrBAdwBd8Ad2NOBM6WrnJBHzuaALwEQ3wJgBsTDgfrv65KyjIIFYOkEG8AKQgQAsWhG8k8AzTiGHDADKAv3tmLr7qgxC+hJSF1YTQBmu9AsG0kMnK2JlVu37UYgsMh6caF1qwWBzQrZ918hqEElAcBWKQglDOuyAbggXOFhAOpskL4XOyAVoL6/AabTUCHqXjI2AAAAAElFTkSuQmCC"},3676:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/City.77ea6f53bc5035c207b2.png"},3741:l=>{"use strict";l.exports=JSON.parse('{"id":"arrow_down","name":"interactable.arrow_down","type":"interactable","subtype":"arrow","direction":"down","editorIcon":"\u2193","collision":false,"isHiddenInGame":true}')},3742:l=>{"use strict";l.exports=JSON.parse('{"id":"portal_001","name":"interactable.portal_entrance","type":"interactable","width":1,"height":2,"textures":["/assets/images/interactables/portals/portal_01/portal_A_001.png","/assets/images/interactables/portals/portal_01/portal_A_002.png","/assets/images/interactables/portals/portal_01/portal_A_003.png","/assets/images/interactables/portals/portal_01/portal_A_004.png","/assets/images/interactables/portals/portal_01/portal_A_005.png","/assets/images/interactables/portals/portal_01/portal_A_006.png","/assets/images/interactables/portals/portal_01/portal_A_007.png","/assets/images/interactables/portals/portal_01/portal_A_008.png","/assets/images/interactables/portals/portal_01/portal_A_009.png","/assets/images/interactables/portals/portal_01/portal_A_010.png","/assets/images/interactables/portals/portal_01/portal_A_011.png","/assets/images/interactables/portals/portal_01/portal_A_012.png","/assets/images/interactables/portals/portal_01/portal_A_013.png","/assets/images/interactables/portals/portal_01/portal_A_014.png","/assets/images/interactables/portals/portal_01/portal_A_015.png","/assets/images/interactables/portals/portal_01/portal_A_016.png"],"animationSpeed":100,"collision":false,"renderAbovePlayer":true}')},3746:l=>{"use strict";l.exports=JSON.parse('{"id":"message_trigger","name":"sector.message","displayName":"Message Trigger","type":"message_trigger","width":1,"height":1,"editorIcon":"T","isHiddenInGame":true,"collision":false,"description":"Displays a message on screen when player passes over this tile"}')},3762:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA4ElEQVRYR+2WMQ7DIAxFyZIpt8zWA2XrLbOUJZUHJErt8o2NSCWygv1fvo1hCYO/ZbB+mADTgelAdwee23bt5ynqdAMg4XzGSBAsQBnMDatHjOEV40d8LY6DaAYgKII41hUephBA7S9gNWFjCfHlwFAAL3HO6jx3vq5qIsT+X0eOizcDaAVLCBOAVZxg/hugnHSp0SRnuHWTA1JTNgNQQo+jmAC4XPceRMlSDxe48kB3gVcZTAA9IFTvAe9SmF5E1n6oTUv4SaYFqQknl2EAtCyocDMAciVr9qgd0CRH9r4BjQZ2If+fK2EAAAAASUVORK5CYIIA"},3880:l=>{"use strict";l.exports=JSON.parse('{"id":"secret_area_c","name":"secret.area_c","displayName":"Secret Area - third","type":"secret","subtype":"above","width":"1","height":"1","texture":null,"editorIcon":"C","filterColorInEditor":"rgba(18, 76, 247, 0.4)","filterColorInGame":"rgba(0, 0, 0, 0.5)","renderAbovePlayer":true,"collision":{"top":false,"bottom":false,"left":false,"right":false},"canReveal":true,"revealOnEnter":true,"description":"Secret zone that appears as foreground until player enters, then reveals"}')},3929:l=>{"use strict";l.exports=JSON.parse('{"id":"diorite_block","name":"block.dirt","width":"1","height":"1","texture":"/assets/images/blocks/diorite_block.png","collision":{"top":true,"bottom":true,"left":true,"right":true}}')},3933:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADjUlEQVRYR8VWWXbjQAiU4lNKOZ/lU9o9tUALLd7mJ3ovjt0LFEUBGoc/fsY/9j98DeA2PtrQEjau00L8nobxa3sfXbiNrbtcv62+VyM+1oBq/hDMWwDdeYcQ0Y9YaHA0/gwNqG6igX9jfA7DJ4y8BACjq9s4yRV+nQc4ZqyxvrRHUJJpMZh3IJ4CsHMbEa2ImEHzmcbLcIPDRHcwkgswwTMA+9TP6cZteLSG0NIhmNb3KdauNIs15DkEOCIF96CfrMR6CNQgzgV6ALClvQ1Tu+AqIlG4KXnTvLS7nHGPKUkQoklHK0ewdcLEBgAjN8nInQAzMuRWqzQAMM58aF06BJBmNjpE7y8SKqwULxOpLc8WgGrcSxCPlC0VhOJzrd8PQgQ25YL7ZALRRgB3mPQ+we9Z2AGwauiIsCm0DGuGYUaORhTURrkFODPENPA/zzF9P3K6yLvZeApA9a4aA/24uM+njAPQgYVwzPjSGStmho3K1C3r1wH2wPuXzP+MEqO4svycfSu+RxcFaDVkMxqsl63yFf0vFsVC3KssFACWrCMk9bZkF0EvaeV+qLsDQ1pYBSzPLF2VKdK2wJb22EcimicMwGrkzW3VT+8BhQFaIgiCkb5wPO/UwpuxeUXaZlQPgSTxtRJWBqSByoCHylkFVJGRrQnzQJ2xd0uzR92QPzqvc6I2pU0KGO0vPq7K5doJlZoopYxUldKFR+cUuiuDD3ddTWbHGnQHhciPIlzQA2ggozP/tuROx1jQdCLJqnNpITUTKQvncpTdsXdRn3lZBaSTTwottZDRqOsFO9npsgfl2XBiOyHolLMZOClDH7a8Ga0aYhdX9AfRYXql+KRJ88Bn/O5iJsNmmQvH8bzthGUEmzU2lEsE5uzWut5ELsCcCXxPcN6pGzKmeFdgG59bAFEJ2TZzJMtRMEL6CULdUm2ZsFbHDHfBLNB0jPZb7+9fUDYAahrWfHI+RUU4f70jiiQdzFIryi8vU6pv2EBjOvg7LATN/Wi28ATEyFzX8ah5eUz7btkLeFx/9mp2CqCDWN2I5ow3B5JHbpYixm6Uqvyyr0VvePVe+BRAT0cRUFYGiWQqqAUZKGciI32K7F9ANjH1kPar5TdLs9dw5SFEub+aPYfb75wn9hfuvdXfE6MrrmWV86Igi1787nW8S+it990B0B4vbVa2FBDy+CTir1PwLcBvz78U4bfG/uf8P/o/8TDrDQcnAAAAAElFTkSuQmCC"},3945:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABmklEQVRYR+2WoU4DQRCGt2kruQpULYKnQvIAiKYODK6p4AEqeSEsAovCHIIEaI7753Y2s8Ps7h2mCdlVTa7d+eb//5nrzJ34zE5c31WAqkBVoCpQFagK/A8F5ldNZ71Vj49tscHiF3Kvay58vLCvmb90rgTxJ4BSYQ2dA5kMgOKy44f7luptdufu+/0rKVgKYjRAruvF2ZIKM8Ditf+8dg5wN7dNBKVBRgHorkt/4xhov31zm+uGYPhMArC6xuW4WHcmoQjgubfjclCGQLxFAMDhcCYVSHWtAVjulCr8famEVMEEmCI5CsB7gFAOhNwMxYrwsyyALs4dsq+Qli/i7ngKdBBhAcGpkCYBrM7DmPVhIk+FtxEMFPAFAfJrMrxSeDYJIHSeiX5u/gnG28OAMoghA8nQ+ZkOXSkLpOzRJIjfWRPSfQxrmgDGho4DF4ULwTM2oLZA/6Z7+hwArOKp0TIBfCY0BO7YH9poRZMVfjeYANorbbsGk/nAssGRCwoB1puQIQKAu1vRapJ0snAuYGZARUYyuaVJwPkBxy8JnAO6cdwAAAAASUVORK5CYIIA"},3954:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADTklEQVRYR8VXW3bqMAx02lVC11dY5SV3RqOXQwjQH3J6modtaTQayWYZH76WD/sfbwO4jnVdG+pu4DSWt+29tOCyrCv+4LZN5yO/0ecWEd5fBfMUwHXczLzcL7ivds9vYaHNGgte1uUlEIcAgu7z+BoA4iAY3ZdD2lfQlQA4+wUQDwHQecR9Bs2/6w1sF90nPF+aGjZaAGBypQyd1sfa2AVwWW7IOemmgRUGwIDR6jKAY7LCVzqaL02CBsbF0pXvu77uPmKR4dWypDEd0XBcpkN7kSoU8xgQ7TgjAH5n6kIv550qmQCI9n5J5ea0jShqjcGop6KqpIMMALJ6L8wZAKgvR6V00q3IoAMHQscRfaCb04HUYR2tMBXGAl7AzORzw8ANFASdSoEUX0bouMCInWAk5nKc34KJAECgCGYfAETWoida5lHO1YBIuQxb//ERj8rZCeGa8i1yA8x1nl1y0bWQaNRwqquQiR9XckRikRqWLAfTuenAnuISc6wcVhDB17iN5dQGwCFakkEtFl6gYE4wB2YMdEc5mubVG0/Lt4GS4MRWAVBKUwebNCQAK780ar3cDJohdkGvTYIJJmIrYNwGLgE4aE+B9QsAV+qeMeCKPY/vqmtjokXGEaVWHZcsAaDyrOgt/wvu6KAJ2jPUN6r7FIS4/C7VM7p/5ojt2ASGiKRbQHMrbD69kfTqqK5oe8mOBqwHMCx1v9wHXGCMhu5CzVF+AqXpUfc2z9MxCdimzaU4aaAKDnFhhKoQtbO4Ap4qFAyQCbtTbJhbxdT6hPTJLO2WIW1VKarNBp+5sbiBABpFV13RbHh1iMgfVNOvV5OJdbMfVOkagO1e4AKzNJQQnZ4EGYJUJfg+wVJOYQbUlwEUA13hXWCxzYbpKNt+bAvmOmOHDFgaUoxzOWzF5BWo4sQ/VkCwlC3KNd1AToxvU5k8wZCpMHa+Oom40r0dFyPqiLXpSHDZsvH86FR0hyhQhB6qzGZh5veJisp1T9feQSRmPgSgqihRymG0U8RrndDdtL6ReHJPOf6tcAhAmmCRRzw1PfbDitldhygOaO9rngLgZGpiPqbkCUE9Z+pMAtLb7QxyfnsJQF8ynxvaiPb+t+29veAomr+MfRzAfxjczTBUxGTdAAAAAElFTkSuQmCC"},3975:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_009","name":"decoration.stone_009","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_009.png","collision":false,"renderAbovePlayer":false}')},4136:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0007","name":"block.desert_0007","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0007.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},4157:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA+klEQVRYR+2XPQ7CMAxGE5WFhZ2Vc3E8zsXKzsJCFeRKhsS1YzsgVUjOmp/v+SVN25w2bnnj/BQAYSAMhIEwEAb+z8B0PhTpDTpf7u6CzBMwOO/5KeXRcllhVIBe8POY0u629lHDaCBdAAiXKua2gQJZQIYBpOo5MAThbIgA3uq1TzsJggWwhNcGrDY4iBUADbcurhnAfgrRAGiVj8Bwc2qIN4AWrlXohQMIOJQ/AfCGw3ho07V8/gvAwHzK7MXiDYDFe3OwDyw0BiQAqn8ESLofFoDe/qMu7srVzoXWvxiwhMNCVgDJjvQ0dAG0Cr7tFw149tgzlgIDwAu/Ko4VNQcqFwAAAABJRU5ErkJgggAA"},4159:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_lava_rain_off","name":"weather.lava_rain_off","displayName":"Lava Rain Off","type":"weather_trigger","weatherType":"lavaRain","weatherAction":"off","hasIntensity":false,"width":1,"height":1,"editorIcon":"\ud83d\udd07\ud83d\udd25","isHiddenInGame":true,"collision":false}')},4198:l=>{"use strict";l.exports=JSON.parse('{"id":"portal_target","name":"interactable.portal_destination","type":"interactable","width":1,"height":1,"texture":"/assets/images/entities/player/player_target_100.A.png","collision":false,"renderAbovePlayer":true,"isHiddenInGame":true}')},4205:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVRYR+2XwQmAMAxF7RoO4GqeBE8O4Unw5GoO4BpKhIJI2/y0hfQQjyJ9r7/RRNcpX06Z35mAJZCdwDT2d6iA9+MSrSl6mIAevG5n8AVa5uG9j4qIBAgeA/9tSASRgAUkcC+DSEACOXBUghUogSMSbQvU2D2XQjIBE7AELAH1BHz3QxtQbL5M9YS2v4R+RyVHwXVENoESCQ5Oa8MC0npA4GIB9ZHsW+VqQ2ntXzlRDdSGZ9VAbQn1BB5XopQhvIwnHgAAAABJRU5ErkJgggAA"},4253:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADO0lEQVRYR8VXa3rbMAyzt1PGPd+SU84aAZASJVt2sj9x+6XxQyIIgKS7Ll8+1i/HXz4G8FpKKYaaC/HRzpbHsn6831sLXqtFsagKjE98saUpeAaFy9ubYG4BIGPEYwB/+lF+La/lLy/gbrdJsGL3HuWekUsAQfeyFvvVo6BiWwDAmbgx0Z0sUwBPo510e2Ck+bDATkgFgNuGzzkKYyRUWHfBxCkAaR6q6q9lwl0jc5xnFgjOWcGTT3znEiUxY+IAwBYq86RsBGsm1DJcRyAzXAdO9wQIIMkSrp0w0QEIw5FTp17B9w6QqoAbimv7U9mo1mjM9Uz1xjwHkBhAJk8DQHMPMHD+4yzgATChmjFATKIrXLEwlOcJAGjHEvLsjIGytzL0AAGGQcnCasQVae/yCIS2wYEtt0GGCgDGU0036iJrUIjSYzdCIO9KVpxV56x5ACBzbFiOwKXNLDQAlTw9H8Zq+KGze4ElqY2zP2IdWMDG2EOMZPEKDFrj9gA85Si52Ajn+PlDAGKjHcFThirj0sAuQy7q3KYrAJWfDgEI9/u5U6+nUF47gVjD8gTROgDTzcgdcj8QEc7ShAEGR5t19FK9ycHYAGZzgE4AG78tS2MmlZ/8IAQvVkLOv29KBw+EbtFk+AA0twEUjSWTje9aA3n8MLaiJNkDOpWmHtj5ZHS9AELs1XQuS2pUETOYAytwvgCHSRNBtnYrExPGpMsZwkQ+333DVNjpwTBut3bsoCgcW35qQiwMI1YfWCZPW3FekhlI6x2Q4mdFzwj91YA0Me86IVoZDvtkRm660J7l6FkcuxwsLu1D9Nw3wofjQKompF7+6kWkFgkOjuzRE4JmgAAzqcVV5qP20cplTIVoZr4YRgECPRnlhUJDncdcgKMhjwowBk6ltvOIekQuzyP9FVg2jryw28iQk0Ujvc3J11uw1dcwcjWeKZf8MXtJ7SToHLxaWaZ5T2sMJb1RJpuUnIRt9bGHzF9OpwAoRxpQI0v0ScgxjAOxAfyW+c2b8SWAKxB1NHeaSKqZ4c6SuAUgEOqS45HC6ZaX6Erjtm53FjiuvQXg4A1GGrblvLj/R2QE8zGAq2z+597XAfwDEa66MO1VPgwAAAAASUVORK5CYIIA"},4288:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADL0lEQVRYR8VXAZKbQAyD6ytD39fLKxsqydZiE8iRzs0czTRhd1nLkuzl5umHr/mH409vA7hP67oK9TrNMx7H3YqvGf/dMPJuQpceuM+MwpAIpND41o8y4thch7llvQbmSwAOHpkJB0AEDHBQABkhWbkO4iUA090XOesAJCpCk+0KZTC1Trf142WM00kGP9XTOiQrIUxeQ6PUCl+vvHEIoNNeNa+QKhPFHAeouXI5MegTAGVuCk8piODIrPMOLT6nRzrDU7H2DEQDMGgfFB8H4nZNn1oamujqYd8h1p6JDmB+aOdl+kAmMNDOYBzTAxnwhnV3ZFzF4BgBeO1txj1INYi9H3YMPMQ/UApx9plmMDYclWCCIIBhwh0wP0ipPlER+DwZcgDYSi7q+3eCYHZGH6iYUHQAeQCfexYM74d6OZ7a61GYW+pUFhqALVXSD3qzzaKrBYhdcI7x3zL9wuYP1ry+M4i2sxRklSxQDsg04jYA3dVFbCMbtHOTBIW5yDysGZLopJCXdI/nJEMyVY04AACpHKaBoEkl5cZruqvBN2mCMc6RZsahhK4Fs+dSeCGB+ztpRSXkZkYp189/1ejtdmkLoAsARPtFYDfRTIiZq1IkQT81GwOjnJPWmqGrg5qSpoV6J92Wrpq1jsVxnd0BP/DsgQfyyI2V4fCxYSLLY3bz6oE36qT2EItRNW5HYPfYhM8NhZqGqz3n5hS66rQbMTsDGMe8S9SJ7VvyUyMKbeMaNV1+M4gzY3m6T1TG1Mjwset7Yv1FZQegH8H7RhOwVMcD4B+35/RNhT7cX46G162YPsgyHJRnb2/dEGtYJdsRE90yWEBDUv2XqJsDz1uxaYfm+ZYZ/YDXJos3DXHGgZNtm/dR/wFEufAMyPnbwXtik2CAUFNKDhRTBZ4NJjKPc9/XJgtH6gFlyJdfSBoI31Q3jqBgZndcb2XL0nPe//FKdggiFQnfx5EtJlCmOqJNh7oegifor/5WOJSgJEkzMRldUsUd4ZCVlO2g5dY96+8vAaSm0X/zcoUoV3rDNumeuLT3pUWdEVRJATPmeORe/GvobQbO6PuO8bcZ+I6gdY9/d12zMJYne8UAAAAASUVORK5CYIIA"},4388:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA8UlEQVRYR+2WsQ7CMAxEk4Ff6cbAxP+PTB3Y+BUGUIZUIcTJne2oRaJrLN/zxXYTw85f3Fk//AF+z4HHenr1+ma5PKmi4OCRcA2FggwBWGEWpAtgFc8wPTdEAET8fI3hfuu2xGaIBNEEQMVzdguEGiCJMw6k+JYLXwBI9Zb1XUMcC2B29a2p+HDACwBdQgnIBYARrPtHDWARLSHUANJYsRNiAijFkiO5h1rulP1VnrsBMJWLACmJ1yRIQMdeRJl6lgvQv2DmNcAAMyCo94D3VaheRF4Qo405fJRqQUbCOS8MgIKgwmoAZuMhsbQDSFIm5g20nHUhyaEtwgAAAABJRU5ErkJgggAA"},4526:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABIklEQVRYR+2WSw6DMAxEkwMQrst3BUVcl+QA7thOEJW6adWUjWEBCMQbz9hRvLv58DfznQkwB8wBc8AcMAfMAXPAHPibA/04E2H/tz+WF2Z1Ad0wE0MIpx5e9oHkCWJWX1UAwxkdYxSwA5R1MLQJ4RRTbWPcQ0BMh4CuDqgZ5EJo6+6Ku3GieCStXJlaPl9wH+BCtQjUfudSPJB31oDECa2Yu6C+gAi4lgsFnD3KVjyu4kClCDqMHBMSN5+wAZX+KxloJ4amQgTFeqlerEe9oEsbqBEaAQT+tAe0aoWkA7mfSYv32oG5F/mxQfVlTfh6DGV1Eyj/3GPeuepc5sXuFlkLO39XgPu2fL4QdcMElA5PWdvKXGl78YvLvOUv9219O3FPqG99kKfvFd8AAAAASUVORK5CYIIA"},4636:l=>{"use strict";l.exports=JSON.parse('{"id":"arrow_left","name":"interactable.arrow_left","type":"interactable","subtype":"arrow","direction":"left","editorIcon":"\u2190","collision":false,"isHiddenInGame":true}')},4851:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVRYR+2XMQqAMAxF7TW8gEdzcnYUR2cnj+YFvIYSoSDSNj9tIR3iKNL3+htNdJ3y5ZT5nQlYAtkJTGN/hwp4Py7RmqKHCejB2zoEX6B5Od/7qIhIgOAx8N+GRBAJWEAC9zKIBCSQA0clWIESOCLRtkCN3XMpJBMwAUvAElBPwHc/tAHF5stUT2j7S+h3VHIUXEdkEyiR4OC0NiwgrQcELhZQH8m+Va42lNb+lRPVQG14Vg3UllBP4AHdtpQh121K4wAAAABJRU5ErkJgggAA"},4870:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_fog_off","name":"weather.fog_off","displayName":"Fog Off","type":"weather_trigger","weatherType":"fog","weatherAction":"off","width":1,"height":1,"editorIcon":"\ud83d\udeab\ud83c\udf2b\ufe0f","isHiddenInGame":true,"collision":false}')},4932:l=>{"use strict";l.exports=JSON.parse('{"id":"dirt_block_0003","name":"block.dirt_0003","width":"1","height":"1","texture":"/assets/images/blocks/block_pack_01/dirt_block_0003.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},5132:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD2klEQVRYR7VXXVobQQzLQnuQwiEorz0LfeVYXCWbQwAnoallW7ZmZilPzffxk8yOR5Yle7K9PH27bqfT6Wo/82t/+3P6eXdzsBIf1fonAb7ajxgbAIwnMNqWB+C9PQiQ9sv/5o793QD+EIATkAYQMSKQbZYTAwDXBygA8FEMLEnaB/srGLpt/rYt41sgW7/Y+oOtb3bo1XkWABnQAdi+yCr/sTAe9Px+tQyZtvCEj+z5czJQ+5lksuUMgKF83vMbHraTioHMXtcvqYEiZqb4qASSJEr0aACaYiCIaJsdhKRFA8jbqBKQlzzAa++lCwTUQ5QAGtAUUzD2p9YHBrpiDmQRoT8cUMDAAw8AtK6VR6EIi5iBoRDx4x1iff7ann/drOtaB6bLMJKNcJYnMBRX2lHHRl8YGKn8p48N5P76YRlajV39Wb4sJCCcoaF7KHxigA7oEqw+9ABUOQoipfHa2c/5zVziJTJdpJO6HAEQ68oHdl6rF6QLyDJqj2AETAZ0nasOAABxgAhUc10ZbCgl+LUTMj8TmVMonc4AKsQdDAjFc+UvzpCIsPQkdiwAxWEL52IUhguyBed/RK8ZrnLrTroWuCOmCww72mUDkyMpzLELDQfq0twWR/SLH6MVV2/QsJh2JiKUQFphEBpCYqNRp+r5O1t5HhtMkL/4vxtRRmGNQ+XTOBb7oB9yWI3cdJKuEdPAapF+pmbBNCX9CQbQDB112rI0sMyRyPViDGIaFoWTlZ2DYxcEwr5wwOQikFTV/nr1VhvMxnDRed+tPOkGlMyU5RiGETZjnS+UwDudDCGHkZzDZg+pEYiYr7qwuE2hobgf+DjJ/Q7Ap+FvE2FeUoZa2hsXmQeYqpxvlxtRYw8Ga1ynkyYSnbAeRj1aRrhBL7KYh0/cdPrUyC6ejbJwLff7nwTDR/RCUnkWxXGlah8qE5+4QBQbGrL9WVovpdPdcUYROuLOoGzUJAwkx7xvjZRDsuAFQO5EfXaA6DthKSgw+J2PfQDvYT7lGzXmLJj2snE5wPvb2qdFruKEDVeRYTKGiHKYlHyDQtT/XFcypYixWCK7FcuELQrpipen7+EBsQnF6tMsbYZJEfpyOnzL/o55bzUum405juMcmyPyIHd3gQhz9EJjp6Bje98aZuG6ivJD9o9BOLQHG9LXnTBdIOOa16+vvnodfXXDdTyoCE0NLpgnaWggbJR7Si0IAw08Tr3eSc6K8krXm0RrgeF4FvCx8budEEoNlA2z6XiNu55qw9IYXZ41TQa6wmoIDpMS3/Td4Pi7Y2dZIkwHhZCTehbi8HvBqpr/9slfFf2xHcf4OHwAAAAASUVORK5CYIIA"},5134:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_002","name":"decoration.stone_002","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_002.png","collision":false,"renderAbovePlayer":false}')},5232:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/tank_0002.7cbe068eab3b3835fd0d.png"},5247:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_001","name":"decoration.stone_001","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_001.png","collision":false,"renderAbovePlayer":false}')},5325:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA50lEQVRYR+2WMRKEMAhFY2PlLbfbA9l5Syub3aFgRpGEn8BMdCZpg/mPH8BMqfOaOuunATAcGA5UO7Aty0+27mffs+dQfGm/+KE1I77HkdZ5TpqABM1BqABalhKGxHkRBLI0iGYAEmQHEHGKgQCQ7FFBLU5C3BzoChAlbhXlef/iQARAqeW0K3ED1ApKCBeAV5xg3g1wtpPc4BrKOaPtuxzIzYNmADowshOQH9ezBhFbGuECMoZvXfAYgKhakF1iTkIZEHUVTS+iqOuwpiX8Jqx1wxLmBGEA1BFUuBnA8xqqLsJoMe28P0eafSGWcnmWAAAAAElFTkSuQmCC"},5409:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_snow_value","name":"weather.snow_value","displayName":"Snow Intensity","type":"weather_trigger","weatherType":"snow","weatherAction":"set","width":1,"height":1,"editorIcon":"\ud83c\udf28\ufe0f","isHiddenInGame":true,"collision":false,"hasIntensity":true}')},5418:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0005","name":"block.desert_0005","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0005.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},5465:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC4UlEQVRYR8VXbZajMAwLc0t6vy2nHBjLihPFfJX9U3bfm5YEW5Ysh07ly9f05fzlMYBlWrdtm/jgtJVi/+2D1zGX6XG8jx5YJsu5bZZGtuOj3fOcDqJe+GrfXx+CuQWwlBVZPIfntKonY2Czf8xtsBIAbt7KvP3cxr/csHgtY2WkHkhYeIcWGwMq1++YOAXA5KS4FrTrV9Nc8TWW3mVtfYEt83beG4cA3qY5or3KT1nKbw+WIMwWN/rQAEcjtl1x76pBdwDelXZgNuRO9yJKaNVdDewLRzC/xQH9VgCBnckxABg0r3Vkmo0dtnm3nn/65+3IK4PEPWFoyPkIAILMJkv33WSVrqxUGZCozqIDYF/kWXEKgJShB1avaEggvZCrZaVhHk/o1eNvleWYgfC7x4aHUan4uwGoFhQMpD0NpEgKXd4mmbKkLDQ00L8rSx0R5GWBEeBOWwWkrKgTWNxoywFABInkkTSqGYKFS2wTqFVelXZtQInftrcPsJ928ZGvM+07YC4P5YNk2cYxOW39AIANH8wfTL6Xz3p2LoJhN+1HCqM3whGQP2Qia+oUWjCSgysdz0kCAsDuQUdL3kHpyRO9gYSjFOPzZsHGrzO0ZwDnfN+UAKQxu2sscUFUi65X/Tt5cMQRgHrsonzXUJJqQgQODtyauBpje49msHkkp0HEs1+vSJgDgeLYqaKE1QAq2Kju21mw3Y+E+fxvzVb7Ain9qK2FAhwsGDR489kaDi+1soK6GcV7BvIsGBli8s6Ovyc5vv8C4MFSMwYAt6LMZnY5GPj1M0OBDMnrbMj2C9ZHwetdvJD4Qgxnvt8NvYHkPOF4aXP2NTJS1w9zHd7EAzoZU+bhazv3fFAdh7t6XT8FQDn4anZ3uccr1RxkGCm1Fy7eBxH3EkDVtZs9/wZQZAFAzKkT76yIWwCUY43fQh5Hj20N3O+P4/aKwY8AaIAMpq19+EMkg3kM4K4fnq5/HcAfW1RwMKPPMaUAAAAASUVORK5CYIIA"},5499:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADaklEQVRYR8VXi3LiMBBL2q+Efh/wlSWnx8p2ICF05mbIMSXBjlcrade+efrwNX84/vRnALdpWRroGbcLl8D3PE+nBX/+eL31goIqmD5Ajdcqrp7rfox98q+H1+EkB3eSDHbGw63AcPUOwMQ0EvCIuYfrv5xwnRcRbNZBcSkmABXdI/3iCx5u77yMsTt4m+4UNnH0fZ6/pttyf6DV+gdk0DRguHklxyaAGO0xOzKAMeGC4Xxf1/PcL1OBD+ftgXgCsNYc8is780wAYf8y3acfMGKRaJPZcCrotcD94HdIqTW2QKwAMLhjJbMmKF5GRnZEG+cs+oEv0Zy8IB3uAQyPvI93LJ18tIr5BGCw03RChj2pXmu3uS8cRjjvWgF5b7lqnlhk9dyfesUKAGirHItuLSr9Kj+DuIhyyxKyxBAeEpTDZCVSnACCAM/L1zYDNh7orGB8geahKOf5G9Iu0jJ024C9PB2YwFEpNWZQzYQGJwN3EA1Nso+bg54yUD8+J/NWDZW+g5pumlDPQKrGxUSYBH2Bf2RkbFANQOrenQ2Tlm9RJh+olJxhAIpSLbwux5TomLn8oTUB7MEHA4BUgMMQsfQvA9lgBic3YzFpugFAsk1OgAG4lspWa/6SoRZ3BUARVrqm6YRijxtCtWaWW5WYEXKKZTAAzJOfWAFOakcCb7ON4pYZF4MJC1zGew807ASn3rwUtNq22KQ3KMEuA7R5EHCBAqAGg891laVhnFG0DUiVZG9VvSS9ibkM+ca2BHNtPu6apS00hglptsfL3mAnvKt7SGu15pqLceaUN9OO+dp4cHluRFy3WquSEpW/derwWC3ysBmlg/QmloMEg6djHrbiaKxy4h/5kMSR0tKXDQYrSu92LPNWQdCSb4M1eePlXgDOGoONc5aie0FMzu8LqJ/lgZ65Gw8lw1g7NRWqfqjZbsWJtzp0roTvbZdpqk0Pps1uGMNyGxe40ILJh9tx4sGtZatECOgmkLdnBmCgQpLDSk5H2dloxtH5Y14rOsYBuNtdSDFZGn1qP/eta6PDK8W0NewHHyV9KjP+sC1HCquz0gODDQVNQ3sd/BBAB1FWq2bTtu1iZsy8Z3Ic/C0AAZEgPdjIxPrXKsVded/ywKYmkiXH9RSggbAY3/mPyOO6b6HcA/M/fv84gH8ygeEwdNgoQAAAAABJRU5ErkJgggAA"},5531:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0006","name":"block.desert_0006","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0006.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},5583:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACKklEQVRYR8VXQYLDIAg0+8vsA5tfxkUFHQmg7R6aQ9sYIwMDAz3Sl6/jy/bT2wCu484pt9fykRt+ui8rZzrePm/rhevIdKUZbXlTFhkQY6H1lH43wSwBXNWKf1XbCI7vE0XnzD/L88MNK+M2rIKXKaJfq0i4AKrxwjGE96OEJQtn9nPDBFA4b8klH8tI1u2UhPWbwAPW9vtMNh2Pk3vYhUvDbctQWSuG5ZkGUmBYdEwAZs4Hl4gBDci6GJ49bxGZ1gw6bAAL7/HQCRC9d6miaSDunphaK4II2Cn38Iq32fyPKEi5aho6AFE4zwBz2FHpcPtJCFSweGFCDgAsOISw5rAX5ijRVlEQ9EhDB/AiAHKDUcDs7qA4R3S0zL1cni/SlCorqhoAwM0tZYQMPYq4F2AWcKFmRLSU6tCEAYDER5qbVcsrACttUJR2u48cAJ4eqmaBMIUHKEKtCHMA+7yX0dWYU+uofFqs0HsaJkgRDQqszmepnhiyjOxQ5wLgg6feT8nCKjZEyTPihNqicRK/UAm9utZ5ohsPPv+sF4AKR+KCYm01ouId6cuk6WEvqJ7A0Ol5opMxKkE5Y6sdy2ZSraaKAN4sN3mhtdnJU6FFjvBGM3fUqdIctOWHNVjQk4QOO74bzlpjOsLZ0B5UZkBlTG5HR/NgeR4CmEvTMRwPL8vzlxsKiEFHAyGf1N9cD6Kwb1Ng8Uzjlf6P1LZt/hHRZ25FIEq4/z77OoA/LEMoMBLbvckAAAAASUVORK5CYIIA"},5653:l=>{"use strict";l.exports=JSON.parse('{"id":"dirt_block_0004","name":"block.dirt_0004","width":"1","height":"1","texture":"/assets/images/blocks/block_pack_01/dirt_block_0004.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},5655:l=>{"use strict";l.exports=JSON.parse('{"id":"dirt_block_0002","name":"block.dirt_0002","width":"1","height":"1","texture":"/assets/images/blocks/block_pack_01/dirt_block_0002.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},5688:l=>{"use strict";l.exports=JSON.parse('{"id":"water_block","name":"block.water","displayName":"Block Water","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"water":true,"swimmable":true},"liquid":{"buoyancy":0.5,"drag":{"x":0.55,"y":0.65},"surface":true,"damagePerSecond":0,"oxygen":{"drainPerSecond":20,"regenPerSecond":35,"damagePerSecondWhenDepleted":10}},"tintBelowSurface":3829853}')},5989:l=>{"use strict";l.exports=JSON.parse('{"id":"waterfall_block","name":"block.waterfall","displayName":"Block WaterFall","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"waterfall":true,"swimmable":true},"liquid":{"buoyancy":-0.5,"drag":{"x":0.7,"y":0.95},"surface":false,"damagePerSecond":0,"oxygen":{"drainPerSecond":0,"regenPerSecond":100,"damagePerSecondWhenDepleted":0}},"tintBelowSurface":3829853}')},5998:l=>{"use strict";l.exports=JSON.parse('{"id":"player_dead","name":"entities.player","type":"dead","width":"1","height":"1","textures":["/assets/images/entities/player/player_dead_01.png","/assets/images/entities/player/player_dead_02.png","/assets/images/entities/player/player_dead_03.png","/assets/images/entities/player/player_dead_04.png","/assets/images/entities/player/player_dead_05.png","/assets/images/entities/player/player_dead_06.png","/assets/images/entities/player/player_dead_07.png","/assets/images/entities/player/player_dead_08.png","/assets/images/entities/player/player_dead_09.png","/assets/images/entities/player/player_dead_10.png"],"animationSpeed":300}')},6018:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD7klEQVRYR51XUVbbQAy0yUmAQ5D80vvAMeMcAjhJcTXSSDtah77X5r2WxLurlUYzkry+vT7s67Isu/37t8//nlrtLrvNjq/4AwfOTw9+dze5Ltvn93J+wtNYW1Y7vA9Xty9bf5SzsZXR4Pzv5WK29zjtC2bCbMQvnF/fzYGX5zBSMNCTcOBUC/6YazB0/fjmBek9nbXQcMfN1nE+ftEJW0PksLPZ+vr262G/WBTulLuHreHiNR3IQ4lbILhcicBPyfg7QuaA2Y8UAAHCosawwSFs0Ga0FqE58GLOr+4yvSLYiBIORnBptbu6fdrK4ECZoQleAH4EPPG8bO0OIfijJ2M5/gcCl8dIgV6d3wuBIMr4wKAb8BRoBLLJ9gQCg6RdToOESi+N4ZYpULP5XWFdaRlxJD8GZ+4LWJEYyPVcwlqogDKchZgI1HORwWqEvUJmyDE1nVxPl8b5KcRU2Vdx4ETQhwl4hwsgoxF1j+B4gcRNmQVHpNAJH12GQCALURItdBsyqbXUP425DI3F52dzlboGFNTDOP9sdcQrzwx/yJwqiCgTOmWpS7Q+vGxy8KifOBAqoIwlP77fvJ5kOOjnIdkHLIXOOzdGRUsZKrPnOtJk2sqBqQSlGHWgOkPpXSHD/YXxQTDCS679VBfvPAd54cDFYJYeU/lCMxn86DVA64Q60ZoNOMJmFihJxbSYRimGDIsjI6P3ZKRUyvXOAU0RHWjQj0BaL3CUJ4BBErB8LMj1kJmoJLPk9GHbdg5JN525BISnQtQ9qAuk0OiO3q5Tp+nwHiSuIicpkF5Rzchjw9kq6PNAoWNFbHaOUOfIPT6+i4RyBIUDombnNerImAeUpPw++vnEYM4N25c5wIlIjefUcuBQr0UmQ5ZiqQAeQVzH/n6314SlUbzixEGS04Xhd0IVhnsK3AxVSJnoSBaODjQCYtT6MDbOxp67JBS2NxmW95lDsJwDR792uPCTTGsgkZlyAqM41KbiqV94qfQcQwWIqaUjScipOGUsdAECIOmYpHtBEASsYxGaaBT4uUe3y7E8FSL7tF3vWgJJqpSpNroiq325O5IpVGDpxRzIyOOO3IFux7mfyBQVs5lZClGI0oGsmPm3HFCv+nfB01FJ7hflDvW983SSb6MwKf3+erKRbESVDuBJvBdwHhCI0+w8sMxNs3qFvlHxKrfvLyZtIurxV6mtvHeZ3siRqXnXe1ALIKMvUDAPWC+IF5MYmzpH+W4ozUjOuif14lI65Q5GGTLmq50sZb3YPliKz/byUDqTtEU3tEJTnZLVy8k4dcMsRAJiNaMqMr26DhIeq8RErolManCuUlIpjxRUhkUwfwBgpMhycbhBLgAAAABJRU5ErkJgggAA"},6298:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_radioactive_fog_on","name":"weather.radioactive_fog_on","displayName":"Radio Fog On (0%)","type":"weather_trigger","weatherType":"radioactiveFog","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\u2622\ufe0f","isHiddenInGame":true,"collision":false}')},6343:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAEBElEQVR4Xu2abW7cMAxEm6O2R+hBeoTmqA2Q3QIObO2+ETn+yE5/FrJM8nGGkjdvPy747/3vn3//w/756/fbbArLfZZ7VPZUY5kOXn1R5/oA6KzmxF4BMFG06iNuu3DvP8r/MhbkLpB7/wB4IsEAEArkPqWoMEYzicyqS1pQAFQn6sTzpJsmtt185DAF7JnkMnMi4aMuSgQGiX+k2i8WFABrQQTAhkm4Z8BInSMVWhSwp+QrCai+X1H5SA0qmOX6oQUFALejABBkcGoFkJPJKFcyrNRnHSqsAFDrQ941vIiRh9VhFQDrCgSAYF+HKUC1AlU9amJqzSr2WFE5qQNSQADcKqCCDIB756iFU2fV6GJYAlCxBfJikmTXjbcSj7sO6HO0moC6vpIkmQeVeCqxkfcGACG4YWVEnZcHoA5/h61V5kcATHZu5eipWtapLSgKmDzGVWSrdhCxnQpIYiMkBvSLGNmIJBMA64tbANw7h5xeHCrcFYBjiBHldRWuax9iX/IQrhTiqGfVrg+AyeHfVbiufUoK6BqkxI6IMtR4SPLk0NGlnlGOls/RJLHRGvJlUQWmFrECjzTcMp4A2OiE0wFQO4h0AelioqRlbOrf7aj7j9aT/x9BRQoIAFLix2sCQLiIdVkQOU3Z/zLOnYzam0TN7piHQ1g96pHk3cmQGNR54445AJ5QOwwA8Sy14xzJkFPW6HR0Bgtaxr/rKYgkXwE8shq1CdT1JOaRvQeA8SJGlGoB4BjmlUsTiYesIZ1O1izfFQD3igUAaZ1JuyDFJWsmQ1w9tqsCjhq8qmU5Bi+JwW5BAbDGEAVsfBc6tQLOcJXvuiSOCu0GULoHBEB9/AbAxnGz8rlCRXJ5AF3HxK5fzSoA7L8JO/w0ADZODuSc23UMfTkA5EMS+UHcAeDMe6p1a/vTxK4OPUpVXVADQJiOjlllAUA2Ve8KQp0+lzqK5dhTvTAiCwoAtV1u6wngABBOdyqGXQE4hpgq50qBHBYaAE+InOHk1mZBUcCatkUBblvY8x7gyEVVlawAR9DEu0k3kX3cgANgkkIX4G8FQE1msvb4zE72V0Ge2oICQDjGOU5BAXAiAA7AjgPFt7WgANhQg0qbDDFHV5L3duWi7tM2hI/6lkKKS9ZU5k3l2QC406kUsfJsAFwZwMivu+xI9VNiNWSN+l51/TKGkgIC4FaBACBtLaxRC6qutyig6/hYGWhCjR8uJQXtirPNggLgVgH1whgAkxfMl1CA2k1HWVAlzlMroJJYBYY6AypxBkCDBQVApd0D4GsFiPyb673ajsRA1pA4Y0FRQBRAlCKtqciz8qwU5IPFJAayhsQTC4oFxYKIUqQ1FXlWnpWCjAVtV+DVAHwAC2I2Qp8YIY4AAAAASUVORK5CYII="},6352:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEB0lEQVRYR3VX20EbQQz0haQQQhHEv0kryS9lQSk2RUAqIY5Go9Fj77gPsL272pE0Gum2p19fbqfbaXk2+3479b/7HRuPbfZ3Ob9ttua/aYGW9Niyr+P/9vz7Gy20Pbr4+v7v9OM7vmEZuw0r7MTe61+sf9kB4Pp2ur5/cD3OD8C2B/YNwFd39cAR3+AG4sLCyAPXt1gv32IvHXq184/3dX71EucdQBqmsw4GDwA8NgCMQ2VMABVSesoHJjxCAUA2e7awTgCRkwoV838xAGcD0LLnpgU4L8jk1u1+XgASeIfXU9CyxMsY4h5CpmiSKSPQAHTuXd9vjUOiStkoDiyGHSdI8nZjCjKoI4sWYrvgXiTdcxEOgEM97N0FB/D008pwRiYu7GXBHDkDLBQi7GTEkZFdaSlW7iH4xCoQe4KOmWNVQc9xuINav7x9kCOf3JNV1K6tu8CBADA94W78dvE6vnPBcO6zkIPjJJHqvO5QzW6nVwOIFCo22AOwiqCn4CUiwAUeVs7GBbIb1wPUBTrwYBfsxTCriAAHhMSaAJq4tQiFkj3cpcfuv4EExARgERoy274hxFXGU21hy1OACBQLBZaQFEIlZeW5R8gi0Gk+WB460HUm3bcfIdWsgs+0WPFw5ncNXFg55GFqxQF/8zqPKJpRmdZh5qw3kyJZ8XBPwmIYLCDEj9bMsvuFEVUNdKJ6QZKsiPhZGQmmK2Ww/KjxphIKV0MC4kKqoxuyELPSwkl5wExQjLo7CVAuZfT5gUp45+IlnvSSTx0oYgSFw9Dajkc+bQ+k2ueF9LB2uIdtHnAfopem0CECrIJ4QgukBADAMipiTQ9UBVynYIUTzoF9lTRee7fdnv+YFE8ETanUzRZmrxEqXsq+/zIj0CRQ5xEBlKF/H+tRF4cFzGDy6X0uRDrOqHHtNUIpo985ko2xMMBcvJ9DSo8bqqpAkKpV0MU1BSuoNg8UB7LZmLV1oOCukGL75BOTKWHlfdKsl3HGLHlGndlejANpYEl1zXQ+E1sVzpC/QmgeZFpMZsDwKyJ4tiqpUy3PQdKYCTHHV7Nwk9Bq63ZQskp5GdAFGtu9BLqQ2KGqIpibOoMrZjtuWejt2EOcQwiiUAR0oVEKgNJZVaLTZ0aaoAPsK5ECjWRHPV3lPzNTIR/tKTfpkkZdrcV/VR1KbwpRS6OHKMdqpoRSXE6yCmoeoP3gi6oAvSKO8jAs19hfM2GGp5CXFM/LVQlriCs5IuF8s8oKC0fzxaSlh2kERvuTr149dJXK+eISzq3vjud7a0bVifKti/ZzKm5Zbh/F4grafDXpKereK0/lQBDU65OfwR/2Ao3lyo/m/5bDhRr5FS8mZ3sxGeqQSDhyzWYWLImMwsH/Qknqcc7Kra0AAAAASUVORK5CYIIA"},6370:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/Forest.fca357eb4a5eb8dcb305.png"},6390:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_07.8e351c94a323d00cde1b.png"},6411:l=>{"use strict";l.exports=JSON.parse('{"id":"player","name":"entities.player","speed":4.5,"jumpHeight":1.2,"maxHealth":100,"strength":30,"maxStrength":100,"defaultAnimation":"player_default","deadAnimation":"player_dead","targetAnimation":"player_target"}')},6431:(l,e,n)=>{var t={"./background/170515__rolandasb__forest_ambient_01_loop.ogg":344,"./background/830253__nicktayloe__afternoon-woods-in-october-midwest-us-loop.ogg":3004,"./sfx/zzox-fx_nite-hit-item.ogg":9750,"./sfx/zzox-fx_sling-selector.ogg":7973};function a(l){var e=u(l);return n(e)}function u(l){if(!n.o(t,l)){var e=new Error("Cannot find module '"+l+"'");throw e.code="MODULE_NOT_FOUND",e}return t[l]}a.keys=function(){return Object.keys(t)},a.resolve=u,l.exports=a,a.id=6431},6513:l=>{"use strict";l.exports=JSON.parse('{"id":"player_target_100","name":"entities.player","type":"target","width":"1","height":"1","textures":["/assets/images/entities/player/player_target_100.A.png","/assets/images/entities/player/player_target_100.B.png"],"animationSpeed":500}')},6523:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD40lEQVRYR3VX22HbMAyUknaQ1EOk+e0s7W/GSkexPUSSSVIXwOGIAyn7I5FEkQTuAUL72+9vt2367XbvDy8f/7afPx5qdLeRW70+xn2C/2yIc/0W44+y+rLVtiMAm7bbvza+5wJ7LOp/YljeuXzaBk8WIAPj7vHf539VAvbObsHb47YGApCHusZ5RmDkgoAv74JQbqpQXG38+fSIjWNg3SgCGI8zEyJ6/rhZBr4Zo24pbkRgt3k3oYaAFEJABFD6NWE0VN7+JAX5kHB7yOS4Xu8sjQ2IjGghNGAUvRhFgJgAKM8ewBChcw05MMBrcjymRGoQgi95nyLspyJW6qEq0NIpyDAjkFjgtj0PF6wKvnwaRU9MewgkU0UAL6dcbZ2O3V5/PYgGyPXACwZxbAKWLmHNpLbHO9AF0Kp5q9sGBTlNIwCEJ7NZrJGbZya+wdltpjacQux15MBqpIARlpqRW2xghaQY6zDD515ompPxkgV4eUcdaN45qgO08B5WMXEkKcGhLRBJ58Sgw97xuhUiNITGmhPPhUDphMnwiVHw3bZLRQoBQMBEZiLiL67G21JqlyqKGS2BRAXCKBiaDSMtGUQlSw20MJDqNVzii5UctRQsATQG4fd0AWDtZ4HkHWPdyR5sxBugqEAnknVTuaboD0sxUfA6EKX4zm+UYqUuEsPynD+F3vIsCkRkrFLLcexgZzxOJcfv5YwA/LQEWhFXQFYZTXWgp9oQSKsMS9pFnIaqkbEBEWA/wOKBUx8xJAl6Gs6ZtIZDo84k9LRDtZT0bLEQ8SjlKVRCkZoLGxKTua8YKp6OacYSCAUCOMTmetAqaXiFoi0qxIbNIymiqSUTY+C4XkWqKB4e11OxChtiXRzHwU2sgqya/cbq8zFEU6UlD5qT2EEcMnIZ/YDvSzIS8moqD85SF2G2bDUPibBnAIWPWWdzTOuN79l6wmaT3SrdF0SkwQlTa4CCYtSBonBxIHWFAIS5kaydZp88bslK9wlEyKXTGnELFK4ZAFtS0uz/R5v61wKYD1PGg46I9kk90D52y5YMUgmCBR+05QsFrEIZ96ELmKcHEC1V1ZFqMBPiF7PhQbMUgZCiIe546ukKAnSBPqw05tKU8OZCvFtK7B3NVCGQHUBB/jgx920NRbgz+4Z0y3xWVLi4Gi4pY9CL9TF19G0Y4dgklFJruVjA/bGczEGRaYRdBPMgyGdv61mKI8sVmvo2FHHQqr2lglmU76OWjcFHpYzvCvSMraXTe/0wwYu1C5vOKojiFy9E8W3Ym9KhpRgvhCSCtg0Oo9YNkcnp61Z0QrDWfmGuE3qWHAl62/4DeVaqdRhki/cAAAAASUVORK5CYIIA"},6570:(l,e,n)=>{var t={"./blocks/desert_block_0001.json":6918,"./blocks/desert_block_0002.json":8359,"./blocks/desert_block_0003.json":324,"./blocks/desert_block_0004.json":2149,"./blocks/desert_block_0005.json":5418,"./blocks/desert_block_0006.json":5531,"./blocks/desert_block_0007.json":4136,"./blocks/desert_block_0008.json":329,"./blocks/desert_block_0009.json":9518,"./blocks/diorite_block.json":3929,"./blocks/dirt_block_0001.json":3462,"./blocks/dirt_block_0002.json":5655,"./blocks/dirt_block_0003.json":4932,"./blocks/dirt_block_0004.json":5653,"./blocks/dirt_block_0005.json":8970,"./blocks/dirt_block_0006.json":2251,"./blocks/grass_block_0001.json":7865,"./blocks/ice_block_0001.json":3322,"./blocks/lava_block.json":2619,"./blocks/lava_waterfall_block.json":2258,"./blocks/quicksand_block.json":502,"./blocks/radioactive_water_block.json":886,"./blocks/radioactive_waterfall_block.json":9823,"./blocks/sand_block_0001.json":7323,"./blocks/sand_block_0002.json":7210,"./blocks/water_block.json":5688,"./blocks/waterfall_block.json":5989,"./decorations/stone_pack_01_001.json":5247,"./decorations/stone_pack_01_002.json":5134,"./decorations/stone_pack_01_003.json":9593,"./decorations/stone_pack_01_004.json":9840,"./decorations/stone_pack_01_005.json":2867,"./decorations/stone_pack_01_006.json":7618,"./decorations/stone_pack_01_007.json":9069,"./decorations/stone_pack_01_008.json":9588,"./decorations/stone_pack_01_009.json":3975,"./entities/player/player.json":6411,"./entities/player/player_dead.json":5998,"./entities/player/player_default.json":2333,"./entities/player/player_target.json":6513,"./entities/tank_0000.json":9381,"./entities/tank_0001.json":8938,"./entities/tank_0002.json":9179,"./hazards/bushes_001.json":3540,"./hazards/death_block_0001.json":2068,"./interactables/arrows/arrow_down.json":3741,"./interactables/arrows/arrow_left.json":4636,"./interactables/arrows/arrow_right.json":9821,"./interactables/arrows/arrow_up.json":7852,"./interactables/berry_bush_01.json":7043,"./interactables/berry_bush_01_used.json":8669,"./interactables/ends/end_0001.json":9318,"./interactables/platforms/platform_0001.json":2008,"./interactables/portal_001.json":3742,"./interactables/portal_target.json":4198,"./interactables/stone_0001.json":1521,"./interactables/wooden_box_0001.json":2010,"./items/fireball_ammo.json":8443,"./items/hertz_item.json":1752,"./projectiles/firebal_basic.json":8097,"./secrets/crack_block.json":6854,"./secrets/message_trigger.json":3746,"./secrets/open_area.json":3106,"./secrets/secret_area_a.json":1866,"./secrets/secret_area_b.json":3227,"./secrets/secret_area_c.json":3880,"./secrets/wolf_secret_left.json":7157,"./secrets/wolf_secret_right.json":9950,"./weather/weather_clouds_off.json":8264,"./weather/weather_clouds_on.json":9138,"./weather/weather_clouds_value.json":6592,"./weather/weather_fog_off.json":4870,"./weather/weather_fog_on.json":9560,"./weather/weather_fog_value.json":1374,"./weather/weather_lava_rain_off.json":4159,"./weather/weather_lava_rain_on.json":7795,"./weather/weather_meteor_rain_off.json":8421,"./weather/weather_meteor_rain_on.json":2097,"./weather/weather_radioactive_fog_off.json":8304,"./weather/weather_radioactive_fog_on.json":6298,"./weather/weather_rain_off.json":8312,"./weather/weather_rain_on.json":914,"./weather/weather_rain_value.json":7664,"./weather/weather_snow_off.json":8445,"./weather/weather_snow_on.json":969,"./weather/weather_snow_value.json":5409,"./weather/weather_thunder_off.json":628,"./weather/weather_thunder_on.json":1006,"./weather/weather_thunder_value.json":6756};function a(l){var e=u(l);return n(e)}function u(l){if(!n.o(t,l)){var e=new Error("Cannot find module '"+l+"'");throw e.code="MODULE_NOT_FOUND",e}return t[l]}a.keys=function(){return Object.keys(t)},a.resolve=u,l.exports=a,a.id=6570},6592:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_clouds_value","name":"weather.clouds_value","displayName":"Clouds Intensity","type":"weather_trigger","weatherType":"clouds","weatherAction":"set","width":1,"height":1,"editorIcon":"\u26c5","isHiddenInGame":true,"collision":false,"hasIntensity":true}')},6756:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_thunder_value","name":"weather.thunder_value","displayName":"Thunder Intensity","type":"weather_trigger","weatherType":"thunder","weatherAction":"set","width":1,"height":1,"editorIcon":"\u26c8\ufe0f","isHiddenInGame":true,"collision":false,"hasIntensity":true}')},6838:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADLUlEQVRYR8VWWwKiQAwD95R6v5VbyjZJU2ZgQN0f+VCYRydN03bm6cfP/OPzp68BLNO6rkYdu2d/xMt9vX1t76MNzznOjIO6xXEgkMxzjAKEJ7l0nh4x8wm7bxfBYxiSo0LxWG/TMr9ysDGBVy7ny3Sf3jNyCcCH25M1Kb/HATE34ZuYEAciPJqLtZdnnE4u0yujOxfDOJhP/C1WAocEANTrV+vIRbze13MQQwBLxrxCK4HRKDzHYxbMziPPoC5i8JkM0ZTCNjzrMPgMz+2Bje8P24/fU4jBWhwmkw9YidfnGlqJFwAbCbMDYM9NM5yNTfRmrwOyEIYdfmpioAKAx34ftNdED6DJcU+A2id5RZClwrXhiOwkCjPBUDFLUqWpDYWuD8UBgL0P4aQ/q+JuW8WFXgDARsCAvSVzBUJrMb8PQwHo6NfCJB4p9+JB9bSwwyoAEkiM/w22MB2ecl/3pBNtGMoUql2V1fTMm51crUECatORGmAFrEwp/bQU7QpUzwB5WsPIjd4r5VjRiKVNQYI6CYvXjrJnH4aGgUg/WlRcweeCFCo2zINiGelKoCP1C3DwwTSUE3oU1lYHBwYgPsf04DFN6HCX3S7WW4wr9MwQP1k920zYAGTTEW0Q3W3L31hFVlJwsufMmA9VscLWaUR7xMCWiocssEfVcNJXZ0FbVDJiZAWVj+U3e4GzyDVi65HUWJ17ZMD9PWljeU11bzE1B6LXacetDeMtWNcRABwCgCG3X3vf/tu4hV/iazJhWy8RGgBZOekHbUkpAKnUTTwCp3RMUVU77lY5gzQ4WnPZCwKxmlkgcI1XSQYACPOPJvGd9d8935m2Z2+HD3Y7p7uPPIjy3kSnfM8QkQVkswqVWq0Bew3iTTFnHcG47gTHi8kBABabCVxCVH59CRGQakwVf6WuHoXKNcRN+uySOgRQTKRwtEiJVD0fXmbR6kDFR5XgzIqrG/IpgKQTl4B0uQERuyCBrUOKisoQtOHsnlf3QZOZ1I3/tjbdAtmvHc+9uxF/BIBMzLghS2ztxWQXlEK1LzZXHl6GYLRR1/XBNmnia3tfb7iM139M/hzAP4tQsDB/cNzdAAAAAElFTkSuQmCC"},6847:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA6klEQVRYR+2WQQ6EIAxFceFVZj/3P4R7r+LCkWRIAKH9LT9RE9kZCf/1F9pO4eI1XawfXoDnObAu8y7dm893MwUFb9aEaygURAWwCltBRIBR8QQjudEFYIlrEE0AtrgEQQM4bA4HuFhYW6k4AXiij+JpWSEoAFEcceC/r9AsPjzRe5pZnooXYMiBaKUnbbQUSBUuB4MroSea1iVsCfaAhlLgeQH1U6TVARSmdud+ADES1l1AZgNaM0JSADWjrKmIsx8imO/pPcX7TkQsJ7ThVB1KvSCacDoXBkBBUGE3gPXyafvNDmgHWv//AIcTeSHa0ksZAAAAAElFTkSuQmCC"},6854:l=>{"use strict";l.exports=JSON.parse('{"id":"crack_block","name":"secret.crack_block","displayName":"Crackable Wall","type":"crack_block","width":1,"height":1,"texture":"/assets/images/secrets/crack_block.png","spriteSheet":{"enabled":true,"totalSprites":7,"columns":3},"isDestructible":true,"maxHealth":70,"passableHealthThreshold":0,"collision":true,"renderAbovePlayer":true,"editorIcon":"\ud83e\uddf1\ud83d\udca5"}')},6918:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0001","name":"block.desert_0001","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0001.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},7043:l=>{"use strict";l.exports=JSON.parse('{"id":"berry_bush_01","name":"interactable.berry_bush_01","width":"1","height":"1","texture":"/assets/images/interactables/berry_bush_01_A.png","pickup":true,"effect":{"health":"1"},"sfx":"/assets/sound/sfx/zzox-fx_sling-selector.ogg","sfxVolume":0.85}')},7152:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAg0lEQVRYR+3XsQrAIBAD0Do6+f+f2cmxxSFQRMsldbCQjkLv4hPES8fH78z5KrUmtYz8Ixo6gAUsYAELWMACFrCABWYCURnqUToqGl2bvZqpAK1I33C7AFF6iNACvUJE5G1oWRqA3X0LJgV4KqCp0vzfAaCA81UHVPkItggwuhfYMf0Giha8Ifqc2tUAAAAASUVORK5CYIIA"},7157:l=>{"use strict";l.exports=JSON.parse('{"id":"wolf_secret_left","name":"wolf_secret_left","displayName":"Push Wall Left (E)","type":"wolf_secret","moveX":-3,"width":1,"height":1,"editorIcon":"\ud83d\udc3a\u2b05\ufe0f","isHiddenInGame":true,"collision":false}')},7195:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYUlEQVRYR+1VS3ICIRCFA4DXVWNWSYzXFQ5A+r2mcRapClBOWaliFg7qQL9f93j34su/uL77/wBO5/fyff2YJjK18ShFYR02Y4H7LIhhAFY8pXv1z7sQYwNzG1RjAsClpJylYHHF6EMOWcd4cLsCaOzzXbW3S2iASQCAr7E8dCtwfBPfpSikd162NfoPJFAAyG7Xz+5zux8E+4ziLKHbvDcbAEi/hxCfD8CkBwAUZ+GafixMA/lHbAj7AMjiOwuRqVpAJQQMf9NYShB3UiDlVAtV9nUIPBKgtiiA/iB2ZQABZPiKMvZyL7wzCGSOg2I4UKXnA5AA2uBRxkqfn1WJ1oYD7O2kTUP/vmwdQOur7232KRy0IDpzhP0QAFpQQ0cLtB+oBAbQ7PugKwOn84VjJyUZwVShTgL4zxE8Frytzl0AsMFmgcq25c++HB7BBqIbwJ9BmXxgAVgKLAWWAkuBpcAPHXiuIUK5NxIAAAAASUVORK5CYIIA"},7210:l=>{"use strict";l.exports=JSON.parse('{"id":"sand_block_0002","name":"block.sand","width":"1","height":"1","texture":"/assets/images/blocks/sand_block_0002.png","collision":{"top":true,"bottom":true,"left":true,"right":true}}')},7263:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAkUlEQVRYR+2Tuw7AIAhFdXTq/39mJ8c2DE2MsVwQkz5yXYlwOEBOgbeXcmy15kCKNP1ZikvhxwGiEFMGLvUrLIQBZASRXXADtMVaE7O74ALoOx3BeC/iOwCjOWtGrCZMBu6W7HUA0rX3IqABLaFlLGgUywFQwT6uAiCdKG6BgQa0JASgARqgARqgARqggV8YOAE3wcwhwlFAnQAAAABJRU5ErkJgggAA"},7323:l=>{"use strict";l.exports=JSON.parse('{"id":"sand_block_0001","name":"block.sand","width":"1","height":"1","texture":"/assets/images/blocks/sand_block_0001.png","collision":{"top":true,"bottom":true,"left":true,"right":true}}')},7618:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_006","name":"decoration.stone_006","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_006.png","collision":false,"renderAbovePlayer":false}')},7664:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_rain_value","name":"weather.rain_value","displayName":"Rain Intensity","type":"weather_trigger","weatherType":"rain","weatherAction":"set","width":1,"height":1,"editorIcon":"\ud83c\udf27\ufe0f","isHiddenInGame":true,"collision":false,"hasIntensity":true}')},7720:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAoUlEQVRYR+2VQQ6AIAwE4RV+1Gf4UV6h4WBCsLTbSgKH9dwww6hpToufvJifKMACLMACLLB/ges47n5fnKV8xPs5aUbaO2oBCf4e0gJGc4jEUECDtxLWnCXxSwBZ5SEB61YIuJ3RJMQCFGCB5QXqFzxLIvQbbiEwQ8K6fWWY2zD6KhA4JBApgcJhAY+EB+4SQCS8cLeAJhGBhwQkiSi8nvUAN8ZYIdGoG9MAAAAASUVORK5CYIIA"},7728:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxklEQVRYR+2WSw6AIAxEZc8tPZe3ZK9h0QQr9ENLwAS34sxz7MdwTL7CZP9jA+wEdgI7gTUTuGK8ywl5ptQNWmrVdD7C2LwHRKOhAsgwVBqUMbwIfv4FIBGQLK8aZOtTuANo68UMoDXECZoArOYZ5t8AuEWh0FrJ1O6bEmh1RDdAFvRoRQCoaZFzwAuAmhUswEgI0S5YAmAERKswyTXrUZDcAmP3vBWCm5YsAFS0FoQzBl0xgBREatwNIPkf0JxRJ6ARl5x9ANkibCGN1XqfAAAAAElFTkSuQmCC"},7741:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEAklEQVRYR31XW2IaMQzchZOkHAL4Te/THpPlEJCTJFuNNHrZUD6SBduyNBqNtOufz8N+OR2WZV/is67yVb5vz5/l8kvW+JGf67ZpfVlyB55u5fwqa/sqRvUe23eX9VUdwCWjdflhe36HA7qMP/jQ2fvXz3L+SAdhI+6YztsFaoPnNzm//v087ucTQp7jHBFIjCyI+0McKAhZFPQw1o8FN8FBPAS62Ar7isBVjFh0hr2bCQgZPmMIPxDBRRAYwYsUYp0ODuirDXPgN1NABKoxbLiejgDuNUJ0YCSJ29DzCK5Bl18CAfNSafKCZIQwSJDm3qUoHdjFAVgV6yS24Ww3kYRHSYFtChbQAi6wHFdc8tlT8ILBegYkbgi0XNm6cuAVQoGHMttLyC3Yf9tD0g1GfIfnbioyhpUkVAM9DRPEtGLZkAgejLBYbxwSjlyFpFOEgbAEYTpwjPxnjKsICXRA1rR05hjMQeNIrJYH15EBedMKlKGUsejAYdc8E2oVC8LpCFT+1SRomYqKWolVGIxx23MXB/G7oWsfsw5S3uBAKOFANWxSkjWhUewNLUbgFdS13O6BA1EFdrRJ8fZVUhDewTV6OSqdlZJCxQvmFDQOsBfEOceWkGoVIAUgVETwijFMWi1W35bpqZVBrY1KmQstUgkHACMzQ0cQJbT+O3TADnRDE0eQRoom9tdu6DSokhzd8CpMzlaZspIsT/KQSfrPpbavJppBwsLc7JbGMSNhMLmaFwSERGewWAkMAvi6kAcs9n7/ptAR4Zll6ierJGsv8DLsRWLbQ4haIVPXsS5lFN2OZWgcTa3X9JIoYxoTAdnkZAJEDml2s1TIieXSLbXBK1ClnWkZmk5MUshCumkK0I51qqmm7fmdFHtr+9/AEilqE5O4KM66aHEikjIkRbO10JkB+mRISVjscYECVwyR+LAqdYc+53wxK2Gx7VXAjl6QNJdHlldNwBkjae0VPaJhIGEWnACyd3ukltvRUk9MUZ94nAVMoU5M4oBEDGJ2JeE8EENpVliQKQYOViJzFcgqAhhomcKAXjPgUzVHOt9TwihjeR27rMyA980vCGUlfZninJiAnhMsU+8pChnhudptGwdwdCwzm5iNWNlUsA85lm7nI70s9uE1dSRteiJtb3AgLy7X621GiJ7Z7mYpghg0QkhKIXholUt4zoGkbbYvrc4bCi/WBw63820kThd0IKlS7JLp0oWB4fLhDLQ817Zd5/5SvUE35VBMRGOCazOKqSdJhsswdELLe/ElUZoD1J8KpL07zgSPVzMpc0oxhlLLd3t59Inmzfhd5wE93XVmkPIc5cAtbLVe4O+Ghf9Ounfd0KNEiq6SojKlFQD627UtzEL2D+UH63KPja5GAAAAAElFTkSuQmCC"},7795:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_lava_rain_on","name":"weather.lava_rain_on","displayName":"Lava Rain On (0%)","type":"weather_trigger","weatherType":"lavaRain","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\ud83d\udd25","isHiddenInGame":true,"collision":false}')},7800:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA80lEQVRYR+WWSwKDMAhEzSF6k97/am1j/OZDhoGYRV0qkccMoOH9Wj7LxCvkAOEH8yRRAXAVo4CJZPFm98LLEAG6eRwCeABYDZlyBeCltkvAK7DlRtyWYswAWg1yGEcARIsS1xGgrcVQC7i6T9i6Ak4jhvTHIxZIIBSAVfbbup/3NUxl1DdhS7MBvUFZsPI5wYhT0Pe6HXE+kd+SAfRTHu5cFVCoMXAV3xsHLcW4iNA0wpqeN4YJip+CdHwbB2Tp1mN4gErjaXFiPAUgJlJMhIMFvPT7SX4P2HNnTaiUrvJzRTUk1QNw8UBRYwEA0v8AkMb2C1J5UiLYU43dAAAAAElFTkSuQmCC"},7852:l=>{"use strict";l.exports=JSON.parse('{"id":"arrow_up","name":"interactable.arrow_up","type":"interactable","subtype":"arrow","direction":"up","editorIcon":"\u2191","collision":false,"isHiddenInGame":true}')},7858:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABYElEQVRYR+2XsW7CQBBED4HLQE1Lka/iW/I1+SFaClp6KJCCkckentMy7N750iBF5xLs27czs2t5Ft58zd5cPzSApkBToCnQFGgK/A8F5tvlYL1Vb9+nYoPFG3KvaxS+bexj5ochlCD+BFAqzNA5kGoAKc4dL46/JT+70J+vrmAexGSAXNeLjy4WBoAA9WubhUEmAVhd57KhgRimCsDqOh6+v7odChjuEVugjPwmCgmAXAinq4DXdY3cgJHCWgmtgglQIzk6i0GUHBjes2pZAC4OcnSu5UfxJDsFEZPBqrkA5oiN3mHUBADePsHQKL5YNZ4jsNUApY+X3PxHdUZ7oIgOYsqAGzo10+wld6lBvV2AM4bLY01HgKmh055bvj8B0HLCf4Aedj8PAG+1emnWcut5Zxt0ePWGRH5MAPaKvWdZ02So9BefGcOaAMLXKq6mlHI6IRcwDZAeK2xJ3Icg3gHRrQOc3CcxgwAAAABJRU5ErkJgggAA"},7865:l=>{"use strict";l.exports=JSON.parse('{"id":"grass_block_0001","name":"block.grass","width":"1","height":"1","texture":"/assets/images/blocks/grass_block_0001.png","collision":{"top":true,"bottom":true,"left":true,"right":true}}')},7928:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACXklEQVRYR+1WW3KDMAw0B8C5bpomX20e1605gKtdSQZCADftTKYz5KMFx6DVPuQ04cWf5sX1wwZgY2BjYGPgfzCwPxxzGM2sLHeK/Xr5+FUTiw8PC3fdVwhZtwsa/o1xR1xYzbJ4ewLMCoBT7rpUinIzKlnVzGu5ky/aNpb1Rtavl88qZmY37Q+nnKTrRmqwca0lxRrBYDcGRBnoge0EDO5qGFkAcMwpdVYVKNC3863Nak39zoSw/YHy4OXX87JHHgLou5duy6uBwKkYUOIbAK8wo4Da2BLQbUGOGQBH0b5jh410CM/jBgywnq2heTCg+1wm2WOsQC54Y0mKWQbg+qHUAypYDd0SkkWAIG0T1qiK7GFS5G6OhQkA0N8ld74by3VWEzqyUVEpMjKr2SLLYhQpqgG8ydBJBAC6jVvSr28EvZ4Mz7+nA9v9GTDUsntSUQfgTbpHzwnZ96KIHciWTjx8hW11x2RdtYcBm9UojiTA5PPBYxJS45I2p5/CawJLHIdpkcUYl81n1Ix/lIKBlMR81pb+8xvNgINRBJYKGNJGBGWQ69juVrs3mziWECiBPNwJCHc9FhA79YQ6ezQPINXddET3HEIVZ8M0Be9gASbsT7zR6DXF/TTsnd8nJjL7T54FiCEaJQuAUaavCUKKfSR5InUTnO8n5NoIfugBXxwew0xESYHlwJx5nwB0jk/NIbQIoAeCoSSmpANsBvg4NilgCT14dDL+pPjEhL0d9UrlyIGnIllWi6PUTora7xPGscZw9+9fBTAEYSITACEIoNu5zmiPCldJsPTgX333DTprTDBdswEAAAAAAElFTkSuQmCC"},7973:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/zzox-fx_sling-selector.e72674ca2ded3aca6a78.ogg"},8047:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAiUlEQVRYR+2VsQrAIAxEzejU///MTo6VDIFSUjykSaCcs5LnSzylFS8prt8IQAM08E8DZ+/XMQZ0OWjTTlgphJ5bgYQBGPQKJBzgDuLZSANQEM9GKoDXFjGqnUH74kyJAWuHzkQ6wHMOUgG8gEoDeEvHcIDSIEL+hDADSHF9DWEAaEYQgAZogAYmD+Q2I4VezdAAAAAASUVORK5CYIIA"},8097:l=>{"use strict";l.exports=JSON.parse('{"id":"fireball_basic","name":"projectile.fireball","type":"projectile","width":0.25,"height":0.25,"textures":["/assets/images/projectiles/fireball_basic_A.png","/assets/images/projectiles/fireball_basic_B.png","/assets/images/projectiles/fireball_basic_C.png","/assets/images/projectiles/fireball_basic_D.png","/assets/images/projectiles/fireball_basic_C.png","/assets/images/projectiles/fireball_basic_B.png"],"animationSpeed":80,"speed":14,"damage":12,"lifespan":600,"hitboxScale":0.8,"collisionWithPenetration":"true","collisionWithTiles":true,"collisionWithEntities":true,"maxBounces":3,"bounceDamping":0.6,"ricochetRandom":0.15,"directional":true,"sfx":"/assets/sound/sfx/zzox-fx_nite-hit-item.ogg","sfxVolume":0.85}')},8237:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/seamless_04.228c1b290f6042f321b0.jpg"},8264:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_clouds_off","name":"weather.clouds_off","displayName":"Clouds Off","type":"weather_trigger","weatherType":"clouds","weatherAction":"off","width":1,"height":1,"editorIcon":"\u2600\ufe0f","isHiddenInGame":true,"collision":false}')},8276:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGqUlEQVRYR22X229UZRTF9whSsHaAammhUkl68QK0QiVGi603isTUByIKwUc1RH2ivuELf4CNRpPGy7tEpA+MijReAME3wRav0zbBYi9DtUintZSA4/fb4zr9JJykOdOZ7+zL2muvvU9qy5YthcoVK+zWsjIrLS21dDptVeH/mdk5GxwatCWLF9vs5cvG1bRurd11z7320cGD/n9dbZ39MZGzuStXrKWlxbq7u622ttbKly+3v6byfr6qerUdPfq5Pbtjh01O/mkTuZxlBwfdz9TUlKWe3727gPOhoSEjkMqqKuvoeNqOHz9mbW2P+J2A+n740Z1Wrqjw/wnkUnCCcb7D2MzMjDsvCUFzJjs45METCM9z5/q4p8d94TfV09NTOHv2rA1ks1bf0GBjY2O2cuVKN9jf3+8HX3jxJQ+E3zY0NTk6a9bUGM+tX7/eystvswMHPkwQzF2Y8Ix//fknq6is9N/JnntvCHh4eNgTbairs9TLr7xaUGY4oAyzl+cC9CWWGx9PDo5fuOBBqUQgkMkcTtDChhyfPn3GMyVIICd7ylW6pMRkB7RI1BEgMozh+J9rV/0H4MfQyMjvIdLapPZkRracEVqxc7IWT3C6ceMGR0LfUQYFYZayVFfXmwXIRh0xeNOChU68dLrMM4YPXDKiOwGDxlyo8f2bNjm8/IZxkRjnEHZZsAUpn3j8seQcNkHGS0BWGATyHc/tsvGR887epeFBjMJaAtFnHIOQWE12sXPI19HR4c5BlLIqEb4jWcrFldq/f3+hrGyp5fOXPOOBgQFrbm4On/NuBCenTp1KCAlR1QVuIVxCQ9/jRPBnMhkrWXSzowRpOcOlBFPHjh0vxAzWAbLi+uD99+zhzZvtm5MnbSqft/r6+oSIYrg6ZOfOXZ61nGNX7R0Hzpki6pkiAuphoGpte9ShJ/MFCxf5Z4KgbRAbsgA+YKQM4oR4QotC3JmZaZsOAXMR+Lq1ax2FL778yp0TBIR0Emazvzir79vQHNW9WEcccKnO3NXTZA4J76ypcdGJr9z4mAsNuvFb6HuJk7pB4pUIkeoXi0exvpkkkGLvZwISDwVefOu1xXDcsgTNGVo3tFRA4u9AwlsssNFZTydIjuGbc0BO+YG6xgpXZP5QIGfWntq2LVE2Zd++9UlH6dMjR2zv3s7/tON80jVCTnxRt6C8lDX1bnd34Uxf3/+ERbXlIS4Cg4Q8AEfQf+qXm5iw1ta2hKzUenZ21p7Zvt31gO4i+4qK2xNFbGpstL4g8Sgt7ewkxCFEy4WHmGaainwPnGYFHzTT09O2PRgXUoiPyEcSzvgQNH/oPEHEyXAedZVAOQkpAUZoGVhLltJ7EMBZDKM6Q4QDUiGoWaHA4QFBMLA0EzSkFJx3AUMCZwhOPGxEQkgXTzTGMGqpEsEZzQU5h4w6J2dSW2kCLesISFKLQ6KogGK7ECAYnaOtpP8qgZxoR2CexG2MnDPeGwMHKI9QdQSoSRzE9TrPDKfXIaJ6W0p5oxlAEAiY7mROy6WDLqCqZF6U/ryl9uzZU9ACojVJg0eiAwpsMRAUItasXm1qP00/DaCYZEgyqlhE9LATOSY4SafinRDVglDcZVCl6O3tdZLeSN00WLTGIbNbgz6AgkqncY19glAZkp0Qp/HA4YCCUJ2114n1WsdUBqT8RJDn6uo7vNVAg11DC6k0RXwh0EQJMc7sVpbt7e3O/HhyAaWCgYiUAX4gx5oJQiNGIZZzgle7U+pkJ9SEihcI7Xw4jbPhexAiiMmLFxNIpRuQTAjUhnOgQvDasLWWM39SnZ2vFdQuN5p4WjYQmeqwJWnHUyZST+2R8ZZE5q1BTa9dvZIMIAKf59ngfAk0JtFo5j7wa9FoaLjbGNksHGJ53Fo1oUV5OYlXNUQNZxI4Zsj3Z77zUlEy7Zs+jHAueEQQyfPo6KitWrUq2ZTFCe17vIjIOUbllOd7Dh3y+bI59L5+E5HVvs4BbcSQA6GIZ4CGVGNjk2/K87P/fLIVa9mI3x0419X1hq9wegcgKL5XEiQdONBZ0AGUiVWqKEx5XzzQ+fmlNZ+0WIyYYMW4ukTjO96mQQcE0AhGOncfx8X+/TqB79y54aR/MahFcyQMIL03wmC64IEHW3wwxR0hRWXNZ/AAP5/Ty5Ynr2zarrwLmPd6CKbHr1RECXk0avX6pdZkktL7OiO5ZfCo9hDwyGefeP/DiX37Xncy06KOAIqG1CI+QK46Xe+cUnChbrHUqhyCnSC0jGpmEOQ7b7/lzkGUaYli/gsGqL0FLGLzYQAAAABJRU5ErkJgggAA"},8304:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_radioactive_fog_off","name":"weather.radioactive_fog_off","displayName":"Radio Fog Off","type":"weather_trigger","weatherType":"radioactiveFog","weatherAction":"off","hasIntensity":false,"width":1,"height":1,"editorIcon":"\ud83d\udd07\u2622\ufe0f","isHiddenInGame":true,"collision":false}')},8312:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_rain_off","name":"weather.rain_off","displayName":"Rain Off","type":"weather_trigger","weatherType":"rain","weatherAction":"off","width":1,"height":1,"editorIcon":"\ud83d\udeab\ud83d\udca7","isHiddenInGame":true,"collision":false}')},8336:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA70lEQVRYR+2WUQ+DMAiE8cXs///axZfNJmvGHMgdZVGTNT5Z0vs4WtpJDh7TwfryB7ieAw+R9fPHmhGVFBwcCW+RUJAQgBVmQXYBRsU7zJ4bLgAifptnuS8L1Eo8CBMAFe/KIxBpgCbOONDiLRe+AJDsIc+doC3EuQCqsres1mvr+Q8HKgDQBqSO6LtYGQBW0GhUeYBR8dfJuDCAtrO50UvoOWPNl29Cr+G0/yGADqpoNtamPncj6llnjiPiGHQXVJXBAoIBfgFBvQeqS5F6EVVBRN0yfJRmQSJh8zJCdnJ0QlDhNAACycTAJWAWZWKfKzlFIVEIV/gAAAAASUVORK5CYIIA"},8359:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0002","name":"block.desert_0002","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0002.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},8421:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_meteor_rain_off","name":"weather.meteor_rain_off","displayName":"Meteor Rain Off","type":"weather_trigger","weatherType":"meteorRain","weatherAction":"off","hasIntensity":false,"width":1,"height":1,"editorIcon":"\ud83d\udd07\u2604\ufe0f","isHiddenInGame":true,"collision":false}')},8443:l=>{"use strict";l.exports=JSON.parse('{"id":"fireball_ammo","name":"item.fireball","width":"1","height":"1","textures":["/assets/images/items/fireball_basic_A.png","/assets/images/items/fireball_basic_B.png","/assets/images/items/fireball_basic_C.png","/assets/images/items/fireball_basic_D.png","/assets/images/items/fireball_basic_C.png","/assets/images/items/fireball_basic_B.png"],"animationSpeed":300,"pickup":true,"effect":{"fireball":"10"},"sfx":"/assets/sound/sfx/zzox-fx_sling-selector.ogg","sfxVolume":0.85}')},8445:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_snow_off","name":"weather.snow_off","displayName":"Snow Off","type":"weather_trigger","weatherType":"snow","weatherAction":"off","width":1,"height":1,"editorIcon":"\ud83d\udeab\u2744\ufe0f","isHiddenInGame":true,"collision":false}')},8485:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACoElEQVRYR+1WS3bjMAyzDmD7umk7XfWX68Y+gEsCIGX1pYkyM++1i3jRyLYqQABIqww/fJUfxh/uBH6/Ag+Pz9uGoGzmVxk+3l/+K+lmsYOBIRVExFXKNizLMmxbGaZp9Cf1nY3+lVCuFjtd1mUwTLDYir22cfExyNitEQExezLOsz/gC7uOb7erkwQOT8+b79QXNmRAuuTAkwl+L2opVMyZpwnTjjdaVAmY/KsRCADKn9i4IRdoAWvAtXo1TCMtuoVEo8C6nKrEAiChDITsILNUBKswPtM4Q7VeOxoFlvUE+WGD3igOTTYzp8pIVEgQ9bAe31+7qgWT3H/HXEwBIouAb8WUQCjDD/sNG/BCqMwC76dpxvSPjlCSgPznAiRAHUgkcBj2HQHeyg7aBM72O5oVvs41JZKA7z6kreXG7QmXFQdGtfpUoEaSI15Mx2iVcS2Q1QL7B1igslblCZyIAMgACMpfYesRm9YKf3WJRBtCZMDtrqvuQTMGwGMpemOCNdm8NJZsXpqXbEgC3glP0Yg8aA4hTau0VKCgUWnbkoR4zAf46I/P9FB+17IbBXwNZEEEIpBsQuGxAlC7AFq2ZyAqRa0K6XWFvEteJeDgoQJj35oNUmo+SQVcGMps4fvSlArjbGH8piRTASdwePxj+pXsB9iVgpfD6ANfwqjwZElSBWZl6iUAEmpKq3dFX0ApjM9T03zCjWDZNCbm0v13Jl0KcLtqTEYg5IUI+gjV8DF0rP/Yaw0f4f0McbkXNBbsCXDsh5E1A5jltvc+vPHZOhe4bNi51ugqwwDf/+KQgs0ZkTioRIXUZh046n4CviD7HuOsAl/J4KjWXJQXOVFGPOlx9X6KYe25nfc8q6TqMfLah+fcun9NoIdkz5w7gbsCn6sjhjAzDIS8AAAAAElFTkSuQmCC"},8489:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADYUlEQVRYR8VXbXKrMAzEvWWS+yWnfOXth2TZFAhtf5TpTAixpdXuSqZt+eOr/XH+5dsAXsu6rssK3G1pDXe4bQ1h8HnD3XcLurTh1ZgGl/PmB27igZ7wYjjf35aPS7HfLnLF4zVWDxYyrwCKDmFY8XFf3zNyCiCT3xHn1YkX1VGrK666DRSMmRxc9zeyHAJg8iSbCZ/Lp3UPMvyMySNTVG76vV6r8Xc7YWIXgJPXlclGtvlM1RIYkov9wQv8HXHw0HocGfQLABmup7feMJQTRXXdbMF9BTGEV/tk1QGwatkDMQGoysPdhb7okB/+BcZGjVVpb80O0ny9Fq6dpJtyTl+gW4ebNuNmJjHdUzUDEagcYGVUyh7LJBP+nng+eOcMgLWvFavo5xObSv2tAcSglqTkIdCESLC3hr1YR/n8XMXsA5i1p/9XLGbyQCRNGWwzFdzv0RFerhlA+pGcLUysNqRCTIbsaJ4wnwceq7Bqt+j/cryDcDSNxlOXwHhN/EcS7kXl9/VD0dLEUVjf3m/gXDdSABW1CCrECkY5orU2XUKmGNhJ6IdleZAVSOVusBmzUUcZBgAeuepCJExaNQU1Wz2WmKw7O3Zzo7vBAOSNLXvqqIxRPigAw/Ap/f3zE+izK2y6aDrR7fs7DJdAk6mciPzNnZBz5QxAaBieWx6xrSeVFAhIZeWHfv6IBY+OMKw49foyr74fe2A6YhGIGvJwoSSactEFpPi5judDtSxRsAMkhToJbSsrEhxj7QHoEmw6QWaEgQSAbYU5oCrt9vmyD7IZ+DtZYYfkhvDRVwYYSKM4ae3R57PACQ0yL7KRy0sqORoM5qAKcx4Nog5gSuCJIIeHi3ve/jYUMHoy694PMVYfmF39wSQcGZCzsS5zPqR3HjcZL48Yu1BeSRqGYST3D3JtT8TiMQrRQAqNNdmofMwFg4xe71K53gc7IwZXSpMW2Wu/XPMFwMxEcGf7SnZNvc1booJp8PjQGYO6Bp0ru7l2H5YfKpzcMJgt3jcUvJ5nB80gzl7XDwHMphx1V7lV6U47mqww4ps341MA+50xKlzb5+nhNVf+UXkLgIFgLgywrCkPa3/6tTzDFIwjzRP+qQm3i8bv6AL2nRJP70406IV/RH4N4AzcT367JMFPAl/d8x9Bpu0wB3HqvQAAAABJRU5ErkJgggAA"},8518:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADeUlEQVRYR8VWW7abMAyEdJVJ1xdYZUPnIdkyhDzaj8u5p6HGtkajGdnz9MPP/MPxp68BrPO2TfjzMy6/TvPX+320YGVEzkTcLX5zIdDgU9kGr8R3+xDMWwALtuvBSs4B5DpdhAwgGykmaAOIy9v9X05YpweiI7/YuxLPwHMLOk/L9icAxJZCMU/vynIKQLS3B68sL4fwe90uyPhx0G8rR8Pg8rwC8RTAOiNzxiq15ea3GXRjfCElqrPpJ6h1K4CiPPoWPJ1p4gBgn7lq3DbMV0ADiIWGCC8gwLSIFUzO+a12HsBeh3jDAGuevF6ZLR6Jq4vKrxEjXbECCAHIKiV7MGkJlwT2TOwA9LqjbsjIeHISx1R76SEJluUaMPqUcziX67RHAbVnYQCQljPtpPjRdMB6k/BmtyrQgEggd8z5HeDTKXcAsobnQ39oAFrtEfgGlXOjQ/ag1A7onudrZsv5XEc+HNwPq8AyJWfVFQ0ABIR5RHixmKT0ThA3TGoJwBAQDKmpBHSHVdAel0wNCc6JPkFbsrnE0xlQj3c902aB395PAGQATKT8hyAE3rRhFgjKDultpQpxKMEm+n+NTUYC8mZmoLsjtWLhMcPYTvV2MmQgBa2v+Oc5A1rSA+1PuupzZQYWbgqMNWCIPYFlix4lKLIyhm3HbGxjPxgZwCIrGAvKGUDgDKLNRKXrmqRaE2672Zo4HZmqijjCs2L6/1MGZEFMlMozjVRxBGRa2ZjyFFSAJkkvcFgyE47Jdunh4WwoDLALQmzMHPNMqRcIdWxLgZJ6fkwxUjvuumYgDiB5n72kj/P1xAWRibap2WUnS29TcGTq3poUgUZnLEDUGwQg/K9kjifj0AmfHcEsiR/zKCfo9EOuCgho8duYitOxtXNEyXNpfzTvAOAYDin5xMlmFFkiQjYq+b9cGbJEXLfAkpyXDSuS13YvAbQyyMd516sUA0A7bMxMyiS7oIF0fXTujsFzfVDcf3TzjZUp4LScM4vLh3iVqHwFxS+zT/bqpebsVjSUoCJJPTRfl4+tK4b4GJ13wn6DMrAE//WVLGPxasasqsjym4/eOK6jXddW7Cvlf1xKGwjejLVVthe7LgN0YqwVlSpkUzveoc4xcFqCQzlkdduuN/zjct1m7ZaP9v5o0ggGZYlM7e2otHv/1/t9veCMyn8d/3EAfwEHLukwrmbCWAAAAABJRU5ErkJgggAA"},8519:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADNUlEQVRYR8VXAZLiMAxLuVfCvu/KK5eeZVmOk1LKzt4MmZ2lJKktS7YTlvbhsXzYf/sxgLU9tuav4WNpy2afYeaKiR+Ot15Y27btNgYG+cOGxbAIzrtgTgHczTmcyPBmTxa3z+ipr4scrl/b5dT+yw1w3gkOpj3KvesEMTFzxsQhgDvEHd030Vxl7gDjySzitTRsD9ftODeeAuiayyjCHrcOzAyJN0LCEt48YmIHQJqnzSmiysKtXVyOOuz9sQ5CEszenlTJAGDnPErNKAyjXWAkopxrticnoo51W7xvD+cB+w304PMpAKOrmQxArIp3AJYXXg5OMrS11TuLJAfmFlv8a06Der7bCGKWYgcAwX7ZP5n16OCtOKqJbo2pdDOas/ILh6yN63Jpq7MAGQ4YmBMPkWgI/Zx42iPdrw40+2Qyxn3G1mIgbL2ykF685uMbKpBRkAenWm0uUPUo+966L52278IK7I0NagCgiDjJpKlpR/WhJ2il/pj5CrbwjNwJItrNIvLvCiLStlZDAoAEdMt/yHw4Iu3Uca6wZCUSEuucIytEDztGfUmcQwlS9EBM9D0dneIiiwBjnyjfoQRjBiq7I4PLwIsE5Zh1AH9KJhPaDCDpxbGM0kWmR8GohFElGPUIq5XQJVge2+JZSNLpjLXLoXmjNnSF2DyuuC27YEyxn1iZKin8zbEZDUnYHVm9muawrSglz670osQWo3n1pCRQMOCgaqPq7OwlgAOUoncy5k6RszNzt7JSiaruvSq8bL+dG3duQ+CNWrusAJDt295oxbzaQIaLJ+Eama1G1DO8t1g4hOPamL2K5DwoPG3FolqnXqW8dsLslFlqxoy3XJ4hR6fiSwAugyUjbx5dAo94bgKurw4Y1PzmeouFHYCpAyrQTAZNhHas1OSzx+6R2x8i7ZnBEtVQM2LtUPvbpP1LAErIbEHuCadMtOc4NDJhwxqSDoOZ0AG9uhc+ZUDo/IRE6cCcbLqPaLUuGRI2/MWaOw/Lr+6DBHsyeDml02H7JFG9J9Pkf7iWp6b5a4iGk5bYUKPIw+uN3wRvMTATZO3Z029HnU2c0f2M7FMJziT67frHAfwD2FaqMFloby4AAAAASUVORK5CYIIA"},8597:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABS0lEQVRYR+2WYbLDIAiE1Xf/I1e6y4KSlwP0D3YySURg+SAznePHa/44/2gBTaAJNIEm0ASaQBNoAk2gCYDAtDkMP8LA3Uz/1P2G3bVwhI+CZbZxYSvYzQm7Dof9Ph9/+DIH1874cT4siBYGJlBGCVhIYMwWgtJOoRP7CxdN8phjb/jHce7R7u9ZVxXAQry214EMGQTyIOtwgUcfCLGGrM+8wjpYboe/7zIPBZYVuVM/AuyTDcpEoK7/CRZa5C0JYh8KuPrH/Et6wmSM/xDAosoeXxKvQ81mP2akEIJAEbg9fhCAv9ud9SWUKS/98KLCUoB6GD1mECHMetVjja8G0wmGGGIXwYgINC8CPgMnQAyRi9WQXQLi5gJCFMOmwFSpBGUsKUBDIP/6lWksrgAGtv2JT1LGl4DSLxeAIStf4UkgCSyCBE6JjyHmmS+ImsD+vqXu8QAAAABJRU5ErkJgggAA"},8625:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABEklEQVRYR+2X0RXCIAxFm0n021EcwU1cyLncpBYtAoWQFwi2H/arpw3JfY+kh9LlPs3TjheVAWhBKnFxzwUFLpVbWrgYAD5hIwKbMAHoSd7qmdoBpF1iGEnUEIAYsg+g0jxol5wfefc9b6HB6Xqi6hjGwYj9LiYuKjogAfiiEkhJ6WeUmflbE+cOyGtQI6A4cQugLFBQrCzcRwC8dGkfofo+aFOmwwGbvVIC2BRNvhPoFKhsVgQrHVBkBkP/AEoHDJqwbwx3BwA7SxEGfQlDPgMHNnDKHlhXG3K0ASgslkIPAmBoaap4Xo4jVP3zOYgD0kaZvC/bDDgwbH/esgAAA/m1f8PsPDBW8FeNP+b9xoGKiS86O1zQBMH0twAAAABJRU5ErkJgggAA"},8669:l=>{"use strict";l.exports=JSON.parse('{"id":"berry_bush_01_used","name":"interactable.berry_bush_01_used","width":"1","height":"1","texture":"/assets/images/interactables/berry_bush_01_B.png","pickup":false}')},8815:(l,e,n)=>{var t={"./170515__rolandasb__forest_ambient_01_loop.ogg":344,"./830253__nicktayloe__afternoon-woods-in-october-midwest-us-loop.ogg":3004};function a(l){var e=u(l);return n(e)}function u(l){if(!n.o(t,l)){var e=new Error("Cannot find module '"+l+"'");throw e.code="MODULE_NOT_FOUND",e}return t[l]}a.keys=function(){return Object.keys(t)},a.resolve=u,l.exports=a,a.id=8815},8905:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAtUlEQVRYR+2WQQ7AIAgE691f9l39pfc2HkgsRUHBaFJ6NYHpLi6GY/EXFvc/HMAVcAVcgT0VuGK8y4Q8U5oG+imMm2eQ/wBQfz/bipcFHADenBbWqAAs5kMFsFyB5QB4QGGGamDUucqC2nNuGCAX7L0JFAQASEJNlISWD1esDpnxFiq0lCnP9gSwmgVJjDfXrJUVrbxg97wWggsrFgBk7AXhGkNdMYAURNp4GMAyE3KtbgWsAR7iOFwhru9JZwAAAABJRU5ErkJgggAA"},8938:l=>{"use strict";l.exports=JSON.parse('{"id":"tank_0001","name":"entities.tank","type":"entity","subtype":"tank","width":1.5,"height":1,"texture":"/assets/images/entities/tanks/tank_0001.png","maxHealth":100,"speed":1.2,"collision":true,"ai":{"patrol":true,"canJump":false,"stayOnPlatform":false,"reactionDistance":15,"shootDistance":12,"shootCooldown":1200},"death":{"disappear":true,"explosion":true},"spriteSheet":{"enabled":true,"totalSprites":52,"columns":7,"animations":{"move":[0,1,2,3,4,5,6,7],"shoot":[8],"move_damaged":[18,19,20,21,22,23,24,25,26,27,28,29,30,31],"explode":[39,40,41,42,43,44,45,46,47,48,49,50,51],"idle":[32,33,34,35,36,37,38]}}}')},8970:l=>{"use strict";l.exports=JSON.parse('{"id":"dirt_block_0005","name":"block.dirt_0005","width":"1","height":"1","texture":"/assets/images/blocks/block_pack_01/dirt_block_0005.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},9069:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_007","name":"decoration.stone_007","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_007.png","collision":false,"renderAbovePlayer":false}')},9138:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_clouds_on","name":"weather.clouds_on","displayName":"Clouds On (0%)","type":"weather_trigger","weatherType":"clouds","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\u2601\ufe0f","isHiddenInGame":true,"collision":false}')},9179:l=>{"use strict";l.exports=JSON.parse('{"id":"tank_0002","name":"entities.tank","type":"entity","subtype":"tank","width":1.5,"height":1,"texture":"/assets/images/entities/tanks/tank_0002.png","maxHealth":100,"speed":1.2,"collision":true,"ai":{"patrol":true,"canJump":false,"stayOnPlatform":true,"reactionDistance":18,"shootDistance":14,"shootCooldown":1000},"death":{"disappear":true,"explosion":true},"spriteSheet":{"enabled":true,"totalSprites":52,"columns":8,"animations":{"move":[0,1,2,3,4,5,6,7,10],"shoot":[11,12,13,14],"move_damaged":[21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"explode":[45,46,47,48,49,50,52,53,54,55,56,57,58],"idle":[6]}}}')},9240:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAt0lEQVRYR+2XMQ6AIAxF5Rpc0MnF3cndxckLcg0NJk2MAfoLJGWoozG8x6fa6iblyynzJxOwBKoTWGZ/pwr4vIJoTdHDEUjgbQ3JF2g//HsfFREJRHgO/LeJIogELCCBkwwiAQnUwFEJVqAFjkiMLdBj91wKxQRMwBKwBNQToO6HNqDcfFnqCWN/CWlHLUfBdUQ2gRYJDh7XhgWk9YDAxQLqI9m3ytWG0t6/cqIa6A2vqoHeEuoJPMojlCF41qYzAAAAAElFTkSuQmCC"},9290:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAuklEQVRYR+2XwQmAMAxF7RpO582TI4iII3jy5nSuoUQoiLTNT1tID/Eo0vf6G010nfLllPmdCVgC2QlMY3+HCng/LtGaoocJ6MHrdgZfoGUe3vuoiEiA4DHw34ZEEAlYQAL3MogEJJADRyVYgRI4ItG2QI3dcykkEzABS8ASUE/Adz+0AcXmy1RPaPtL6HdUchRcR2QTKJHg4LQ2LCCtBwQuFlAfyb5VrjaU1v6VE9VAbXhWDdSWUE/gAeqElCEt0Ld5AAAAAElFTkSuQmCC"},9318:l=>{"use strict";l.exports=JSON.parse('{"id":"end_0001","name":"interactable.end","type":"interactable","subtype":"end","width":1,"height":1,"texture":"/assets/images/interactables/ends/end_0001.png","collision":false,"winCountSpeed":10}')},9330:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB7UlEQVRYR+1VQXLDIAyEB5h+15Okp3Yy+W7NA6iklYDaTsDOoRc8mQkBol2tVrJ3//z4d/Hnyy05V8I87l+HYh66XJOdL58ETA9FiMuPS8m7EAK4yElyj/t3M37zwlohA46RQZWBgBYhPJGZmEwHiRMEbmlZFiSas6XEaS2E6Bt8VBHN4FlpDhFA9snFGCGzV0RonkVIzIb3VCEpDT17JLoJZOkp+8TAlr6CsezAS/QpYROYwh87JA4RYLNJpgJq3icIwfAEDB+w/Jq+FoDOaMW+WKvQRcCyX8h4qjbhUcZadAkiqmTVZWHBrVBT+Nio0E0gg5v7VGqW2Az4x4iqirEyUbgUdXs2CeTsRX5IiWAErGtzPYPxjVIBkOP/MZ8wbX3QRUCytweGzw6oagJS6gErC2yhBM54gBWQoQN3lUFnNHhbzpCnGLS6l8sinTBtpmOXAnC/hMeg0ZZDCeA8rLkTiv89/bBxsWfAWsci8Wo1X2n4UJS6A0wGkxZZav2tTaQz0Slhx/3rQj4lwAdcBh6/yF58X/WYmQK9LzbVMWDvA954axTXnVB6ux42BGtzgLbDhH7np/V6bnrAAuXXr27IK1hbLFedxHgl957M3QTqP6/JrAO3sq7vnyLw0jAHDweBocBQYCgwFBgK/AJ8iggwJwhQxQAAAABJRU5ErkJgggAA"},9381:l=>{"use strict";l.exports=JSON.parse('{"id":"tank_0000","name":"entities.tank_test","type":"entity","subtype":"tank","width":1,"height":1,"texture":"/assets/images/entities/tanks/tank_0000.png","maxHealth":50,"speed":1,"collision":true,"ai":{"patrol":true,"canJump":false,"stayOnPlatform":true,"reactionDistance":10,"shootDistance":8,"shootCooldown":1500},"death":{"disappear":true,"explosion":true},"spriteSheet":{"enabled":false,"totalSprites":1,"columns":1,"animations":{"move":[0],"shoot":[0],"move_damaged":[0],"explode":[0],"idle":[0]}}}')},9427:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAZElEQVRYR+2WsQ0AIQzEyGS/BP3P9v0vwWQgISWCBe4aU9HZOCARzbzCzG8IUIACFKAABShAAQpQgAJXgae/U/FNH/9X3Nqo4HnAlNgCavgpES54SvgF7CPIFOpRXJdQLXE+wwXoIBwDTaOHowAAAABJRU5ErkJgggAA"},9447:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACY0lEQVRYR+1WW27DMAxzDhD7ut3ra4/2uk0OkJGU5LpNmmXdgGFAjWJJ51SiKFJOl/54dX+cP90B3Bm4M3Bn4H8w8PD0PKWpS5PGJv926fDx+ivgV4PsHl8mzsoOOY/DUJPnnG2C89fY+wmYqwAemBxrGI9pQvWdkoGIyOr5cy7i5FYQMwCsukPJyJVGVU3qkRZPiny2QqywKwCGay9GbmvLGQAlR5qBiRF8QnCk8N5XKMaBfol9EwZAlJtYmAGwqpkAkfHpvHSyoLY7E9ojOAeS+6L977ZiBoA9VyLmP/Fu361YW6RfHBgLBCIQuB7etztkzsA4qP81alSuaj2ZW6O2Rz+wRVFSQ/v3t002XWQgqjWKvbymfneft8D2TarWlpz7tP+4AQAHznB0DXgwJ1lky4q8i4JdjeYa2+QznBN8ZoseLhjAxMMa0QYlEghf2mna0KixuiJAqBUAgetXIBbngNkwVGeERztCnPS/lUxGfFyegU2plAItrAtyEYCxYG44p9ttGLlDDM5WDAjpYaMr5gCeMII5Bd0NEUzy0vSzaUiGNJaJUJa0htVh7XOCrdivHFyLVtk9QozSgXk9aKiaiLzcighxI1bCD5iQpcdcuO6IRQA8iBhiGNCGWrEFPjneVe9ytWPTpBPEcKsUMLCig6vDYodW2DFMLTTNDqH5/2QGd0g1BmGCkbLBCVcBMA9bweQjQJyEbpXyoLKDIU5KasSnhg4ys+K3bVgL9Bu9lPiiPSW2pmre5z4HFvNDMyMOX0zEVQZaMGyJvxA07wR+QKH0NaFdFtV+3wxgLchP9j4BhR9QMOh8ed4AAAAASUVORK5CYIIA"},9518:l=>{"use strict";l.exports=JSON.parse('{"id":"desert_block_0009","name":"block.desert_0009","width":"1","height":"1","texture":"/assets/images/blocks/desert_pack_01/desert_pack_0009.png","renderAbovePlayer":true,"collision":{"top":true,"bottom":true,"left":true,"right":true}}')},9538:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABVklEQVRYR72X0Q3CMAxE2+92JgZgBAZgNAZhJ76LWimVY2zfOQnlD5TEz2f7Eubnfdqmiz6v93JEetw+Z8T53wAlqA5cCA6AfZGkukiQI0yTAiOBKQApo1anV7kQwMo0mz1a/wOgN5TvVgd7vYIaT+6jSrBviDLJwGloCkAG18GQxGii0gDlwIzMEQQE8DKUSnSVYF2XLRol2YRlnReQBZHq0WPYW2uvDBWAN4Ky7ozxZGBdBSw5PWMqgDucdk0EbBqRPFBKx2amxzaCSPWAd6Xq+qJSQie0ZGSz91zT20/1QCZ4ZNvWOeeDBMmbgWDMq3oRIb/W9os6OyqDThRexxYcM2qRW1aPUsuKmQAly+iFxJQNXkaeAroM7D3Q9B7IQHj94V3fwxTINHL3HxM0ZmikoRNa1ip/i2S2emPIXcBKzPaLa0St3RwBRuPY1IQ9agwbw1EQX2odL4NwzQNBAAAAAElFTkSuQmCC"},9560:l=>{"use strict";l.exports=JSON.parse('{"id":"weather_fog_on","name":"weather.fog_on","displayName":"Fog On (0%)","type":"weather_trigger","weatherType":"fog","weatherAction":"on","hasIntensity":true,"width":1,"height":1,"editorIcon":"\ud83c\udf2b\ufe0f","isHiddenInGame":true,"collision":false}')},9588:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_008","name":"decoration.stone_008","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_008.png","collision":false,"renderAbovePlayer":false}')},9593:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_003","name":"decoration.stone_003","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_003.png","collision":false,"renderAbovePlayer":false}')},9712:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACH0lEQVRYR8VXUZbDIAjUvWX2gMkt64JIBAJi9qd+5BlLYIBxtLV8edQvxy+vAVz100qjz1pt3UGD9wqTo+Hz3dj64KoNRtFoKTItDkAECh+l/HZI+UiNrh4lHhzwdjQAFKjO0X5S/0uDLLgPC/GOFsEsq0QI4CrQa1PevKCORcINFwD2nFjGj7SS3fwYmUPlBBKaH8Vvx8PzXXbupZOUFwjXMDAEYuT9nQfOvHYoALrns5cSAweXaxSYAFhbtea0wweQZC+dWkA+iM9NTLBXMRcV8CnnZRr3n3iBoCJ9uAGwwkUBRg9vVDbTHRBDNhUhJ4AhOBHBODL3W77z3N8FswrCTulWXz+7otOQVZjsFiQbMoyMt3zwCIk+Tjw3oIx2N9xIThAeOFIUAJnRqvcMwgNuE0IIUhMmABAfRCh7iXPPubfV1tqgt6jcCQ8OUJGqq2qU4dxSEVjLCZnI+ObJAXnOR4xekcxWS1ZJK2IDRZyyrCtgBMhTPQ7kCZBci1oHiuADGI6VlkbyaregF3hRxR0ljHlgCejpgeTA/84CESXrewRg8V1cgd4GcemMMrHOV1uQfWwdx2wMqkWqKBgR9dnbcrIq7CK6moVXnS7Ni2NZciGb2yNY2u9dSruIs6l/UdEg8Lo+ZD35r5Be9uYtaSewhrHKnC1TAGg420Eg+InX5sjBTnD0vQVAyypc173PNv+IWL68BpAR7u3vXwfwBxSmJjCxLh4sAAAAAElFTkSuQmCC"},9717:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAu0lEQVRYR+2XwQmAMAxF7RoO4GqeBE8O4Unw5GoO4BpKhIJI2/y0hfQQjyJ9r7/RRNcpX06Z35mAJZCdwDT2d6iA9+MSrSl6mIAevG5n8AVa5uG9j4qIBAgeA/9tSASRgAUkcC+DSEACOXBUghUogSMSbQvU2D2XQjIBE7AELAH1BHz3QxtQbL5M9YS2v4R+RyVHwXVENoESCQ5Oa8MC0npA4GIB9ZHsW+VqQ2ntXzlRDdSGZ9VAbQn1BB5XopQhvIwnHgAAAABJRU5ErkJgggAA"},9745:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABaElEQVRYR62XzQGDIAyFYQ17b+ftHJ1Ie64dgwJipZifF4pXQ/IleQnq3X0ObvSTPHrMqTcDGJzXCImHytQOgCUGW5EAJ9rOrBGKIRU4gENsvSdLzcHIANPVuXVBEjHZ1BX27hFCDpKCGR5OVLQLoocl5gbAPT9giBB4G34KYIBC2VEtqbB8BUoyJ3IJYJ2dn25GEUoVQDVRC7XV0v6O0ZisARQAsaOmKULpAGjPEY0SoDpAewgFQqqS76wRGlCDSeMpAthXq8rSGByruFVphhbIYyuCsj19slGI7KtYGrnEXAeVABPZe6k0AIhL3f+Aj7YghwjbzLhNCN0buBLoKWiXBnJTKq3hvwf+HUNLYELTnXsgelqfW1J7dTr6n47bAZTLBe/+ZmkHECPYLwQSQB03AcJ6dnAFajLmO7DWDdwCou/WTMeM4UgBfhddzx4YCNKpgYL/iv8TF9v/BH8XME1Se925gPZwHyFKwUGQW+mfAAAAAElFTkSuQmCC"},9750:(l,e,n)=>{"use strict";l.exports=n.p+"static/media/zzox-fx_nite-hit-item.9a820de1a358a418bf42.ogg"},9792:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAt0lEQVRYR+2XMQ6AIAxF5Rpc0MnF3cndxckLcg0NJk2MAfoLJGWoozG8x6fa6iblyynzJxOwBKoTWGZ/pwr4vIJoTdHDEUjgbQ3JF2g//HsfFREJRHgO/LeJIogELCCBkwwiAQnUwFEJVqAFjkiMLdBj91wKxQRMwBKwBNQToO6HNqDcfFnqCWN/CWlHLUfBdUQ2gRYJDh7XhgWk9YDAxQLqI9m3ytWG0t6/cqIa6A2vqoHeEuoJPMojlCF41qYzAAAAAElFTkSuQmCC"},9821:l=>{"use strict";l.exports=JSON.parse('{"id":"arrow_right","name":"interactable.arrow_right","type":"interactable","subtype":"arrow","direction":"right","editorIcon":"\u2192","collision":false,"isHiddenInGame":true}')},9823:l=>{"use strict";l.exports=JSON.parse('{"id":"radioactive_waterfall","name":"block.radioactive_waterfall","displayName":"Block Radioactive WaterFall","type":"block","width":1,"height":1,"collision":false,"flags":{"liquid":true,"radioactive":true,"radioactive_waterfall":true,"swimmable":true},"liquid":{"buoyancy":-0.25,"drag":{"x":0.7,"y":0.95},"surface":false,"damagePerSecond":15,"oxygen":{"drainPerSecond":0,"regenPerSecond":100,"damagePerSecondWhenDepleted":0}},"tintBelowSurface":1727514}')},9840:l=>{"use strict";l.exports=JSON.parse('{"id":"stone_pack_01_004","name":"decoration.stone_004","type":"decoration","width":1,"height":1,"texture":"/assets/images/decorations/stone_pack_01/stone_pack_01_004.png","collision":false,"renderAbovePlayer":false}')},9950:l=>{"use strict";l.exports=JSON.parse('{"id":"wolf_secret_right","name":"wolf_secret_right","displayName":"Push Wall Right (E)","type":"wolf_secret","moveX":3,"width":1,"height":1,"editorIcon":"\ud83d\udc3a\u27a1\ufe0f","isHiddenInGame":true,"collision":false}')},9954:l=>{"use strict";l.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAuklEQVRYR+2XwQmAMAxF7RpO582TI4iII3jy5nSuoUQoiLTNT1tID/Eo0vf6G010nfLllPmdCVgC2QlMY3+HCng/LtGaoocJ6MHrdgZfoGUe3vuoiEiA4DHw34ZEEAlYQAL3MogEJJADRyVYgRI4ItG2QI3dcykkEzABS8ASUE/Adz+0AcXmy1RPaPtL6HdUchRcR2QTKJHg4LQ2LCCtBwQuFlAfyb5VrjaU1v6VE9VAbXhWDdSWUE/gAeqElCEt0Ld5AAAAAElFTkSuQmCC"},9970:(l,e,n)=>{"use strict";var t=n(6540),a=n(5338),u=n(5052),r=n(1468),i=n(7581),o=n(3816);const s={activeMapData:null,tileMapData:[],objectMapData:[],secretMapData:[],objectMetadata:{},revealedSecrets:[],objectTextureIndices:{},mapWidth:20,mapHeight:15,projectMaps:{},isLoading:!1,error:null,isPaused:!1,isGameOver:!1},c=(0,o.Z0)({name:"game",initialState:s,reducers:{setActiveMap:(l,e)=>{const{mapData:n,tileMapData:t,objectMapData:a,secretMapData:u,mapWidth:r,mapHeight:i}=e.payload;l.activeMapData=n,l.tileMapData=t,l.objectMapData=a,l.secretMapData=u||[],l.objectMetadata=n?.meta?.objectMetadata||n?.objectMetadata||{},l.revealedSecrets=[],l.objectTextureIndices={},l.mapWidth=r,l.mapHeight=i,l.isGameOver=!1,n?.maps&&(l.projectMaps=n.maps)},updateObjectMap:(l,e)=>{l.objectMapData=e.payload},updateObjectMetadata:(l,e)=>{const{index:n,metadata:t}=e.payload;l.objectMetadata[n]={...l.objectMetadata[n]||{},...t}},removeObjectAtIndex:(l,e)=>{const n=e.payload;void 0!==l.objectMapData[n]&&(l.objectMapData[n]=null)},removeTileAtIndex:(l,e)=>{const n=e.payload;void 0!==l.tileMapData[n]&&(l.tileMapData[n]=null)},moveTileInMap:(l,e)=>{const{fromIndex:n,toIndex:t}=e.payload;void 0!==l.tileMapData[n]&&void 0!==l.tileMapData[t]&&(l.tileMapData[t]=l.tileMapData[n],l.tileMapData[n]=null)},moveObjectInMap:(l,e)=>{const{fromIndex:n,toIndex:t}=e.payload;void 0!==l.objectMapData[n]&&void 0!==l.objectMapData[t]&&(l.objectMapData[t]=l.objectMapData[n],l.objectMapData[n]=null,l.objectMetadata[n]&&(l.objectMetadata[t]=l.objectMetadata[n],delete l.objectMetadata[n]))},updateObjectAtIndex:(l,e)=>{const{index:n,newId:t}=e.payload;void 0!==l.objectMapData[n]&&(l.objectMapData[n]=t)},setObjectTextureIndex:(l,e)=>{const{index:n,textureIndex:t}=e.payload;l.objectTextureIndices[n]=t},revealSecretZone:(l,e)=>{e.payload.forEach(e=>{l.revealedSecrets.includes(e)||l.revealedSecrets.push(e)})},setLoading:(l,e)=>{l.isLoading=e.payload},setError:(l,e)=>{l.error=e.payload},setPaused:(l,e)=>{l.isPaused=e.payload},setGameOver:(l,e)=>{l.isGameOver=e.payload},resetGame:l=>({...s,activeMapData:l.activeMapData})}}),{setActiveMap:d,updateObjectMap:h,updateObjectMetadata:p,removeObjectAtIndex:g,removeTileAtIndex:f,moveTileInMap:m,moveObjectInMap:A,updateObjectAtIndex:b,setObjectTextureIndex:x,revealSecretZone:_,setLoading:w,setError:y,setPaused:k,setGameOver:v,resetGame:M}=c.actions,S=c.reducer,C=32,I=100,E=100,j=100,R=100,B={x:0,y:0,width:32,height:32,vx:0,vy:0,isGrounded:!1,direction:1,animation:"idle",health:90,maxHealth:I,strength:30,maxStrength:100,ammo:0,oxygen:E,maxOxygen:E,lavaResist:j,maxLavaResist:j,projectiles:[],inWater:!1,headUnderWater:!1,atSurface:!1,liquidType:null,hitTimerMs:0,isWinning:!1,winCounter:0},D=(0,o.Z0)({name:"player",initialState:B,reducers:{updateState:(l,e)=>({...l,...e.payload}),setPosition:(l,e)=>{const{x:n,y:t}=e.payload;l.x=n,l.y=t},setVelocity:(l,e)=>{const{vx:n,vy:t}=e.payload;l.vx=n,l.vy=t},setHealth:(l,e)=>{l.health=Math.max(0,Math.min(l.maxHealth,e.payload))},addHealth:(l,e)=>{l.health=Math.max(0,Math.min(l.maxHealth,l.health+e.payload))},takeDamage:(l,e)=>{l.health=Math.max(0,l.health-e.payload),l.hitTimerMs=Math.max(l.hitTimerMs,500)},setAmmo:(l,e)=>{l.ammo=Math.max(0,e.payload)},addAmmo:(l,e)=>{l.ammo=Math.max(0,l.ammo+e.payload)},setOxygen:(l,e)=>{l.oxygen=Math.max(0,Math.min(l.maxOxygen,e.payload))},setLavaResist:(l,e)=>{l.lavaResist=Math.max(0,Math.min(l.maxLavaResist,e.payload))},setStrength:(l,e)=>{l.strength=Math.max(0,Math.min(l.maxStrength,e.payload))},setProjectiles:(l,e)=>{l.projectiles=e.payload},addProjectile:(l,e)=>{l.projectiles.push(e.payload)},removeProjectile:(l,e)=>{l.projectiles=l.projectiles.filter(l=>l.id!==e.payload)},setDirection:(l,e)=>{l.direction=e.payload},setAnimation:(l,e)=>{l.animation=e.payload},setGrounded:(l,e)=>{l.isGrounded=e.payload},setInWater:(l,e)=>{l.inWater=e.payload},setLiquidType:(l,e)=>{l.liquidType=e.payload},resetPlayer:()=>B}}),{updateState:N,setPosition:T,setVelocity:O,setHealth:z,addHealth:Q,takeDamage:P,setAmmo:G,addAmmo:W,setOxygen:F,setLavaResist:U,setStrength:L,setProjectiles:V,addProjectile:Y,removeProjectile:H,setDirection:J,setAnimation:K,setGrounded:q,setInWater:X,setLiquidType:Z,resetPlayer:$}=D.actions,ll=D.reducer,el={sound:{enabled:!1,masterVolume:1,sfxVolume:.5,musicVolume:.6},graphics:{backgroundParallaxFactor:.3,weatherRain:0,weatherSnow:0,weatherClouds:0,weatherFog:0,weatherThunder:0},ui:{healthBarEnabled:!0,oxygenBarEnabled:!0,lavaBarEnabled:!0,waterSplashesEnabled:!0,lavaEmbersEnabled:!0},controls:{keyUp:"w",keyDown:"s",keyLeft:"a",keyRight:"d",keyJump:"Space",keyShoot:"MouseLeft"}},nl=(0,o.Z0)({name:"settings",initialState:(()=>{try{const l=localStorage.getItem("game_settings");if(l){const e=JSON.parse(l);return{...el,...e}}}catch(l){console.error("Failed to load settings:",l)}return el})(),reducers:{updateSettings:(l,e)=>{const n={...l,...e.payload};try{localStorage.setItem("game_settings",JSON.stringify(n))}catch(t){console.error("Failed to save settings:",t)}return n},setSoundEnabled:(l,e)=>{l.sound.enabled=e.payload;try{localStorage.setItem("game_sound_enabled",e.payload?"1":"0")}catch(n){console.error("Failed to save sound setting:",n)}},setSoundVolume:(l,e)=>{const{type:n,volume:t}=e.payload;"master"===n?l.sound.masterVolume=t:"sfx"===n?l.sound.sfxVolume=t:"music"===n&&(l.sound.musicVolume=t)},setGraphicsSetting:(l,e)=>{const{key:n,value:t}=e.payload;void 0!==l.graphics[n]&&(l.graphics[n]=t)},setUISetting:(l,e)=>{const{key:n,value:t}=e.payload;void 0!==l.ui[n]&&(l.ui[n]=t)},setControlBinding:(l,e)=>{const{key:n,value:t}=e.payload;void 0!==l.controls[n]&&(l.controls[n]=t)},resetSettings:()=>{try{localStorage.removeItem("game_settings")}catch(l){console.error("Failed to clear settings:",l)}return el}}}),{updateSettings:tl,setSoundEnabled:al,setSoundVolume:ul,setGraphicsSetting:rl,setUISetting:il,setControlBinding:ol,resetSettings:sl}=nl.actions,cl=nl.reducer,dl={isMapModalOpen:!0,isSettingsOpen:!1,isTerminalOpen:!1,isPauseMenuOpen:!1,notifications:[],cameraScrollX:0,shouldCenterMap:!1},hl=(0,o.Z0)({name:"ui",initialState:dl,reducers:{setMapModalOpen:(l,e)=>{l.isMapModalOpen=e.payload},setSettingsOpen:(l,e)=>{l.isSettingsOpen=e.payload},setTerminalOpen:(l,e)=>{l.isTerminalOpen=e.payload;try{window.__GAME_TERMINAL_OPEN__=e.payload}catch{}},setPauseMenuOpen:(l,e)=>{l.isPauseMenuOpen=e.payload},addNotification:(l,e)=>{l.notifications.push({id:Date.now(),timestamp:(new Date).toISOString(),...e.payload})},removeNotification:(l,e)=>{l.notifications=l.notifications.filter(l=>l.id!==e.payload)},clearNotifications:l=>{l.notifications=[]},setCameraScrollX:(l,e)=>{l.cameraScrollX=e.payload},setShouldCenterMap:(l,e)=>{l.shouldCenterMap=e.payload},resetUI:()=>dl}}),{setMapModalOpen:pl,setSettingsOpen:gl,setTerminalOpen:fl,setPauseMenuOpen:ml,addNotification:Al,removeNotification:bl,clearNotifications:xl,setCameraScrollX:_l,setShouldCenterMap:wl,resetUI:yl}=hl.actions,kl=hl.reducer,vl=(0,o.U1)({reducer:{game:S,player:ll,settings:cl,ui:kl},middleware:l=>l({serializableCheck:{ignoredActions:["game/setActiveMap","player/updateState"],ignoredActionPaths:["payload.projectiles","payload.timestamp"],ignoredPaths:["game.activeMapData","player.projectiles"]}}),devTools:!1}),Ml={colors:{primary:"#4CAF50",secondary:"#2196F3",danger:"#f44336",warning:"#ff9800",success:"#8bc34a",info:"#00bcd4",dark:"#222",darkGray:"#333",mediumGray:"#555",lightGray:"#777",background:"#111",surface:"#f9f9f9",overlay:"rgba(0, 0, 0, 0.6)",text:"#333",textLight:"#666",textDark:"#fff",border:"#ddd",borderLight:"#eee"},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px",xxl:"48px"},borderRadius:{sm:"4px",md:"6px",lg:"8px",xl:"12px",round:"50%"},shadows:{sm:"0 2px 4px rgba(0,0,0,0.1)",md:"0 4px 8px rgba(0,0,0,0.2)",lg:"0 10px 25px rgba(0,0,0,0.5)"},fontSize:{xs:"11px",sm:"12px",md:"14px",base:"16px",lg:"18px",xl:"24px",xxl:"32px"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700},transitions:{fast:"0.15s ease",normal:"0.3s ease",slow:"0.5s ease"},zIndex:{base:1,dropdown:100,modal:1e3,tooltip:1100,notification:1200},breakpoints:{mobile:"480px",tablet:"768px",desktop:"1024px",wide:"1280px"}},Sl=(0,i.DU)(["*{margin:0;padding:0;box-sizing:border-box;}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;}code{font-family:source-code-pro,Menlo,Monaco,Consolas,'Courier New',monospace;}button{cursor:pointer;font-family:inherit;&:disabled{cursor:not-allowed;opacity:0.6;}}input,textarea,select{font-family:inherit;}a{text-decoration:none;color:inherit;}ul,ol{list-style:none;}img{max-width:100%;height:auto;}::-webkit-scrollbar{width:10px;height:10px;}::-webkit-scrollbar-track{background:#222;}::-webkit-scrollbar-thumb{background:#555;border-radius:5px;&:hover{background:#777;}}"]);var Cl=n(2635),Il=n(2022);const El={...JSON.parse('{"NAVIGATION_HOME":"M\u0101jas","NAVIGATION_NEW_GAME":"Jauna Sp\u0113le","NAVIGATION_EDITOR":"Kar\u0161u Editors","NAVIGATION_CRYSTALS":"Krist\u0101li","NAVIGATION_REPOSITORY":"Repozitorijs"}')},jl={...JSON.parse('{"NAVIGATION_HOME":"Hjem","NAVIGATION_NEW_GAME":"Nyt Spill","NAVIGATION_EDITOR":"Map Editor","NAVIGATION_CRYSTALS":"Krystaller","NAVIGATION_REPOSITORY":"depot"}')},Rl={...JSON.parse('{"NAVIGATION_HOME":"Home","NAVIGATION_NEW_GAME":"New Game","NAVIGATION_EDITOR":"Map Editor","NAVIGATION_CRYSTALS":"Crystals","NAVIGATION_REPOSITORY":"Repository"}')},Bl={...JSON.parse('{"NAVIGATION_HOME":"\u0414\u043e\u043c","NAVIGATION_NEW_GAME":"\u041d\u043e\u0432\u0430\u044f \u0438\u0433\u0440\u0430","NAVIGATION_EDITOR":"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043a\u0430\u0440\u0442","NAVIGATION_CRYSTALS":"\u041a\u0440\u0438\u0441\u0442\u0430\u043b\u043b\u044b","NAVIGATION_REPOSITORY":"P\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439"}')},Dl={...JSON.parse('{"NAVIGATION_HOME":"\u5bb6","NAVIGATION_NEW_GAME":"\u65b0\u3057\u3044\u30b2\u30fc\u30e0","NAVIGATION_EDITOR":"\u30de\u30c3\u30d7\u30a8\u30c7\u30a3\u30bf\u30fc","NAVIGATION_CRYSTALS":"\u30af\u30ea\u30b9\u30bf\u30eb","NAVIGATION_REPOSITORY":"\u30ea\u30dd\u30b8\u30c8\u30ea"}')};Cl.Ay.use(Il.r9).init({lng:"en",fallbackLng:"en",supportedLngs:["lv","no","en","ru","ja"],ns:["navigation"],defaultNS:"navigation",interpolation:{escapeValue:!1},resources:{lv:{navigation:El},no:{navigation:jl},en:{navigation:Rl},ru:{navigation:Bl},ja:{navigation:Dl}}});var Nl=n(4848);const Tl=(0,i.Ay)(u.k2).withConfig({componentId:"sc-1gii1an-0"})(["display:flex;align-items:center;justify-content:center;background-color:transparent;color:lightgray;border:1px solid rgba(255,255,255,0.3);padding:0 10px;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;cursor:pointer;transition:all 0.3s ease;white-space:nowrap;border-radius:0;text-decoration:none;&:hover{background-color:#f4c542;color:#2a2a2a;border-color:#f4c542;}&.active{background-color:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.5);color:black;}"]);function Ol(){const{t:l}=(0,Il.Bd)("navigation"),e=l("NAVIGATION_HOME"),n=l("NAVIGATION_NEW_GAME"),t=l("NAVIGATION_EDITOR"),a=l("NAVIGATION_CRYSTALS");l("NAVIGATION_REPOSITORY");return(0,Nl.jsxs)("nav",{style:{display:"flex",gap:"0"},children:[(0,Nl.jsx)(Tl,{to:"/",className:({isActive:l})=>l?"active":"",children:e}),(0,Nl.jsx)(Tl,{to:"/game",onClick:()=>{window.dispatchEvent(new Event("open-new-game-modal"))},className:({isActive:l})=>l?"active":"",children:n}),(0,Nl.jsx)(Tl,{to:"/editor",className:({isActive:l})=>l?"active":"",children:t}),(0,Nl.jsx)(Tl,{to:"/crystals",className:({isActive:l})=>l?"active":"",children:a})]})}const zl=i.Ay.button.withConfig({componentId:"sc-19qmfot-0"})(["display:flex;align-items:center;justify-content:center;background-color:transparent;color:lightgray;border:1px solid rgba(255,255,255,0.3);padding:0 10px;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;cursor:pointer;transition:all 0.3s ease;white-space:nowrap;border-radius:0;height:36px;&:hover{background-color:#f4c542;color:#2a2a2a;border-color:#f4c542;}&.active{background-color:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.5);color:black;}"]),Ql=i.Ay.div.withConfig({componentId:"sc-19qmfot-1"})(["position:relative;display:flex;"]),Pl=i.Ay.div.withConfig({componentId:"sc-19qmfot-2"})(["position:absolute;top:100%;right:0;background-color:#333;border:1px solid #444;border-radius:4px;padding:10px;z-index:2000;box-shadow:0 4px 12px rgba(0,0,0,0.5);min-width:150px;margin-top:5px;"]),Gl=i.Ay.div.withConfig({componentId:"sc-19qmfot-3"})(["display:flex;align-items:center;justify-content:space-between;padding:8px;color:white;font-size:12px;cursor:pointer;border-radius:4px;&:hover{background-color:#444;}"]),Wl=i.Ay.div.withConfig({componentId:"sc-19qmfot-4"})(["width:34px;height:18px;background-color:",";border-radius:9px;position:relative;transition:background-color 0.3s;&::after{content:'';position:absolute;top:2px;left:",";width:14px;height:14px;background-color:white;border-radius:50%;transition:left 0.3s;}"],l=>l.$active?"#f4c542":"#666",l=>l.$active?"18px":"2px");function Fl(){const{i18n:l}=(0,Il.Bd)(),e=(0,r.wA)(),n=(0,t.useRef)(null),[a,u]=(0,t.useState)(!1),{sound:i}=(0,r.d4)(l=>l.settings),o=i?.enabled??!1,s=l.language||"en",c=e=>{l.changeLanguage(e)};return(0,t.useEffect)(()=>{const l=l=>{n.current&&!n.current.contains(l.target)&&u(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),(0,Nl.jsxs)("nav",{style:{display:"flex",gap:"0"},children:[(0,Nl.jsx)(zl,{className:"lv"===s?"active":"",onClick:()=>c("lv"),children:"LV"}),(0,Nl.jsx)(zl,{className:"no"===s?"active":"",onClick:()=>c("no"),children:"NO"}),(0,Nl.jsx)(zl,{className:"en"===s?"active":"",onClick:()=>c("en"),children:"EN"}),(0,Nl.jsx)(zl,{className:"ru"===s?"active":"",onClick:()=>c("ru"),children:"RU"}),(0,Nl.jsx)(zl,{className:"ja"===s?"active":"",onClick:()=>c("ja"),children:"JA"}),(0,Nl.jsxs)(Ql,{ref:n,children:[(0,Nl.jsx)(zl,{onClick:()=>u(!a),title:"Settings",children:"\u2699\ufe0f"}),a&&(0,Nl.jsxs)(Pl,{children:[(0,Nl.jsxs)(Gl,{onClick:()=>{const l=!o;e(al(l));try{window.dispatchEvent(new CustomEvent("game-sound-toggle",{detail:{enabled:l}}))}catch{}try{window.dispatchEvent(new CustomEvent("game-sound-user-gesture"))}catch{}},children:[(0,Nl.jsx)("span",{children:"Sound Effects"}),(0,Nl.jsx)(Wl,{$active:o})]}),(0,Nl.jsx)("div",{style:{height:"1px",backgroundColor:"#444",margin:"5px 0"}}),(0,Nl.jsx)("div",{style:{padding:"5px 8px",fontSize:"10px",color:"#888"},children:"GAME SETTINGS"})]})]})]})}const Ul=i.Ay.p.withConfig({componentId:"sc-b07jnv-0"})(["text-transform:uppercase;"]);function Ll(){return(0,Nl.jsx)(Ul,{children:"Element Masters"})}const Vl=i.Ay.div.withConfig({componentId:"sc-2elt43-0"})(["display:flex;flex-direction:row;width:100%;height:auto;border:solid 1px lightgrey;.innerHeader{display:flex;flex-direction:row;width:100%;height:auto;margin:5px 20px;.innerHeaderLogo{display:flex;flex-direction:row;width:220px;height:auto;}.innerHeaderChapters{display:flex;flex-direction:row;justify-content:center;width:100%;height:auto;}.innerHeaderLanguages{display:flex;flex-direction:row;width:auto;height:auto;}}"]);const Yl=function(){return(0,Nl.jsx)(Vl,{children:(0,Nl.jsxs)("div",{className:"innerHeader",children:[(0,Nl.jsx)("div",{className:"innerHeaderLogo",children:(0,Nl.jsx)(Ll,{})}),(0,Nl.jsx)("div",{className:"innerHeaderChapters",children:(0,Nl.jsx)(Ol,{})}),(0,Nl.jsx)("div",{className:"innerHeaderLanguages",children:(0,Nl.jsx)(Fl,{})})]})})};i.Ay.div.withConfig({componentId:"sc-1vo14jg-0"})(["display:flex;flex-direction:row;justify-content:center;width:100%;height:auto;border:solid 1px lightgray;.innerFooter{display:flex;flex-direction:row;justify-content:flex-end;width:100%;height:auto;margin:5px 20px;}p{font-size:12px;color:lightgrey;}"]);const Hl=i.Ay.div.withConfig({componentId:"sc-do75gr-0"})(["display:flex;flex-direction:column;width:100%;height:100%;border:solid 1px lightgray;"]);const Jl=function({children:l,style:e}){return(0,Nl.jsx)(Hl,{style:e,children:l})};let Kl=null;(()=>{if(Kl)return Kl;console.time("Registry Load Time");try{const e=n(6570),t=n(1621);let a=null;try{a=n(6431)}catch(l){a=null}a||console.warn("Sound context unavailable. Continuing without pre-resolved sound assets.");const u=e=>{if(!e)return null;try{const l=e.replace("/assets/images/","./").replace("src/assets/images/","./"),n=l.startsWith("./")?l:`./${l}`,a=t(n);return a.default||a}catch(l){return console.warn(`Image not found: ${e}`),e}};let r=!1;const i=l=>{if(!l)return null;const e=(l=>{let e=l;return e=e.replace("/assets/sounds/","./").replace("src/assets/sounds/","./"),e=e.replace("/assets/sound/","./").replace("src/assets/sound/","./"),e.startsWith("./")?e:`./${e}`})(l);if(a)try{const l=a(e);return l.default||l}catch{}return r||(console.warn(`SFX not bundled: ${l}. Will try loading via public URL. Place files under src/assets/sound, or copy to public/assets/sound.`),r=!0),l};Kl=e.keys().map(l=>{const n=e(l),t=n.default||n;let a=u(t.texture),r=[];return t.textures&&Array.isArray(t.textures)&&(r=t.textures.map(l=>u(l))),{...t,texture:a,textures:r,sfx:i(t.sfx||t.sfxResolved||null)}}),Kl.forEach(l=>{if(l.defaultAnimation){const e=Kl.find(e=>e.id===l.defaultAnimation||e.id===l.defaultAnimation+"_100");if(e&&(l.texture||(l.texture=e.texture),l.textures&&0!==l.textures.length||(l.textures=e.textures),l.animationSpeed||(l.animationSpeed=e.animationSpeed),e.isHiddenInEditor=!0),l.deadAnimation){const e=Kl.find(e=>e.id===l.deadAnimation);e&&(e.isHiddenInEditor=!0)}if(l.targetAnimation){const e=Kl.find(e=>e.id===l.targetAnimation||e.id===l.targetAnimation+"_100");e&&(e.isHiddenInEditor=!0)}}}),console.log(`\u2705 Game Registry initialized. Loaded ${Kl.length} items.`)}catch(e){console.error("\u274c Failed to load Game Registry:",e),Kl=[]}console.timeEnd("Registry Load Time")})();const ql=()=>Kl,Xl=l=>Kl?Kl.find(e=>e.id===l):null;const Zl=function(){return(0,t.useEffect)(()=>{const l=ql();console.log("App start - Current Registry in Memory:",l)},[]),(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100vw",height:"100vh",overflow:"hidden"},children:[(0,Nl.jsx)("div",{style:{width:"100%",flexShrink:0},children:(0,Nl.jsx)(Yl,{})}),(0,Nl.jsx)(Jl,{style:{flexGrow:1,width:"100%",overflow:"auto"},children:(0,Nl.jsx)(u.sv,{})})]})},$l="undefined"!==typeof process?"/element_masters":"",le={apiUrl:"undefined"!==typeof process&&process.env?.REACT_APP_API_URL||"http://localhost:8000",logo:{URL_LOGO_01:`${$l}/assets/logo/Logo1.png`,URL_LOGO_02:`${$l}/assets/logo/Logo2.png`,URL_LOGO_03:`${$l}/assets/logo/Logo3.png`,URL_LOGO_04:`${$l}/assets/logo/Logo4.png`,URL_LOGO_05:`${$l}/assets/logo/Logo5.png`}},ee=i.Ay.div.withConfig({componentId:"sc-1463stt-0"})(["display:flex;flex-direction:column;width:100%;height:100%;.logoRow{display:flex;flex-direction:row;justify-content:space-between;width:100%;height:auto;margin:10px;& img{width:350px;}}"]);function ne(){const l=le.logo.URL_LOGO_01,e=le.logo.URL_LOGO_02,n=le.logo.URL_LOGO_03,t=le.logo.URL_LOGO_04,a=le.logo.URL_LOGO_05;return console.log(l,e,n,t,a),(0,Nl.jsx)(ee,{children:(0,Nl.jsxs)("div",{className:"logoRow",children:[(0,Nl.jsx)("img",{src:l,alt:"logo"}),(0,Nl.jsx)("img",{src:e,alt:"logo"}),(0,Nl.jsx)("img",{src:n,alt:"logo"}),(0,Nl.jsx)("img",{src:t,alt:"logo"})]})})}var te=n(5556),ae=n.n(te),ue=n(5925);class re{constructor(){this._map=new Map}get(l){if(!l)return null;const e=this._map;if(e.has(l))return e.get(l);const n=ue.gPd.from(l);return e.set(l,n),n}has(l){return this._map.has(l)}dispose(l){l&&this._map.has(l)&&this._map.delete(l)}clear(){this._map.clear()}}class ie{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.particles=[],this.intensity=0;this.width,this.height;this.maxParticles=400}resize(l,e){const n=l*e;this.maxParticles=Math.max(160,Math.floor(n/2300))}setIntensity(l){this.intensity=Math.max(0,Math.min(100,Number(l)||0))}spawnOne(){const l=new ue.A1g;l.clear(),l.rect(0,0,1.3,9),l.fill({color:4891647,alpha:.92});const e=this.api.getViewport?this.api.getViewport():null;let n,t;e?(n=e.x-100+Math.random()*(e.width+200),t=e.y-10-30*Math.random()):(n=Math.random()*this.width,t=-10-30*Math.random());const a=520+520*Math.random(),u=60*Math.random()-30,r=a;l.x=n,l.y=t,l.rotation=.15,this.container.addChild(l),this.particles.push({g:l,x:n,y:t,vx:u,vy:r,bounces:0,alive:!0})}update(l){const e=this.api.getViewport?this.api.getViewport():null,n=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(n-this.intensity)>.1){const e=1-Math.exp(-.0015*l);this.intensity+=(n-this.intensity)*e}else this.intensity!==n&&(this.intensity=n);const t=Math.max(0,Math.min(1,this.intensity/100)),a=Math.pow(t,1.15);let u=Math.floor(this.maxParticles*a);a>0&&u<8&&(u=8);const r=u-this.particles.length;if(r>0){const l=48,e=Math.max(1,Math.ceil(.02*u)),n=Math.min(r,e,l);for(let t=0;t<n;t++)this.spawnOne()}if(this.particles.length>u){const l=this.particles.length-u,e=Math.min(l,Math.max(1,Math.ceil(.02*this.particles.length)));for(let n=0;n<e;n++){const l=this.particles.pop();if(!l)break;try{l.g.parent&&l.g.parent.removeChild(l.g)}catch{}try{l.g.destroy()}catch{}}}const i=l/1e3,o=[];for(let s=0;s<this.particles.length;s++){const l=this.particles[s];if(!l.alive){o.push(s);continue}l.vy+=1800*i;let n=l.x+l.vx*i,t=l.y+l.vy*i;try{if("function"===typeof this.api.getLiquidSurfaceY){const e=this.api.getLiquidSurfaceY("water",n);if(Number.isFinite(e)&&t>=e){const e=Math.max(0,Math.min(1500,l.vy)),t=Math.min(2,.4+e/900);"function"===typeof this.api.onWaterImpact&&this.api.onWaterImpact({x:n,strength:t}),l.alive=!1,o.push(s);continue}const a=this.api.getLiquidSurfaceY("lava",n);if(Number.isFinite(a)&&t>=a){const e=Math.max(0,Math.min(1500,l.vy)),t=Math.min(2,.35+e/1200);"function"===typeof this.api.onLavaImpact&&this.api.onLavaImpact({x:n,y:a,strength:t}),l.alive=!1,o.push(s);continue}}}catch{}if(this.api.isSolidAt(n,t)){let e=0;for(;this.api.isSolidAt(n,t)&&e<6;)t-=1,e++;0===l.bounces&&Math.abs(l.vy)>150?(l.vy=.3*-l.vy,l.vx*=.8,l.bounces++):(l.alive=!1,o.push(s))}l.x=n,l.y=t,l.g.x=l.x,l.g.y=l.y;const a=e?e.y:0,u=e?e.height:this.height;(l.y>a+u+100||l.y>this.height+40||l.x<-40||l.x>this.width+40)&&(l.alive=!1,o.push(s))}for(let s=o.length-1;s>=0;s--){const l=o[s],e=this.particles[l];if(e&&e.g&&e.g.parent&&e.g.parent.removeChild(e.g),e&&e.g&&e.g.destroy)try{e.g.destroy()}catch{}this.particles.splice(l,1)}}destroy(){this.particles.forEach(l=>{try{l.g.parent&&l.g.parent.removeChild(l.g)}catch{}try{l.g.destroy()}catch{}}),this.particles=[]}}class oe{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.flakes=[],this.intensity=0;this.width,this.height;this.maxFlakes=300}resize(l,e){const n=l*e;this.maxFlakes=Math.max(120,Math.floor(n/3e3))}setIntensity(l){this.intensity=Math.max(0,Math.min(100,Number(l)||0))}spawnOne(){const l=new ue.A1g;l.clear();const e=1.2+2*Math.random();l.circle(0,0,e),l.fill({color:16777215,alpha:.97});const n=this.api.getViewport?this.api.getViewport():null;let t,a;n?(t=n.x-100+Math.random()*(n.width+200),a=n.y-10-30*Math.random()):(t=Math.random()*this.width,a=-10-30*Math.random());const u=40+80*Math.random(),r=50*Math.random()-25;l.x=t,l.y=a,this.container.addChild(l),this.flakes.push({g:l,x:t,y:a,vx:r,vy:u,alive:!0,settled:!1,life:1,phase:"fall",restMs:0})}update(l){const e=this.api.getViewport?this.api.getViewport():null,n=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(n-this.intensity)>.1){const e=1-Math.exp(-.0015*l);this.intensity+=(n-this.intensity)*e}else this.intensity!==n&&(this.intensity=n);const t=Math.max(0,Math.min(1,this.intensity/100)),a=Math.pow(t,1.15);let u=Math.floor(this.maxFlakes*a);a>0&&u<10&&(u=10);const r=u-this.flakes.length;if(r>0){const l=24,e=Math.max(1,Math.ceil(.015*u)),n=Math.min(r,e,l);for(let t=0;t<n;t++)this.spawnOne()}if(this.flakes.length>u){const l=this.flakes.length-u,e=Math.min(l,Math.max(1,Math.ceil(.015*this.flakes.length)));for(let n=0;n<e;n++){const l=this.flakes.pop();if(!l)break;try{l.g.parent&&l.g.parent.removeChild(l.g)}catch{}try{l.g.destroy()}catch{}}}const i=l/1e3,o=[];for(let s=0;s<this.flakes.length;s++){const n=this.flakes[s];if(n.alive){if("fall"===n.phase){n.vy=Math.min(140,n.vy+200*i),n.vx+=7*Math.sin(.02*(n.y+s))*i;let l=n.x+n.vx*i,e=n.y+n.vy*i;try{if("function"===typeof this.api.getLiquidSurfaceY){const t=this.api.getLiquidSurfaceY("water",l);if(Number.isFinite(t)&&e>=t){e=t-.5,n.x=l,n.y=e,n.vx=0,n.vy=0,n.phase="rest",n.restMs=800+400*Math.random(),n.g.x=n.x,n.g.y=n.y;continue}const a=this.api.getLiquidSurfaceY("lava",l);if(Number.isFinite(a)&&e>=a){"function"===typeof this.api.onLavaImpact&&this.api.onLavaImpact({x:l,y:a,strength:.5}),n.alive=!1,o.push(s);continue}}}catch{}if(this.api.isSolidAt(l,e)){let t=0;for(;this.api.isSolidAt(l,e)&&t<10;)e-=1,t++;n.settled=!0,n.vx=0,n.vy=0,n.phase="rest",n.restMs=800+400*Math.random()}n.x=l,n.y=e}else"rest"===n.phase?(n.restMs-=l,n.restMs<=0&&(n.phase="sinking",n.vx=20*Math.random()-10,n.vy=20+20*Math.random())):"sinking"===n.phase&&(n.vy=Math.min(60,n.vy+60*i),n.x+=n.vx*i,n.y+=n.vy*i,n.life-=.22*i,n.life<=0&&(n.alive=!1,o.push(s)));n.g.x=n.x,n.g.y=n.y,("rest"===n.phase||"sinking"===n.phase||n.settled)&&(n.g.alpha=Math.max(0,Math.min(1,n.life))),(n.y>this.height+40||n.x<-40||n.x>this.width+40||e&&n.y>e.y+e.height+100)&&(n.alive=!1,o.push(s))}else o.push(s)}for(let s=o.length-1;s>=0;s--){const l=o[s],e=this.flakes[l];if(e&&e.g&&e.g.parent&&e.g.parent.removeChild(e.g),e&&e.g&&e.g.destroy)try{e.g.destroy()}catch{}this.flakes.splice(l,1)}}destroy(){this.flakes.forEach(l=>{try{l.g.parent&&l.g.parent.removeChild(l.g)}catch{}try{l.g.destroy()}catch{}}),this.flakes=[]}}class se{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.bandHeight=Math.max(1,Math.floor(.3*this.height)),this.patches=[],this.intensity=0,this.windDirection=1;try{this.container.filters=[new ue.eV2({strength:2,quality:2})]}catch{}this.rebuild()}setIntensity(l){this.intensity=Math.max(0,Math.min(100,Number(l)||0))}spawnOne(l=!1){const e=new ue.A1g,n=140+300*Math.random(),t=80+160*Math.random(),a=this.api.getViewport?this.api.getViewport():null,u=a?a.x:0,r=a?a.y:0,i=a?a.width:this.width;let o;if(l){const l=Math.max(i,this.width)+800;o=(a?u-400:-400)+Math.random()*l}else o=a?a.x-400+Math.random()*(a.width+800):Math.random()<.5?-180:this.width+180;const s=r-40+Math.random()*(this.bandHeight-20),c=.08+this.intensity/100*(.12+.08*Math.random()),d=8+22*Math.random(),h=4*(Math.random()-.5),p=.5*n,g=.5*t,f=8+Math.floor(6*Math.random()),m=.55*Math.min(p,g);for(let A=0;A<f;A++){const l=A/f*Math.PI*2+.6*Math.random(),n=.2+.35*Math.random(),t=Math.cos(l)*p*n,a=Math.sin(l)*g*n,u=m*(.7+.7*Math.random());e.circle(t,a,u)}e.circle(0,0,m*(.9+.5*Math.random())),e.fill({color:16777215,alpha:1}),e.alpha=0,e.x=o,e.y=s,this.container.addChild(e),this.patches.push({g:e,w:n,h:t,vx:d*this.windDirection,vy:h,targetAlpha:c,currentAlpha:0,phase:Math.random()*Math.PI*2,dying:!1})}resize(l,e){Math.max(1,Math.floor(l));const n=Math.max(1,Math.floor(e));this.bandHeight=Math.max(1,Math.floor(.3*n))}rebuild(){for(const t of this.patches){try{t.g.parent&&t.g.parent.removeChild(t.g)}catch{}try{t.g.destroy()}catch{}}this.patches=[];const l=this.api.getViewport?this.api.getViewport():null,e=l?l.width:1280,n=Math.round(this.intensity/100*18*(e/1280));for(let t=0;t<n;t++)if(this.spawnOne(!0),this.patches.length>0){const l=this.patches[this.patches.length-1];l.currentAlpha=l.targetAlpha,l.g.alpha=l.currentAlpha}}update(l){const e=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(e-this.intensity)>.1){const n=1-Math.exp(-.0015*l);this.intensity+=(e-this.intensity)*n}else this.intensity!==e&&(this.intensity=e);const n=l/1e3,t=this.width,a=this.api.getViewport?this.api.getViewport():null,u=a?a.x:0,r=a?a.y:0,i=a?a.width:1280,o=(a&&a.height,r-100),s=r+this.bandHeight,c=Math.round(this.intensity/100*18*(i/1280)),d=this.patches.filter(l=>!l.dying&&(!a||l.g.x>u-1e3&&l.g.x<u+i+1e3));if(d.length<c)this._spawnTimer=(this._spawnTimer||0)+l,(this._spawnTimer>300||0===d.length)&&(this.spawnOne(0===d.length),this._spawnTimer=0);else if(d.length>c){const l=d[0];l&&(l.dying=!0)}const h=[];for(let p=0;p<this.patches.length;p++){const l=this.patches[p];l.g.x+=l.vx*n,l.g.y+=l.vy*n,l.phase+=.35*n;const e=.5*(Math.sin(l.phase)+1);if(a&&!l.dying&&(l.g.x<u-2500||l.g.x>u+i+2500)&&(l.dying=!0),l.dying){if(l.currentAlpha-=.1*n,l.currentAlpha<=0){h.push(p);continue}}else l.currentAlpha<l.targetAlpha&&(l.currentAlpha+=.05*n,l.currentAlpha>l.targetAlpha&&(l.currentAlpha=l.targetAlpha));l.g.alpha=Math.max(0,Math.min(.55,l.currentAlpha*(.75+.5*e)));const r=800;if(a){const e=u-r,n=u+i+r;l.g.x<e&&(l.g.x=n),l.g.x>n&&(l.g.x=e)}else l.g.x<-r&&(l.g.x=t+r),l.g.x>t+r&&(l.g.x=-r);l.g.y<o&&(l.g.y=s),l.g.y>s&&(l.g.y=o)}for(let p=h.length-1;p>=0;p--){const l=h[p],e=this.patches[l];try{e.g.parent&&e.g.parent.removeChild(e.g)}catch{}try{e.g.destroy()}catch{}this.patches.splice(l,1)}}destroy(){try{this.container.filters=[]}catch{}for(const l of this.patches){try{l.g.parent&&l.g.parent.removeChild(l.g)}catch{}try{l.g.destroy()}catch{}}this.patches=[]}}class ce{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.intensity=0,this.time=0,this.g=new ue.A1g,this.container.addChild(this.g),this.noiseTex=ce._createNoiseTexture(128,128),this.layer1=new ue.t9Q(this.noiseTex,this.width,this.height),this.layer2=new ue.t9Q(this.noiseTex,this.width,this.height),this.layer1.tileScale.set(1,1),this.layer2.tileScale.set(.6,.8),this.layer1.alpha=0,this.layer2.alpha=0,this.container.addChild(this.layer1),this.container.addChild(this.layer2),this._recalcParams(),this._draw()}_alphaFromIntensity(l){const e=Math.max(0,Math.min(100,Number(l)||0))/100;return Math.max(0,Math.min(.65,.65*e))}setIntensity(l){const e=Math.max(0,Math.min(100,Number(l)||0));e!==this.intensity&&(this.intensity=e,this._recalcParams(),this._applyAlphas(0),this._draw())}resize(l,e){const n=Math.max(1,Math.floor(l)),t=Math.max(1,Math.floor(e));n===this.width&&t===this.height||(this.width=n,this.height=t,this.layer1&&(this.layer1.width=n,this.layer1.height=t),this.layer2&&(this.layer2.width=n,this.layer2.height=t),this._draw())}_draw(){const l=this.width,e=this.height,n=this.g;n.clear();const t=this._alphaFromIntensity(this.intensity);t<=0?n.alpha=0:(n.rect(0,0,l,e),n.fill({color:10467273,alpha:1}),n.alpha=t)}update(l){const e=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(e-this.intensity)>.1){const n=1-Math.exp(-.0015*l);this.setIntensity(this.intensity+(e-this.intensity)*n)}else this.intensity!==e&&this.setIntensity(e);const n=this.api.getViewport?this.api.getViewport():null;n&&(this.g&&(this.g.x=n.x),this.layer1&&(this.layer1.x=n.x),this.layer2&&(this.layer2.x=n.x),this.g&&(this.g.y=n.y),this.layer1&&(this.layer1.y=n.y),this.layer2&&(this.layer2.y=n.y));const t=Math.max(0,Number(l)||16.67);this.time+=t;const a=1+.04*Math.sin(.0012*this.time);this._applyAlphas(a),this.layer1&&(this.layer1.tilePosition.x+=this.speed1.x*t,this.layer1.tilePosition.y+=this.speed1.y*t),this.layer2&&(this.layer2.tilePosition.x+=this.speed2.x*t,this.layer2.tilePosition.y+=this.speed2.y*t)}destroy(){if(this.g){try{this.g.parent&&this.g.parent.removeChild(this.g)}catch{}try{this.g.destroy()}catch{}}this.g=null;try{this.layer1&&(this.layer1.parent&&this.layer1.parent.removeChild(this.layer1),this.layer1.destroy(!0))}catch{}try{this.layer2&&(this.layer2.parent&&this.layer2.parent.removeChild(this.layer2),this.layer2.destroy(!0))}catch{}this.layer1=null,this.layer2=null;try{this.noiseTex?.destroy(!0)}catch{}this.noiseTex=null}_applyAlphas(l=1){const e=this._alphaFromIntensity(this.intensity),n=e*(.25+.35*Math.max(0,Math.min(1,this.intensity/100)));this.g&&(this.g.alpha=e*l),this.layer1&&(this.layer1.alpha=.8*n),this.layer2&&(this.layer2.alpha=n)}_recalcParams(){const l=Math.max(0,Math.min(1,this.intensity/100)),e=(l,e,n)=>l+(e-l)*n;this.speed1={x:e(.005,.025,l),y:e(0,.012,l)},this.speed2={x:e(-.006,-.018,l),y:e(.004,.02,l)}}static _createNoiseTexture(l=128,e=128){const n=document.createElement("canvas");n.width=l,n.height=e;const t=n.getContext("2d"),a=t.createImageData(l,e);for(let u=0;u<a.data.length;u+=4){const l=200+Math.floor(55*Math.random());a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=255}return t.putImageData(a,0,0),ue.gPd.from(n)}}class de{constructor(l,e,n){this.container=l,this.api=e||{},this.getIntensity=n||(()=>0),this.width=(e?.mapWidth||0)*(e?.tileSize||32),this.height=(e?.mapHeight||0)*(e?.tileSize||32),this.intensity=0,this.time=0,this.nextStrikeMs=1/0,this.flashAlpha=0,this.flashDecay=0,this.boltAlive=!1,this.boltTime=0,this.boltDuration=0,this.flashG=new ue.A1g,this.boltG=new ue.A1g;try{this.boltG.filters=[new ue.eV2(2,1)]}catch{}this.container.addChild(this.flashG),this.container.addChild(this.boltG),this._scheduleNextStrike(!0)}setIntensity(l){const e=Math.max(0,Math.min(100,Number(l)||0));e!==this.intensity&&(this.intensity=e,e<=0?(this.flashAlpha=0,this.boltAlive=!1,this._redrawFlash(),this._clearBolt(),this.nextStrikeMs=1/0):Number.isFinite(this.nextStrikeMs)&&this.nextStrikeMs!==1/0||this._scheduleNextStrike(!0))}resize(l,e){const n=Math.max(1,Math.floor(l)),t=Math.max(1,Math.floor(e));n===this.width&&t===this.height||(this.width=n,this.height=t,this.flashAlpha>0&&this._redrawFlash())}update(l){const e=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(e-this.intensity)>.1){const n=1-Math.exp(-.0015*l);this.setIntensity(this.intensity+(e-this.intensity)*n)}else this.intensity!==e&&this.setIntensity(e);const n=Math.max(0,Number(l)||16.67);if(!(this.intensity<=0)){if(this.nextStrikeMs-=n,this.nextStrikeMs<=0&&(this._triggerFlash(),this._createBolt(),this._scheduleNextStrike(!1)),this.flashAlpha>0){const l=this.flashDecay||.004;this.flashAlpha=Math.max(0,this.flashAlpha-l*n),this._redrawFlash()}if(this.boltAlive){this.boltTime+=n;const l=this.boltTime/Math.max(1,this.boltDuration),e=Math.max(0,1-l);this.boltG.alpha=.25+.75*e,this.boltTime>=this.boltDuration&&this._clearBolt()}}}destroy(){try{this.flashG.parent&&this.flashG.parent.removeChild(this.flashG)}catch{}try{this.flashG.destroy(!0)}catch{}try{this.boltG.parent&&this.boltG.parent.removeChild(this.boltG)}catch{}try{this.boltG.destroy(!0)}catch{}this.flashG=null,this.boltG=null,this.container=null}_scheduleNextStrike(l){if(this.intensity<=0)return void(this.nextStrikeMs=1/0);const e=Math.max(0,Math.min(1,this.intensity/100)),n=this._lerp(1e3,2500,1-e),t=this._lerp(2500,9e3,1-e),a=this._rand(n,t);this.nextStrikeMs=l?this._rand(400,1400):a}_triggerFlash(){const l=Math.max(0,Math.min(1,this.intensity/100)),e=this._lerp(.25,.9,l);this.flashAlpha=Math.min(1,e*this._rand(.8,1)),this.flashDecay=this._lerp(.008,.004,l),this._redrawFlash()}_redrawFlash(){const l=this.flashG;if(l.clear(),this.flashAlpha<=0)return;const e=this.api.getViewport?this.api.getViewport():null;e?(l.x=e.x,l.y=e.y,l.rect(0,0,e.width,e.height)):l.rect(0,0,this.width,this.height),l.fill({color:16777215,alpha:this.flashAlpha})}_createBolt(){const l=this.width,e=this.height,n=this.api.getViewport?this.api.getViewport():null;let t,a;n?(t=Math.floor(n.x+this._rand(8,n.width-8)),a=n.y-Math.floor(this._rand(10,40))):(t=Math.floor(this._rand(8,l-8)),a=-Math.floor(this._rand(10,40)));const u=this._findGroundY(t,e),r=Number.isFinite(u)?Math.max(0,u-this._rand(8,16)):Math.floor(.6*e),i=Math.max(8,Math.floor((r-a)/this._rand(10,16))),o=this._lerp(6,18,Math.max(0,Math.min(1,this.intensity/100))),s=[];let c=t,d=a;s.push({x:c,y:d});for(let m=1;m<=i;m++){const l=a+Math.floor((r-a)*m/i);c=t+this._rand(-o,o),d=l,s.push({x:c,y:d})}const h=this.boltG;h.clear();const p=this._lerp(2,5,Math.max(0,Math.min(1,this.intensity/100))),g=13430527;h.moveTo(s[0].x,s[0].y);for(let m=1;m<s.length;m++)h.lineTo(s[m].x,s[m].y);h.stroke({width:p,color:g,alpha:1,alignment:.5,cap:"round",join:"round"});const f=Math.floor(this._lerp(1,3,Math.max(0,Math.min(1,this.intensity/100))));for(let m=0;m<f;m++){const l=s[Math.floor(this._rand(2,s.length-2))],e=this._rand(30,80),n=this._rand(.5*-Math.PI,.5*Math.PI),t=l.x+Math.cos(n)*e,a=l.y+Math.sin(n)*e;h.moveTo(l.x,l.y),h.lineTo(t,a),h.stroke({width:Math.max(1,.55*p),color:g,alpha:.9,alignment:.5})}this.boltAlive=!0,this.boltTime=0,this.boltDuration=this._rand(120,260),this.boltG.alpha=1}_clearBolt(){if(this.boltG){this.boltAlive=!1,this.boltTime=0,this.boltDuration=0;try{this.boltG.clear()}catch{}}}_findGroundY(l,e){const n=this.api?.isSolidAt;if("function"!==typeof n)return null;for(let t=0;t<e;t+=4)if(n(l,t))return t;return null}_rand(l,e){return void 0===e&&(e=l,l=0),l+Math.random()*(e-l)}_lerp(l,e,n){return l+(e-l)*n}}class he{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.particles=[],this.intensity=0,this.maxParticles=300}resize(l,e){const n=l*e;this.maxParticles=Math.max(120,Math.floor(n/3e3))}spawnOne(){const l=new ue.A1g;l.clear(),l.rect(0,0,2,10);const e=Math.random()>.3?16755200:16763904;l.fill({color:e,alpha:.95});const n=this.api.getViewport?this.api.getViewport():null;let t,a;n?(t=n.x-100+Math.random()*(n.width+200),a=n.y-10-30*Math.random()):(t=Math.random()*this.width,a=-10-30*Math.random());const u=400+400*Math.random(),r=40*Math.random()-20,i=u;l.x=t,l.y=a,l.rotation=.1,this.container.addChild(l),this.particles.push({g:l,x:t,y:a,vx:r,vy:i,alive:!0})}update(l){const e=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(e-this.intensity)>.1){const n=1-Math.exp(-.0015*l);this.intensity+=(e-this.intensity)*n}else this.intensity=e;const n=Math.max(0,Math.min(1,this.intensity/100));let t=Math.floor(this.maxParticles*n);n>0&&t<5&&(t=5);const a=t-this.particles.length;if(a>0){const l=Math.min(a,Math.max(1,Math.ceil(.02*t)),30);for(let e=0;e<l;e++)this.spawnOne()}if(this.particles.length>t){const l=this.particles.length-t,e=Math.min(l,Math.max(1,Math.ceil(.02*this.particles.length)));for(let n=0;n<e;n++){const l=this.particles.pop();if(l)try{l.g.parent&&l.g.parent.removeChild(l.g),l.g.destroy()}catch{}}}const u=l/1e3,r=[];for(let i=0;i<this.particles.length;i++){const l=this.particles[i];if(l.vy+=1200*u,l.x+=l.vx*u,l.y+=l.vy*u,l.g.x=l.x,l.g.y=l.y,this.api.isSolidAt(l.x,l.y)){"function"===typeof this.api.onLavaImpact&&Math.random()>.5&&this.api.onLavaImpact({x:l.x,y:l.y,strength:.2}),l.alive=!1,r.push(i);continue}const e=this.api.getViewport?this.api.getViewport():null,n=e?e.y:0,t=e?e.height:this.height;(l.y>n+t+50||l.y>this.height+40||l.x<-40||l.x>this.width+40)&&(l.alive=!1,r.push(i))}for(let i=r.length-1;i>=0;i--){const l=r[i],e=this.particles[l];if(e&&e.g)try{e.g.parent&&e.g.parent.removeChild(e.g),e.g.destroy()}catch{}this.particles.splice(l,1)}}destroy(){this.particles.forEach(l=>{try{l.g.parent&&l.g.parent.removeChild(l.g),l.g.destroy()}catch{}}),this.particles=[]}}class pe{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.intensity=0,this.time=0,this.g=new ue.A1g,this.container.addChild(this.g),this.noiseTex=pe._createNoiseTexture(128,128),this.layer1=new ue.t9Q({texture:this.noiseTex,width:this.width,height:this.height}),this.layer2=new ue.t9Q({texture:this.noiseTex,width:this.width,height:this.height}),this.layer1.tileScale.set(1.2,1.2),this.layer2.tileScale.set(.7,.9),this.layer1.alpha=0,this.layer2.alpha=0,this.container.addChild(this.layer1),this.container.addChild(this.layer2),this._recalcParams(),this._draw()}_alphaFromIntensity(l){const e=Math.max(0,Math.min(100,Number(l)||0))/100;return Math.max(0,Math.min(.75,.75*e))}setIntensity(l){const e=Math.max(0,Math.min(100,Number(l)||0));e!==this.intensity&&(this.intensity=e,this._recalcParams(),this._applyAlphas(0),this._draw())}resize(l,e){const n=Math.max(1,Math.floor(l)),t=Math.max(1,Math.floor(e));n===this.width&&t===this.height||(this.width=n,this.height=t,this.layer1&&(this.layer1.width=n,this.layer1.height=t),this.layer2&&(this.layer2.width=n,this.layer2.height=t),this._draw())}_draw(){const l=this.width,e=this.height,n=this.g;n.clear();const t=this._alphaFromIntensity(this.intensity);t<=0?n.alpha=0:(n.rect(0,0,l,e),n.fill({color:1727514,alpha:1}),n.alpha=t)}update(l){const e=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(e-this.intensity)>.1){const n=1-Math.exp(-.0015*l);this.setIntensity(this.intensity+(e-this.intensity)*n)}else this.setIntensity(e);const n=this.api.getViewport?this.api.getViewport():null;n&&(this.g&&(this.g.x=n.x,this.g.y=n.y),this.layer1&&(this.layer1.x=n.x,this.layer1.y=n.y),this.layer2&&(this.layer2.x=n.x,this.layer2.y=n.y));const t=Math.max(0,Number(l)||16.67);this.time+=t;const a=1+.06*Math.sin(.001*this.time);this._applyAlphas(a),this.layer1&&(this.layer1.tilePosition.x+=this.speed1.x*t,this.layer1.tilePosition.y+=this.speed1.y*t),this.layer2&&(this.layer2.tilePosition.x+=this.speed2.x*t,this.layer2.tilePosition.y+=this.speed2.y*t)}destroy(){if(this.g)try{this.g.parent&&this.g.parent.removeChild(this.g),this.g.destroy()}catch{}if(this.g=null,this.layer1)try{this.layer1.parent&&this.layer1.parent.removeChild(this.layer1),this.layer1.destroy(!0)}catch{}if(this.layer2)try{this.layer2.parent&&this.layer2.parent.removeChild(this.layer2),this.layer2.destroy(!0)}catch{}this.layer1=null,this.layer2=null;try{this.noiseTex?.destroy(!0)}catch{}this.noiseTex=null}_applyAlphas(l=1){const e=this._alphaFromIntensity(this.intensity),n=e*(.3+.4*Math.max(0,Math.min(1,this.intensity/100)));this.g&&(this.g.alpha=e*l),this.layer1&&(this.layer1.alpha=.7*n),this.layer2&&(this.layer2.alpha=n)}_recalcParams(){const l=Math.max(0,Math.min(1,this.intensity/100)),e=(l,e,n)=>l+(e-l)*n;this.speed1={x:e(.004,.02,l),y:e(0,.01,l)},this.speed2={x:e(-.005,-.015,l),y:e(.003,.015,l)}}static _createNoiseTexture(l=128,e=128){const n=document.createElement("canvas");n.width=l,n.height=e;const t=n.getContext("2d"),a=t.createImageData(l,e);for(let u=0;u<a.data.length;u+=4){const l=180+Math.floor(75*Math.random());a.data[u]=.4*l,a.data[u+1]=l,a.data[u+2]=.4*l,a.data[u+3]=255}return t.putImageData(a,0,0),ue.gPd.from(n)}}class ge{constructor(l,e,n){this.container=l,this.api=e,this.getIntensity=n||(()=>0),this.width=e.mapWidth*e.tileSize,this.height=e.mapHeight*e.tileSize,this.particles=[],this.intensity=0,this.maxParticles=15}resize(l,e){this.width=l,this.height=e}spawnOne(){const l=4+8*Math.random(),e=l>9,n=new ue.A1g;n.clear(),n.circle(0,0,l),n.fill({color:5592405,alpha:1}),n.circle(0,0,1.5*l),n.fill({color:16729344,alpha:.4}),n.moveTo(-l,0),n.lineTo(0,4*-l),n.lineTo(l,0),n.fill({color:16747520,alpha:.6});const t=this.api.getViewport?this.api.getViewport():null;let a,u;t?(a=t.x-200+Math.random()*(t.width+400),u=t.y-100-200*Math.random()):(a=Math.random()*this.width,u=-100-200*Math.random());const r=100+100*Math.random(),i=400+300*Math.random();n.x=a,n.y=u,n.rotation=Math.atan2(i,r)-Math.PI/2,this.container.addChild(n),this.particles.push({g:n,x:a,y:u,vx:r,vy:i,size:l,isLarge:e,alive:!0})}update(l){const e=Math.max(0,Math.min(100,this.getIntensity()));if(Math.abs(e-this.intensity)>.1){const n=1-Math.exp(-5e-4*l);this.intensity+=(e-this.intensity)*n}else this.intensity=e;const n=this.intensity/100,t=Math.floor(this.maxParticles*n);this.particles.length<t&&Math.random()<.02*n&&this.spawnOne();const a=l/1e3,u=[];for(let r=0;r<this.particles.length;r++){const l=this.particles[r];if(l.x+=l.vx*a,l.y+=l.vy*a,l.g.x=l.x,l.g.y=l.y,this.api.isSolidAt(l.x,l.y)){"function"===typeof this.api.onLavaImpact&&this.api.onLavaImpact({x:l.x,y:l.y,strength:l.isLarge?1.5:.8}),"function"===typeof this.api.onMeteorHit&&this.api.onMeteorHit({x:l.x,y:l.y,size:l.size,isLarge:l.isLarge}),l.alive=!1,u.push(r);continue}const e=this.api.getViewport?this.api.getViewport():null;(e&&(l.y>e.y+e.height+100||l.x>e.x+e.width+100)||!e&&(l.y>this.height+100||l.x>this.width+100))&&(l.alive=!1,u.push(r))}for(let r=u.length-1;r>=0;r--){const l=u[r],e=this.particles[l];if(e&&e.g)try{e.g.parent&&e.g.parent.removeChild(e.g),e.g.destroy()}catch{}this.particles.splice(l,1)}}destroy(){this.particles.forEach(l=>{try{l.g.parent&&l.g.parent.removeChild(l.g),l.g.destroy()}catch{}}),this.particles=[]}}class fe{constructor(l){this.container=l,this.node=new ue.mcf,this.container.addChild(this.node),this.droplets=[],this.rings=[],this.maxDroplets=48,this.maxRings=6}destroy(){try{this.node.parent&&this.node.parent.removeChild(this.node)}catch{}try{this.node.destroy({children:!0})}catch{}this.node=null,this.droplets=[],this.rings=[]}resize(){}trigger({x:l=0,y:e=0,strength:n=1,upward:t=!1}={}){const a=Math.max(.2,Math.min(3,Number(n)||1));if(this.rings.length<this.maxRings){const n=new ue.A1g;n.x=0,n.y=0,n.alpha=.8,this.node.addChild(n),this.rings.push({g:n,x:l,y:e,r:2+4*a,vr:.08+.12*a,life:0,max:450+250*a})}const u=Math.floor(8+18*a);for(let r=0;r<u&&this.droplets.length<this.maxDroplets;r++){const n=t?.15*-Math.PI+Math.random()*Math.PI*.3:.6*Math.PI+(Math.random()-.5)*Math.PI*.6,u=(.12+.25*Math.random())*(t?1.2:1)*(.6+.8*a),r=new ue.A1g;r.x=0,r.y=0,r.alpha=1,this.node.addChild(r),this.droplets.push({g:r,x:l,y:e,vx:Math.cos(n)*u,vy:Math.sin(n)*u,life:0,max:500+400*Math.random()})}}update(l){const e=Math.max(0,Number(l)||16.67);for(let n=this.droplets.length-1;n>=0;n--){const l=this.droplets[n];l.life+=e,l.vy+=.0018*e,l.x+=l.vx*e,l.y+=l.vy*e;const t=Math.min(1,l.life/l.max),a=1-t,u=1+1.5*(1-t),r=l.g;if(r.clear(),r.circle(l.x,l.y,u),r.fill({color:13233407,alpha:Math.max(0,a)}),l.life>=l.max){try{r.parent&&r.parent.removeChild(r)}catch{}try{r.destroy()}catch{}this.droplets.splice(n,1)}}for(let n=this.rings.length-1;n>=0;n--){const l=this.rings[n];l.life+=e,l.r+=l.vr*e;const t=.6*(1-Math.min(1,l.life/l.max)),a=l.g;if(a.clear(),a.circle(l.x,l.y,l.r),a.stroke({width:1.5,color:13233407,alpha:Math.max(0,t)}),l.life>=l.max){try{a.parent&&a.parent.removeChild(a)}catch{}try{a.destroy()}catch{}this.rings.splice(n,1)}}}}class me{constructor(l,e,n){this.container=l,this.api=e||{},this.getIntensity=n||(()=>0),this.node=new ue.mcf,this.container.addChild(this.node),this.intensity=0,this.time=0,this.spawnAcc=0,this.embers=[],this.maxEmbers=60,this.surfaces=[]}destroy(){try{this.node.parent&&this.node.parent.removeChild(this.node)}catch{}try{this.node.destroy({children:!0})}catch{}this.embers=[],this.surfaces=[]}setIntensity(l){const e=Math.max(0,Math.min(100,Number(l)||0));this.intensity=e}resize(){}rebuildSurfaces({mapWidth:l,mapHeight:e,tileSize:n,tileMapData:t,registryItems:a}){const u=l=>Array.isArray(a)?a.find(e=>e.id===l):null,r=l=>!!(l&&l.flags&&l.flags.lava),i=l,o=e,s=n,c=[];for(let d=0;d<o;d++){let l=-1;for(let e=0;e<i;e++){const n=t[d*i+e];if(!n){-1!==l&&(l=-1);continue}const a=u(n),o=d>0&&r(u(t[(d-1)*i+e]));if(r(a)&&!o)-1===l&&(l=e);else if(-1!==l){const n=(e-l)*s;n>0&&c.push({x:l*s,y:d*s,w:n}),l=-1}}if(-1!==l){const e=(i-l)*s;e>0&&c.push({x:l*s,y:d*s,w:e})}}this.surfaces=c}_spawnOne(){if(!this.surfaces.length)return;if(this.embers.length>=this.maxEmbers)return;const l=this.surfaces[Math.floor(Math.random()*this.surfaces.length)],e=l.x+Math.random()*l.w,n=l.y-2,t=new ue.A1g;this.node.addChild(t);const a=.02*(Math.random()-.5),u=-.05-.06*Math.random(),r=1200+1200*Math.random();this.embers.push({g:t,x:e,y:n,vx:a,vy:u,life:0,max:r,trail:[]})}update(l){const e=Math.max(0,Number(l)||16.67),n=Math.max(0,Math.min(100,this.getIntensity()));if(this.setIntensity(n),this.intensity<=0)return;const t=.0015+this.intensity/100*.0035,a=Math.max(.5,Math.min(3,this.surfaces.length/6));for(this.spawnAcc+=e*t*a;this.spawnAcc>=1;)this._spawnOne(),this.spawnAcc-=1;for(let u=this.embers.length-1;u>=0;u--){const l=this.embers[u];l.life+=e,l.vy+=6e-5*e,l.x+=l.vx*e,l.y+=l.vy*e,l.trail.length<14||l.trail.shift(),l.trail.push({x:l.x,y:l.y});const n=Math.min(1,l.life/l.max),t=1-n,a=1+1.5*(1-n),r=l.g;r.clear();for(let e=1;e<l.trail.length;e++){const n=l.trail[e-1],t=l.trail[e];r.moveTo(n.x,n.y),r.lineTo(t.x,t.y)}if(r.stroke({width:1,color:5592405,alpha:.25*t}),r.circle(l.x,l.y,a),r.fill({color:16753193,alpha:.9*t}),l.life>=l.max){try{r.parent&&r.parent.removeChild(r)}catch{}try{r.destroy()}catch{}this.embers.splice(u,1)}}}}class Ae{constructor(l){this.container=l,this.node=new ue.mcf,this.container.addChild(this.node),this.puffs=[],this.maxPuffs=80}destroy(){try{this.node.parent&&this.node.parent.removeChild(this.node)}catch{}try{this.node.destroy({children:!0})}catch{}this.node=null,this.puffs=[]}resize(){}trigger({x:l=0,y:e=0,strength:n=.7}={}){const t=Math.max(.2,Math.min(2.5,Number(n)||.7)),a=Math.max(2,Math.floor(3+4*t));for(let u=0;u<a&&this.puffs.length<this.maxPuffs;u++){const n=new ue.A1g;this.node.addChild(n);const a=(Math.random()-.5)*(.03+.03*t),u=-(.08+.08*Math.random())*(.8+.4*t),r=1.5+Math.random()*(2.5*t),i=450+350*Math.random();this.puffs.push({g:n,x:l,y:e-2,vx:a,vy:u,life:0,max:i,r:r})}}update(l){const e=Math.max(0,Number(l)||16.67);for(let n=this.puffs.length-1;n>=0;n--){const l=this.puffs[n];l.life+=e,l.x+=l.vx*e,l.y+=l.vy*e;const t=Math.min(1,l.life/l.max),a=.75*(1-t),u=l.r*(1+.8*t),r=l.g;if(r.clear(),r.circle(l.x,l.y,u),r.fill({color:14670546,alpha:Math.max(0,a)}),l.life>=l.max){try{r.parent&&r.parent.removeChild(r)}catch{}try{r.destroy()}catch{}this.puffs.splice(n,1)}}}}class be{constructor(l,e={}){this.container=l,this.bgContainer=e.bgContainer||null,this.mapWidth=e.mapWidth||0,this.mapHeight=e.mapHeight||0,this.tileSize=e.tileSize||32,this._regions=[],this._waterTex=null,this._lavaTex=null,this._quicksandTex=null,this._waterfallTex=null,this._lavaWaterfallTex=null,this._radioactiveWaterTex=null,this._radioactiveWaterfallTex=null,this._time=0,this._noiseTex=null,this._lavaDetailTex=null,this._waterDetailTex=null,this._quicksandDetailTex=null,this._playerState=null}setPlayerState(l){this._playerState=l}_checkPlayerInRegion(l){if(!this._playerState||!l||!l.node)return!1;const e=this._playerState,n=e.x||0,t=e.y||0,a=e.width||32,u=e.height||32,r=[{x:n+.5*a,y:t+.5*u},{x:n+.5*a,y:t+.1*u},{x:n+.5*a,y:t+.9*u}];for(const i of r){const e=Math.floor(i.x/this.tileSize),n=Math.floor(i.y/this.tileSize)*this.mapWidth+e;if(l.tileIndicesSet&&l.tileIndicesSet.has(n))return!0}return!1}getSurfaceY(l,e){if(!Array.isArray(this._regions)||0===this._regions.length)return null;const n=Math.max(0,Math.floor(Number(e)||0));for(const t of this._regions)if(t.type===l&&Array.isArray(t.topEdges))for(let l=0;l<t.topEdges.length;l++){const e=t.topEdges[l];if(n>=e.x&&n<=e.x+e.w)return e.y}return null}destroy(){try{for(const l of this._regions){try{l.node&&l.node.parent&&l.node.parent.removeChild(l.node)}catch{}try{l.bgNode&&l.bgNode.parent&&l.bgNode.parent.removeChild(l.bgNode)}catch{}try{l.node?.destroy({children:!0})}catch{}try{l.bgNode?.destroy({children:!0})}catch{}}}catch{}this._regions=[];try{this._waterTex?.destroy(!0)}catch{}try{this._lavaTex?.destroy(!0)}catch{}try{this._quicksandTex?.destroy(!0)}catch{}try{this._waterfallTex?.destroy(!0)}catch{}try{this._lavaWaterfallTex?.destroy(!0)}catch{}try{this._radioactiveWaterTex?.destroy(!0)}catch{}try{this._radioactiveWaterfallTex?.destroy(!0)}catch{}try{this._noiseTex?.destroy(!0)}catch{}try{this._lavaDetailTex?.destroy(!0)}catch{}try{this._waterDetailTex?.destroy(!0)}catch{}try{this._quicksandDetailTex?.destroy(!0)}catch{}if(this._waterTex=null,this._lavaTex=null,this._quicksandTex=null,this._waterfallTex=null,this._lavaWaterfallTex=null,this._radioactiveWaterTex=null,this._radioactiveWaterfallTex=null,this._noiseTex=null,this._lavaDetailTex=null,this._waterDetailTex=null,this._quicksandDetailTex=null,this._gradTextures){for(const l in this._gradTextures)try{this._gradTextures[l].destroy(!0)}catch{}this._gradTextures=null}}clear(){for(const l of this._regions){try{l.node?.parent&&l.node.parent.removeChild(l.node)}catch{}try{l.bgNode?.parent&&l.bgNode.parent.removeChild(l.bgNode)}catch{}try{l.node?.destroy({children:!0})}catch{}try{l.bgNode?.destroy({children:!0})}catch{}}this._regions=[]}resize(l,e,n){const t=Math.max(1,0|l),a=Math.max(1,0|e),u=Math.max(1,0|n),r=t!==this.mapWidth||a!==this.mapHeight||u!==this.tileSize;if(this.mapWidth=t,this.mapHeight=a,this.tileSize=u,r){try{this._waterTex?.destroy(!0)}catch{}try{this._lavaTex?.destroy(!0)}catch{}try{this._quicksandTex?.destroy(!0)}catch{}try{this._waterfallTex?.destroy(!0)}catch{}try{this._lavaWaterfallTex?.destroy(!0)}catch{}try{this._radioactiveWaterTex?.destroy(!0)}catch{}try{this._radioactiveWaterfallTex?.destroy(!0)}catch{}try{this._lavaDetailTex?.destroy(!0)}catch{}try{this._waterDetailTex?.destroy(!0)}catch{}try{this._quicksandDetailTex?.destroy(!0)}catch{}this._waterTex=null,this._lavaTex=null,this._quicksandTex=null,this._waterfallTex=null,this._lavaWaterfallTex=null,this._radioactiveWaterTex=null,this._radioactiveWaterfallTex=null,this._lavaDetailTex=null,this._waterDetailTex=null,this._quicksandDetailTex=null}}update(l){const e=Math.max(0,Number(l)||16.67);this._time+=e;const n={x:0,y:0},t={x:0,y:0},a={x:0,y:0},u={x:0,y:.15},r={x:0,y:.12},i={x:0,y:0},o={x:0,y:.12};for(const s of this._regions){const l=s.sprite;if(!l)continue;const c="lava"===s.type?t:"quicksand"===s.type?a:"waterfall"===s.type?u:"lava_waterfall"===s.type?r:"radioactive_waterfall"===s.type?o:"radioactive_water"===s.type?i:n;l.tilePosition.x+=c.x*e,l.tilePosition.y+=c.y*e;let d=.95;if("water"===s.type){d=this._checkPlayerInRegion(s)?.5:.95}else if("quicksand"===s.type){d=this._checkPlayerInRegion(s)?.7:1}else if("waterfall"===s.type||"lava_waterfall"===s.type||"radioactive_waterfall"===s.type){d=this._checkPlayerInRegion(s)?.4:.65}else if("radioactive_water"===s.type){d=this._checkPlayerInRegion(s)?.55:.9}else{d=this._checkPlayerInRegion(s)?.6:.98}void 0===s.currentAlpha&&(s.currentAlpha=l.alpha);const h=.005,p=d-s.currentAlpha;if(s.currentAlpha+=p*Math.min(1,e*h),l.alpha=s.currentAlpha,("waterfall"===s.type||"lava_waterfall"===s.type||"radioactive_waterfall"===s.type)&&s.splashG&&Array.isArray(s.bottomEdges)){const l=s.splashG;l.clear();const e=Math.max(2,Math.floor(.25*this.tileSize)),n=1e3;this._time;for(const a of s.bottomEdges){const n=e*(.8+.2*Math.sin(.01*this._time+a.x));l.rect(a.x,a.y+this.tileSize-n,a.w,n);for(let t=0;t<5;t++){const n=a.x+(13*a.x+37*t+.05*this._time)%a.w,u=a.y+this.tileSize-Math.random()*e*2;l.circle(n,u,1+2*Math.random())}}const t="lava_waterfall"===s.type?16763904:"radioactive_waterfall"===s.type?11403055:16777215;l.fill({color:t,alpha:.5+.2*Math.sin(.02*this._time)})}if(s.noise1&&("water"===s.type?(s.noise1.tilePosition.y-=.015*e,s.noise1.tilePosition.x+=.005*Math.sin(.001*this._time)*e):"lava"===s.type?(s.noise1.tilePosition.x+=.004*e,s.noise1.tilePosition.y+=.002*e):"quicksand"===s.type?(s.noise1.alpha=.4+.2*Math.sin(.001*this._time),s.noise1.tilePosition.x+=.001*e):s.type.includes("waterfall")?(s.noise1.tilePosition.y+=.8*c.y*e,s.noise1.tilePosition.x+=.02*Math.sin(.002*this._time)*e):(s.noise1.tilePosition.x+=.008*e,s.noise1.tilePosition.y+=.004*e)),s.noise2&&("quicksand"===s.type?s.noise2.alpha=.2+.1*Math.cos(.0015*this._time):s.type.includes("waterfall")?s.noise2.tilePosition.y+=1.2*c.y*e:(s.noise2.tilePosition.x-=.005*e,s.noise2.tilePosition.y+=.003*e)),Array.isArray(s.waves)||(s.waves=[]),s.waves.length)for(let n=s.waves.length-1;n>=0;n--){const l=s.waves[n];l.t+=e;const t="water"===s.type?l.lifeMsWater:l.lifeMsLava;if(l.t>=t){s.waves.splice(n,1);continue}l.radius=l.startRadius+l.speed*(l.t/1e3);const a=Math.exp(-l.t/("water"===s.type?1400:900));l.ampNow=l.amp*a}if("water"===s.type&&s.capG&&Array.isArray(s.topEdges)&&s.topEdges.length){const l=s.capG,e=Math.max(1,Math.floor(.06*this.tileSize)),n=Math.max(1,Math.floor(.08*this.tileSize));l.clear();for(let t=0;t<s.topEdges.length;t++){const a=s.topEdges[t];let u=Math.sin(.002*this._time+.15*a.x)*(.5*e);if(s.waves&&s.waves.length){const l=a.x+.5*a.w;for(let n=0;n<s.waves.length;n++){const e=s.waves[n],t=l-e.cx;if(Math.abs(t)>e.radius+.6*a.w)continue;const r=Math.max(8,.6*e.radius),i=Math.exp(-t*t/(2*r*r));u+=e.ampNow*i}const e=Math.max(2,.22*this.tileSize);u>e&&(u=e),u<-e&&(u=-e)}l.rect(a.x,a.y-n+u,a.w,n)}l.fill({color:13233407,alpha:.35})}}}build({mapWidth:l,mapHeight:e,tileSize:n,tileMapData:t,registryItems:a}){if(!Array.isArray(t)||!Array.isArray(a))return;this.resize(l,e,n),this.clear();const u=this.mapWidth,r=this.mapHeight,i=this.tileSize,o=u*r,s=l=>{const e=t[l];if(!e)return null;const n=(l=>a.find(e=>e.id===l))(e);return n&&n.flags&&n.flags.liquid?n.flags.lava_waterfall?"lava_waterfall":n.flags.radioactive_waterfall?"radioactive_waterfall":n.flags.waterfall?"waterfall":n.flags.radioactive_water?"radioactive_water":n.flags.quicksand?"quicksand":n.flags.lava?"lava":n.flags.water?"water":"liquid":null},c=new Uint8Array(o),d=[1,-1,u,-u];for(let h=0;h<o;h++){if(c[h])continue;const l=s(h);if(!l){c[h]=1;continue}const e=[],n=[h];for(c[h]=1;n.length;){const t=n.pop();e.push(t);for(let e=0;e<4;e++){const a=t+d[e];if(a<0||a>=o)continue;if(c[a])continue;if(e<2){if(Math.floor(t/u)!==Math.floor(a/u))continue}s(a)===l?(c[a]=1,n.push(a)):c[a]=c[a]||0}}0!==e.length&&this._addRegion(l,e,u,r,i)}}_addRegion(l,e,n,t,a){const u=new ue.mcf,r=new ue.A1g,i=n*a,o=t*a,s=new Set(e);r.clear();for(let b=0;b<e.length;b++){const l=e[b],t=l%n,u=Math.floor(l/n);r.rect(t*a-1,u*a-1,a+2,a+2)}r.fill({color:16777215,alpha:1});const c="lava"===l?this._lavaTex||(this._lavaTex=this._createLavaTexture(a)):"quicksand"===l?this._quicksandTex||(this._quicksandTex=this._createQuicksandTexture(a)):"waterfall"===l?this._waterfallTex||(this._waterfallTex=this._createWaterfallTexture(a)):"lava_waterfall"===l?this._lavaWaterfallTex||(this._lavaWaterfallTex=this._createLavaWaterfallTexture(a)):"radioactive_waterfall"===l?this._radioactiveWaterfallTex||(this._radioactiveWaterfallTex=this._createRadioactiveWaterfallTexture(a)):"radioactive_water"===l?this._radioactiveWaterTex||(this._radioactiveWaterTex=this._createRadioactiveWaterTexture(a)):this._waterTex||(this._waterTex=this._createWaterTexture(a));c.source&&c.source.style&&(c.source.style.addressMode="repeat");const d=new ue.t9Q({texture:c,width:i,height:o});let h,p;d.tileScale.set(1,1),d.alpha="lava"===l?.98:"waterfall"===l||"lava_waterfall"===l||"radioactive_waterfall"===l?.6:.92,u.addChild(d),l.includes("lava")?(h=this._lavaDetailTex||(this._lavaDetailTex=this._createLavaDetailTexture()),p=this._noiseTex||(this._noiseTex=this._createNoiseTexture())):"quicksand"===l?(h=this._quicksandDetailTex||(this._quicksandDetailTex=this._createQuicksandDetailTexture()),p=this._noiseTex||(this._noiseTex=this._createNoiseTexture())):l.includes("radioactive")?(h=this._noiseTex||(this._noiseTex=this._createNoiseTexture()),p=this._noiseTex):(h=this._waterDetailTex||(this._waterDetailTex=this._createWaterDetailTexture()),p=this._noiseTex||(this._noiseTex=this._createNoiseTexture())),h.source&&h.source.style&&(h.source.style.addressMode="repeat"),p.source&&p.source.style&&(p.source.style.addressMode="repeat");const g=new ue.t9Q({texture:h,width:i,height:o}),f=new ue.t9Q({texture:p,width:i,height:o});"water"===l||"radioactive_water"===l?(g.alpha=.25,f.alpha=.15):"waterfall"===l||"lava_waterfall"===l||"radioactive_waterfall"===l?(g.alpha=.2,f.alpha=.15):"lava"===l?(g.alpha=.4,f.alpha=.2):"quicksand"===l?(g.alpha=.6,f.alpha=.3):(g.alpha=.12,f.alpha=.15),u.addChild(g,f),u.addChild(r),u.mask=r;let m=null;if(this.bgContainer){m=new ue.mcf;const t=new ue.A1g;t.clear();for(let l=0;l<e.length;l++){const u=e[l],r=u%n,i=Math.floor(u/n);t.rect(r*a-1,i*a-1,a+2,a+2)}t.fill({color:16777215,alpha:1}),m.addChild(t),m.mask=t;new ue.A1g;let u=1/0,r=-1/0;for(let l=0;l<e.length;l++){const t=Math.floor(e[l]/n)*a;t<u&&(u=t),t+a>r&&(r=t+a)}if(this._gradTextures||(this._gradTextures={}),!this._gradTextures[l]){let e,n;l.includes("lava")?(e="#ffaa00",n="#884400"):l.includes("radioactive")?(e="#004400",n="#001100"):"quicksand"===l?(e="#5d4037",n="#2d1d19"):(e="#3a7fb8",n="#0b1d2e"),this._gradTextures[l]=this._createGradientTexture(e,n)}const s=new ue.kxk(this._gradTextures[l]);s.width=i,s.height=o,s.y=0,m.addChild(s),this.bgContainer.addChild(m)}const A="lava"===l?.98:"waterfall"===l||"lava_waterfall"===l||"radioactive_waterfall"===l?.6:.92;if("water"===l||"radioactive_water"===l){const t=new ue.A1g;u.addChild(t);const i=this._computeTopEdgeSpans(e,n,a);this._regions.push({type:l,node:u,bgNode:m,mask:r,sprite:d,noise1:g,noise2:f,capG:t,topEdges:i,waves:[],tileIndicesSet:s,currentAlpha:A})}else if("waterfall"===l||"lava_waterfall"===l||"radioactive_waterfall"===l){const t=new ue.A1g;u.addChild(t);const i=this._computeBottomEdgeSpans(e,n,a);this._regions.push({type:l,node:u,bgNode:m,mask:r,sprite:d,noise1:g,noise2:f,splashG:t,bottomEdges:i,tileIndicesSet:s,currentAlpha:A})}else this._regions.push({type:l,node:u,bgNode:m,mask:r,sprite:d,noise1:g,noise2:f,waves:[],tileIndicesSet:s,currentAlpha:A});this.container.addChild(u)}_createGradientTexture(l,e){const n=document.createElement("canvas");n.width=2,n.height=64;const t=n.getContext("2d"),a=t.createLinearGradient(0,0,0,64);return a.addColorStop(0,l),a.addColorStop(1,e),t.fillStyle=a,t.fillRect(0,0,2,64),ue.gPd.from(n)}_createWaterTexture(l){const e=document.createElement("canvas");e.width=64,e.height=64;const n=e.getContext("2d");return n.fillStyle="#3a7fb8",n.fillRect(0,0,64,64),ue.gPd.from(e)}_createLavaTexture(l){const e=document.createElement("canvas");e.width=64,e.height=64;const n=e.getContext("2d");return n.fillStyle="#ffcc00",n.fillRect(0,0,64,64),ue.gPd.from(e)}_createLavaWaterfallTexture(l){const e=document.createElement("canvas"),n=64;e.width=n,e.height=n;const t=e.getContext("2d");t.fillStyle="#ffcc00",t.fillRect(0,0,n,n),t.fillStyle="#ffed8a";for(let a=0;a<10;a++){t.globalAlpha=.2+.3*Math.random();const l=Math.random()*n,e=Math.random()*n,a=10+15*Math.random(),u=3+4*Math.random();t.fillRect(l,e,u,a),e+a>n&&t.fillRect(l,e-n,u,a)}return ue.gPd.from(e)}_createQuicksandTexture(l){const e=document.createElement("canvas"),n=64;e.width=n,e.height=n;const t=e.getContext("2d");t.fillStyle="#a6915b",t.fillRect(0,0,n,n),t.globalAlpha=.3,t.fillStyle="#5c5031";for(let a=0;a<25;a++)t.fillRect(Math.random()*n,Math.random()*n,1,1);return ue.gPd.from(e)}_createWaterfallTexture(l){const e=document.createElement("canvas"),n=64;e.width=n,e.height=n;const t=e.getContext("2d");t.fillStyle="#3a7fb8",t.fillRect(0,0,n,n),t.fillStyle="#ffffff";for(let a=0;a<15;a++){t.globalAlpha=.1+.4*Math.random();const l=Math.random()*n,e=Math.random()*n,a=10+25*Math.random(),u=1+2*Math.random();t.fillRect(l,e,u,a),e+a>n&&t.fillRect(l,e-n,u,a)}return ue.gPd.from(e)}_createRadioactiveWaterTexture(l){const e=document.createElement("canvas"),n=64;e.width=n,e.height=n;const t=e.getContext("2d");t.fillStyle="#1a5c1a",t.fillRect(0,0,n,n),t.fillStyle="#adff2f";for(let a=0;a<12;a++)t.globalAlpha=.3+.4*Math.random(),t.beginPath(),t.arc(Math.random()*n,Math.random()*n,1+1.5*Math.random(),0,2*Math.PI),t.fill();return ue.gPd.from(e)}_createRadioactiveWaterfallTexture(l){const e=document.createElement("canvas"),n=64;e.width=n,e.height=n;const t=e.getContext("2d");t.fillStyle="#1a5c1a",t.fillRect(0,0,n,n),t.fillStyle="#adff2f";for(let a=0;a<12;a++){t.globalAlpha=.15+.3*Math.random();const l=Math.random()*n,e=Math.random()*n,a=8+15*Math.random(),u=1+2*Math.random();t.fillRect(l,e,u,a),e+a>n&&t.fillRect(l,e-n,u,a)}t.fillStyle="#ffffff";for(let a=0;a<6;a++)t.globalAlpha=.2+.3*Math.random(),t.beginPath(),t.arc(Math.random()*n,Math.random()*n,1+Math.random(),0,2*Math.PI),t.fill();return ue.gPd.from(e)}_createLavaDetailTexture(l=128,e=128){const n=document.createElement("canvas");n.width=l,n.height=e;const t=n.getContext("2d");t.fillStyle="#ff8800";for(let a=0;a<10;a++){t.globalAlpha=.3+.4*Math.random();const n=12+24*Math.random(),a=10+20*Math.random();t.fillRect(Math.random()*l,Math.random()*e,n,a)}return ue.gPd.from(n)}_createWaterDetailTexture(l=128,e=128){const n=document.createElement("canvas");n.width=l,n.height=e;const t=n.getContext("2d");t.fillStyle="#ffffff";for(let a=0;a<12;a++)t.globalAlpha=.2+.4*Math.random(),t.beginPath(),t.arc(Math.random()*l,Math.random()*e,1+2*Math.random(),0,2*Math.PI),t.fill();return ue.gPd.from(n)}_createQuicksandDetailTexture(l=128,e=128){const n=document.createElement("canvas");n.width=l,n.height=e;const t=n.getContext("2d");t.fillStyle="#5c5031";for(let a=0;a<100;a++)t.globalAlpha=.1+.5*Math.random(),t.fillRect(Math.random()*l,Math.random()*e,1,1);return ue.gPd.from(n)}_createNoiseTexture(l=256,e=256){const n=document.createElement("canvas");n.width=l,n.height=e;const t=n.getContext("2d");t.fillStyle="#ffffff";for(let a=0;a<500;a++)t.globalAlpha=.05*Math.random(),t.fillRect(Math.random()*l,Math.random()*e,2,2);return ue.gPd.from(n)}_computeTopEdgeSpans(l,e,n){const t=new Set(l),a=[],u=new Map;for(const r of l){const l=Math.floor(r/e),n=r%e,a=r-e;if(!t.has(a)){const e=u.get(l)||[];e.push(n),u.set(l,e)}}for(const[r,i]of u.entries()){i.sort((l,e)=>l-e);let l=null,e=null;for(const t of i)null!==l?t!==e+1?(a.push({x:l*n,y:r*n,w:(e-l+1)*n}),l=t,e=t):e=t:(l=t,e=t);null!==l&&a.push({x:l*n,y:r*n,w:(e-l+1)*n})}return a}_computeBottomEdgeSpans(l,e,n){const t=new Set(l),a=[],u=new Map;for(const r of l){const l=Math.floor(r/e),n=r%e,a=r+e;if(!t.has(a)){const e=u.get(l)||[];e.push(n),u.set(l,e)}}for(const[r,i]of u.entries()){i.sort((l,e)=>l-e);let l=null,e=null;for(const t of i)null!==l?t!==e+1?(a.push({x:l*n,y:r*n,w:(e-l+1)*n}),l=t,e=t):e=t:(l=t,e=t);null!==l&&a.push({x:l*n,y:r*n,w:(e-l+1)*n})}return a}addWave(l,e,n=1){const t="lava"===l?"lava":"water",a=Math.max(0,Math.min(this.mapWidth*this.tileSize,Number(e)||0));for(const u of this._regions){if(u.type!==t)continue;const l=u.topEdges;if(Array.isArray(l)&&0!==l.length)for(let e=0;e<l.length;e++){const r=l[e];if(a>=r.x&&a<=r.x+r.w){Array.isArray(u.waves)||(u.waves=[]),u.waves.length>24&&u.waves.shift();const l=this.tileSize,e=Math.max(.15,Math.min(3,Number(n)||1)),r=("water"===t?.18*l:.1*l)*(.4+.6*Math.min(1,e)),i="water"===t?40+60*e:30+40*e,o=Math.max(4,.2*l),s=1600+900*e,c=900+600*e;return u.waves.push({cx:a,t:0,amp:r,ampNow:r,speed:i,radius:o,startRadius:o,lifeMsWater:s,lifeMsLava:c}),!0}}}return!1}}class xe extends ue.mcf{constructor(l={}){super();const{width:e=32,height:n=4,offsetX:t=0,offsetY:a=-6,thresholds:u={warn:.55,danger:.35},colors:r={ok:3066993,warn:15844367,danger:15158332},trackColor:i=6710886,borderColor:o=0,borderAlpha:s=.8}=l;this._w=Math.max(4,Math.floor(e)),this._h=Math.max(2,Math.floor(n)),this._pct=-1,this._color=16777215,this._thresholds=u,this._colors=r,this._trackColor=i,this._borderColor=o,this._borderAlpha=s,this.x=t||0,this.y=a||0,this._track=new ue.A1g,this._fill=new ue.A1g,this.addChild(this._track),this.addChild(this._fill),this._redrawAll()}resize(l,e){const n=Math.max(4,Math.floor(l||this._w)),t=Math.max(2,Math.floor(e||this._h));n===this._w&&t===this._h||(this._w=n,this._h=t,this._redrawAll())}update(l,e){const n=Math.max(0,Number(e)||0);if(n<=0||!Number.isFinite(l))return void(this.visible=!1);const t=Math.max(0,Math.min(n,Number(l))),a=n>0?t/n:0;this.visible=!0;const u=a<this._thresholds.danger?this._colors.danger:a<this._thresholds.warn?this._colors.warn:this._colors.ok;(Math.abs(a-this._pct)>.001||u!==this._color)&&(this._pct=a,this._color=u,this._redrawFill())}_redrawAll(){const l=this._w,e=this._h;this._track.clear(),this._track.roundRect(0,0,l,e,Math.min(3,.5*e)),this._track.fill({color:this._trackColor,alpha:.85}),this._redrawFill()}_redrawFill(){const l=this._w,e=this._h,n=Math.max(0,Math.floor(l*Math.max(0,Math.min(1,this._pct)))),t=Math.min(2,Math.floor(e/2));this._fill.clear(),n<=0||(this._fill.roundRect(0,0,n,e,t),this._fill.fill({color:this._color,alpha:1}))}}const _e=xe,we=Object.freeze({parallax:10,tiles:20,tilesAnim:25,liquidBackground:28,objBehind:30,secretsBelow:35,player:40,projectiles:50,objFront:60,secretsAbove:65,weather:70,fog:80,liquids:90,liquidFx:100,overlay:110}),ye=new Map,ke=l=>{if(!l)return console.warn("[getTexture] No URL provided"),null;if(ye.has(l))return ye.get(l);try{const e=ue.gPd.from(l);return e?(ye.set(l,e),e):(console.warn("[getTexture] Failed to create texture from URL:",l),null)}catch(e){return console.error("[getTexture] Error creating texture:",l,e),null}},ve=l=>{const e=Number(l);return 1e3/(Number.isFinite(e)&&e>0?e:500)/60},Me=(l,e)=>l.find(l=>l.id===e),Se=l=>!!(l&&l.flags&&l.flags.water),Ce=l=>!!(l&&l.flags&&l.flags.lava),Ie=l=>!!(l&&l.flags&&l.flags.waterfall),Ee=l=>!!(l&&l.flags&&l.flags.lava_waterfall),je=l=>!!(l&&l.flags&&l.flags.radioactive_water),Re=l=>!!(l&&l.flags&&l.flags.radioactive_waterfall);class Be{constructor(l,e){this.container=l,this.cache=e,this.bgSprite=null,this.imgSprite=null,this._worldW=0,this._worldH=0,this._lastCameraX=0,this._currentUrl=null}build({worldWidth:l,worldHeight:e,url:n,color:t,factor:a=.3,minWidth:u=0,minHeight:r=0}){if(!this.container)return;this.clear();const i=Math.max(l,u),o=Math.max(e,r);this._worldW=l,this._worldH=e,this._currentUrl=n;const s="string"===typeof t&&t.startsWith("#")?parseInt(t.slice(1),16):Number(t)||8900331,c=new ue.kxk(ue.gPd.WHITE);c.tint=s,c.width=i,c.height=o,c.alpha=1;try{c.filters=[new ue.eV2({strength:.8,quality:2})]}catch{}if(this.container.addChild(c),this.bgSprite=c,n){const l=l=>{if(!this.container||this._currentUrl!==n)return;if(this.imgSprite){try{this.container.removeChild(this.imgSprite)}catch{}try{this.imgSprite.destroy()}catch{}this.imgSprite=null}if(!l)return void console.warn("[ParallaxBackground] setupImage called with no texture");l.baseTexture&&(l.baseTexture.wrapMode=ue.uRw.REPEAT),l.source&&(l.source.addressMode="repeat");const e=new ue.t9Q({texture:l,width:i,height:o}),t=l.height||(l.source?l.source.height:0)||1,u=o/t;e.tileScale.set(1,u),e.alpha=1;try{e.filters=[new ue.eV2({strength:1.2,quality:2})]}catch{}this.container.addChild(e),this.imgSprite=e,this.setScroll(this._lastCameraX||0,a)};let e=null;try{e=ue.sP.get(n)}catch(d){e=this.cache?.get(n)||ue.gPd.from(n)}e&&(e.valid||e.baseTexture&&e.baseTexture.valid||e.source&&e.source.width>0)?(console.log("[ParallaxBackground] Texture already ready"),l(e)):(console.log("[ParallaxBackground] Texture not ready, loading via Assets.load..."),ue.sP.load(n).then(e=>{console.log("[ParallaxBackground] Texture loaded via Assets.load"),l(e)}).catch(l=>{console.error("[ParallaxBackground] Failed to load background image:",n,l)}))}}setScroll(l,e=.3){this._lastCameraX=l,this.imgSprite&&"tilePosition"in this.imgSprite&&(this.imgSprite.tilePosition.x=-l*e,this.imgSprite.tilePosition.y=0)}resize(l,e,n=0,t=0){const a=Math.max(l,n),u=Math.max(e,t);if(this._worldW=l,this._worldH=e,this.bgSprite&&(this.bgSprite.width=a,this.bgSprite.height=u),this.imgSprite){this.imgSprite.width=a,this.imgSprite.height=u;const l=this.imgSprite.texture,e=l?.height||(l?.source?l.source.height:0)||1;if(this.imgSprite.tileScale&&e>0){const l=u/e;this.imgSprite.tileScale.set(1,l)}}}clear(){if(this.bgSprite){try{this.container.removeChild(this.bgSprite)}catch{}try{this.bgSprite.destroy()}catch{}this.bgSprite=null}if(this.imgSprite){try{this.container.removeChild(this.imgSprite)}catch{}try{this.imgSprite.destroy()}catch{}this.imgSprite=null}}destroy(){this.clear(),this.container=null,this.cache=null}}const De=l=>{if(!l)return null;let e=null;if(Array.isArray(l.textures)&&l.textures.length>1){const n=l.textures.map(l=>ke(l)).filter(Boolean);n.length>0&&(e=new ue.Dl5(n),e.animationSpeed=ve(l.animationSpeed),e.play())}if(!e&&l.texture){const n=ke(l.texture);n&&(e=new ue.kxk(n))}return!e&&l.editorIcon&&(e=new ue.EYj({text:l.editorIcon,style:{fontSize:24,fill:16777215,fontWeight:"bold",dropShadow:!0,dropShadowColor:0,dropShadowBlur:4,dropShadowDistance:2}}),e.anchor.set(.5,.5)),e||(e=new ue.kxk(ue.gPd.WHITE)),e instanceof ue.kxk?e.anchor.set(0,0):ue.EYj,e},Ne=(l,e,n,t)=>{const a=new ue.mcf,u=l||null,r=Array.isArray(e)?e.find(l=>"player_target_100"===l.id)||e.find(l=>"player_target"===l.id):null,i=De(u)||new ue.kxk(ue.gPd.WHITE),o=De(r)||null;a.addChild(i),o&&a.addChild(o);let s=null;try{s=new _e({width:n?.width||t,height:4,offsetX:0,offsetY:-5}),a.addChild(s)}catch(c){console.warn("Failed to create health bar:",c)}return i.visible=!0,o&&(o.visible=!1),{container:a,sprites:{def:i,hit:o},healthBar:s}};ue.sP.setPreferences?.({skipCacheIdWarning:!0,preferCreateImageBitmap:!1});const Te=[],Oe={},ze=({mapWidth:l,mapHeight:e,tileSize:a=32,tileMapData:u=Te,objectMapData:r=Te,secretMapData:i=Te,revealedSecrets:o=Te,registryItems:s=Te,playerState:c,playerVisuals:d,backgroundImage:h,backgroundColor:p,backgroundParallaxFactor:g=.3,cameraScrollX:f=0,weatherRain:m=0,weatherSnow:A=0,weatherClouds:b=0,weatherLavaRain:x=0,weatherRadioactiveFog:_=0,weatherMeteorRain:w=0,projectiles:y=Te,healthBarEnabled:k=!0,objectMetadata:v=Oe,weatherFog:M=0,weatherThunder:S=0,oxygenBarEnabled:C=!0,lavaBarEnabled:I=!0,waterSplashesEnabled:E=!0,lavaEmbersEnabled:j=!0,isEditor:R=!1,isEditorPlayMode:B=!1,showGrid:D=!1,renderLayers:N=null,pointerEvents:T="auto",onWeatherEffectHit:O=null})=>{const[z,Q]=(0,t.useState)(!1),P=(0,t.useRef)(null),G=(0,t.useRef)(null),W=(0,t.useRef)(null),F=(0,t.useRef)(null),U=(0,t.useRef)(0),L=(0,t.useRef)(Number(g)||.3),V=(0,t.useRef)({x:0,y:0}),Y=(0,t.useRef)(null),H=(0,t.useRef)(null),J=(0,t.useRef)(h),K=(0,t.useRef)(p),q=(0,t.useRef)(null),X=(0,t.useRef)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ll=(0,t.useRef)(null),el=(0,t.useRef)({def:null,hit:null}),nl=(0,t.useRef)(null),tl=(0,t.useRef)(null),al=(0,t.useRef)(null),ul=(0,t.useRef)(null),rl=(0,t.useRef)(null),il=(0,t.useRef)(null),ol=(0,t.useRef)(null),sl=(0,t.useRef)({rain:null,snow:null,clouds:null,thunder:null,fog:null,lavaRain:null,radioactiveFog:null,meteorRain:null}),cl=(0,t.useRef)({rain:0,snow:0,clouds:0,fog:0,thunder:0,lavaRain:0,radioactiveFog:0,meteorRain:0}),dl=(0,t.useRef)(null),hl=(0,t.useRef)(new Map),pl=(0,t.useRef)(null),gl=(0,t.useRef)(new Map),fl=(0,t.useRef)(Te),ml=(0,t.useRef)(null),Al=(0,t.useRef)(!1!==k),bl=(0,t.useRef)(!1!==C),xl=(0,t.useRef)(!1!==I),_l=(0,t.useRef)(null),wl=(0,t.useRef)({g:null,time:0,targetAlpha:0,currentAlpha:0}),yl=((0,t.useRef)(null),(0,t.useRef)(null),(0,t.useRef)(null)),kl=(0,t.useRef)(null),vl=(0,t.useRef)(null),Ml=(0,t.useRef)(null),Sl=(0,t.useRef)(null),Cl=(0,t.useRef)(null),Il=(0,t.useRef)(!1!==E),El=(0,t.useRef)(!1!==j),jl=(0,t.useRef)({inWater:!1,headUnder:!1,vy:0}),Rl=(0,t.useRef)(null),Bl=(0,t.useRef)(D);(0,t.useEffect)(()=>{tl.current=c},[c]),(0,t.useEffect)(()=>{Bl.current=D},[D]),(0,t.useEffect)(()=>{fl.current=Array.isArray(y)?y:[]},[y]),(0,t.useEffect)(()=>{Al.current=!1!==k},[k]),(0,t.useEffect)(()=>{bl.current=!1!==C},[C]),(0,t.useEffect)(()=>{xl.current=!1!==I},[I]),(0,t.useEffect)(()=>{Il.current=!1!==E},[E]),(0,t.useEffect)(()=>{El.current=!1!==j},[j]),(0,t.useEffect)(()=>{U.current=Number(f)||0},[f]),(0,t.useEffect)(()=>{L.current=Number(g)||.3},[g]),(0,t.useEffect)(()=>{J.current=h},[h]),(0,t.useEffect)(()=>{K.current=p},[p]),(0,t.useEffect)(()=>{cl.current={rain:Number(m)||0,snow:Number(A)||0,clouds:Number(b)||0,fog:Number(M)||0,thunder:Number(S)||0,lavaRain:Number(x)||0,radioactiveFog:Number(_)||0,meteorRain:Number(w)||0}},[m,A,b,M,S,x,_,w]);const Dl=(0,t.useMemo)(()=>(()=>{let l;try{l=n(2201)}catch(e){l=null}return n=>{if(!l)return console.warn("[BackgroundResolver] No bgContext available"),null;if(!n){const e=l.keys();if(e&&e.length){const n=l(e[0]);return n.default||n}return null}const t=`./${n.split("/").pop()}`;try{const e=l(t);return e.default||e}catch(e){const t=l.keys();if(t&&t.length){const e=l(t[0]);return e.default||e}return null}}})(),[]),Tl=(0,t.useMemo)(()=>((l,e,n,t,a)=>(u,r)=>{if(r<0)return!1;if(u<0)return!0;const i=Math.floor(u/n),o=Math.floor(r/n);if(i<0||o<0||i>=l||o>=e)return!1;const s=t[o*l+i];if(!s)return!1;const c=Me(a,s);if(!c)return!1;const d=c.collision;return!!d&&(!0===d||"object"===typeof d&&!!(d.top||d.bottom||d.left||d.right))})(l,e,a,u,s),[l,e,a,u,s]),Ol=(0,t.useCallback)(()=>{const n=W.current;if(!n)return;ml.current||(ml.current=new re),F.current||(F.current=((l,e)=>{let n=null,t=null;return{build:a=>{const{worldWidth:u,worldHeight:r,url:i,color:o,factor:s,resolveBackgroundUrl:c,minWidth:d=0,minHeight:h=0}=a;n||(n=new Be(l,e));let p=null;i&&(p=c?c(i):i),n.build({worldWidth:u,worldHeight:r,url:p,color:o||"#87CEEB",factor:s||.3,minWidth:d,minHeight:h}),t=n.imgSprite||n.bgSprite},setScroll:(l,e)=>{n&&n.setScroll(l,e)},resize:(l,e,t=0,a=0)=>{n&&n.resize(l,e,t,a)},destroy:()=>{if(n){try{n.destroy()}catch(l){}n=null,t=null}},get sprite(){return n?.imgSprite||n?.bgSprite},get helper(){return n}}})(n,ml.current));const t=J.current,u=K.current,r=L.current||.3;F.current.build({worldWidth:l*a,worldHeight:e*a,url:t,color:u,factor:r,resolveBackgroundUrl:Dl,minWidth:G.current?.screen?.width||0,minHeight:G.current?.screen?.height||0})},[l,e,a,Dl]);return(0,t.useEffect)(()=>{let n=!1;return(async()=>{if(G.current)return;const t=new ue.lgM;try{if(await t.init({resizeTo:P.current,backgroundAlpha:0,antialias:!1,autoDensity:!0}),n)return void t.destroy(!0,{children:!0,texture:!0});if(!t.renderer)return;G.current=t,t.stage.sortableChildren=!0;const r=new ue.mcf,i=new ue.mcf,o=new ue.mcf,h=new ue.mcf,p=new ue.mcf,g=new ue.mcf,f=new ue.mcf,m=new ue.mcf,A=new ue.mcf,b=new ue.mcf,x=new ue.mcf,_=new ue.mcf,w=new ue.mcf,y=new ue.mcf,k=new ue.mcf,v=new ue.mcf;v.zIndex=we.parallax,r.zIndex=we.tiles,i.zIndex=we.tilesAnim,o.zIndex=we.objBehind,h.zIndex=we.objFront,p.zIndex=we.secretsBelow,g.zIndex=we.secretsAbove,f.zIndex=we.player,m.zIndex=we.player,A.zIndex=we.weather,w.zIndex=we.fog,b.zIndex=we.liquidBackground,x.zIndex=we.liquids,_.zIndex=we.liquidFx,y.zIndex=we.projectiles,k.zIndex=we.overlay,Y.current=r,H.current=i,q.current=o,X.current=h,Z.current={below:p,above:g},al.current=A,ll.current=f,rl.current=b,ul.current=x,ol.current=w,dl.current=y,pl.current=m,_l.current=k;const M=new ue.A1g;Rl.current=M,k.addChild(M),W.current=v;const S={background:[r,i],parallax:[v],tiles:[r,i],objects:[o,h,p,g,m,y],player:[f],weather:[A,w],liquids:[b,x,_],overlay:[k]};N?N.forEach(l=>{const e=S[l];e&&e.forEach(l=>{t.stage.children.includes(l)||t.stage.addChild(l)})}):t.stage.addChild(r,i,v,b,o,p,f,m,y,h,g,A,w,x,_,k);try{const l=new Set,e=e=>{"string"===typeof e&&e.length&&l.add(e)};s.forEach(l=>{e(l?.texture),Array.isArray(l?.textures)&&l.textures.forEach(e)}),d&&(e(d.texture),Array.isArray(d.textures)&&d.textures.forEach(e));const n=Dl(J.current);n&&e(n);const t=Array.from(l);t.length&&(console.log("[PixiStage] Preloading",t.length,"textures..."),await ue.sP.load(t),console.log("[PixiStage] Textures preloaded successfully"))}catch(u){console.warn("Pixi Assets preload encountered an issue (continuing):",u)}const C=Ne(d,s,c,a);f.addChild(C.container),$.current=C.container,el.current=C.sprites,nl.current=C.healthBar,P.current&&t.renderer&&t.canvas&&(P.current.innerHTML="",P.current.appendChild(t.canvas));const I=new ue.A1g;k.addChild(I),wl.current.g=I;const E=l*a,j=e*a;I.clear(),I.rect(0,0,E,j),I.fill({color:1919093,alpha:1}),I.alpha=0,I.visible=!1;const R=new _e({width:c?.width||a,height:4,offsetX:0,offsetY:0});R.visible=!1,k.addChild(R),yl.current=R;const B={ok:3067377,warn:3447003,danger:2060210},D=new _e({width:c?.width||a,height:4,offsetX:0,offsetY:0,colors:B});D.visible=!1,k.addChild(D),kl.current=D;const T={ok:16763904,warn:16755200,danger:16746496},O=new _e({width:c?.width||a,height:4,offsetX:0,offsetY:0,colors:T});O.visible=!1,k.addChild(O),vl.current=O,t.canvas&&t.renderer&&(t.canvas.addEventListener("webglcontextlost",l=>{l.preventDefault(),console.warn("WebGL context lost")}),t.canvas.addEventListener("webglcontextrestored",()=>{console.info("WebGL context restored")}));try{il.current&&il.current.destroy(),ul.current&&(il.current=new be(ul.current,{mapWidth:l,mapHeight:e,tileSize:a,bgContainer:rl.current}))}catch(u){console.warn("LiquidRegionSystem init failed:",u)}try{Ml.current=new fe(_)}catch{}try{Cl.current=new Ae(_)}catch{}try{Sl.current=new me(ul.current,{mapWidth:l,mapHeight:e,tileSize:a},()=>El.current?100:0)}catch{}Ol(),G.current=t,Q(!0),t.ticker.add(()=>{if(Rl.current&&(Rl.current.clear(),Bl.current)){for(let n=0;n<=l;n++)Rl.current.moveTo(n*a,0),Rl.current.lineTo(n*a,e*a);for(let n=0;n<=e;n++)Rl.current.moveTo(0,n*a),Rl.current.lineTo(l*a,n*a);Rl.current.stroke({width:.5,color:16777215,alpha:.2})}const n=tl.current;n&&$.current&&((l,e,n,t)=>{const{container:a,sprites:u,healthBar:r}=l;if(!e||!a)return;const{def:i,hit:o}=u||{};if(i&&(e.width&&(i.width=e.width),e.height&&(i.height=e.height)),o&&(e.width&&(o.width=e.width),e.height&&(o.height=e.height)),r){const l=!1!==t,a=!!e.inWater,u="lava"===e.liquidType;if(l){r.visible=!(a||u);const l=e.width||i?.width||n;r.resize(l,4),r.y=-Math.max(4,Math.floor(.12*(e.height||i?.height||n))),r.update(e.health,Number(e.maxHealth)||100)}else r.visible=!1}const s=Number(e.hitTimerMs)>0&&!!o;i&&(i.visible=!s),o&&(o.visible=s);const c=e.direction||1,d=Math.abs(a.scale.x||1);a.scale.x=c>=0?d:-d;const h=e.width||i?.width||n;a.x=c>=0?e.x||0:(e.x||0)+h,a.y=e.y||0})({container:$.current,sprites:el.current,healthBar:nl.current},n,a,Al.current);const r=t.screen.width,i=t.screen.height,o=l*a,c=e*a;if(n){let l=(n.x||0)+(n.width||a)/2-r/2,e=(n.y||0)+(n.height||a)/2-i/2;l=o<r?(o-r)/2:Math.max(0,Math.min(l,o-r)),e=c<i?(c-i)/2:Math.max(0,Math.min(e,c-i)),V.current={x:l,y:e},t.stage.pivot.set(l,e),W.current&&W.current.position.set(l,e);const u=L.current;F.current&&(F.current.resize(o,c,r,i),F.current.setScroll(l,u))}const d=t.ticker?.deltaMS||16.67,h=sl.current,p=t.screen.width,g=t.screen.height;h.rain&&(h.rain.resize&&h.rain.resize(p,g),h.rain.update(d)),h.lavaRain&&(h.lavaRain.resize&&h.lavaRain.resize(p,g),h.lavaRain.update(d)),h.snow&&(h.snow.resize&&h.snow.resize(p,g),h.snow.update(d)),h.meteorRain&&(h.meteorRain.resize&&h.meteorRain.resize(p,g),h.meteorRain.update(d)),h.clouds&&(h.clouds.resize&&h.clouds.resize(p,g),h.clouds.update(d)),h.fog&&(h.fog.resize&&h.fog.resize(p,g),h.fog.update(d)),h.radioactiveFog&&(h.radioactiveFog.resize&&h.radioactiveFog.resize(p,g),h.radioactiveFog.update(d)),h.thunder&&(h.thunder.resize&&h.thunder.resize(p,g),h.thunder.update(d));try{il.current&&n&&il.current.setPlayerState(n),il.current?.update(d)}catch{}try{Sl.current?.update(d)}catch{}try{Ml.current?.update(d)}catch{}try{Cl.current?.update(d)}catch{}try{const n=wl.current,t=tl.current||{};if(n&&(!n.g||n.g.destroyed)){const l=_l.current;if(l){const e=new ue.A1g;l.addChild(e),n.g=e,n.currentAlpha=0,n.targetAlpha=0,n.time=0}}if(n&&n.g){const u=t.liquidType,r=!(!t||!t.headUnderWater),i=(!t||t.inWater,r&&("water"===u||"lava"===u||"quicksand"===u||"radioactive_water"===u));let o=1919093,s=.15;if(u&&u.includes("lava")?(o=10914816,s=.25):"quicksand"===u?(o=10916187,s=.2):"radioactive_water"===u&&(o=1727514,s=.18),i){n.time+=d;const t=.8*s+.2*s*Math.sin(.0025*n.time);n.targetAlpha=t;const r=.01,i=n.targetAlpha-n.currentAlpha;n.currentAlpha+=i*Math.min(1,d*r),n.g.visible&&n.lastLiquidType===u||(n.g.clear(),n.g.rect(0,0,l*a,e*a),n.g.fill({color:o,alpha:1}),n.lastLiquidType=u),n.g.visible=!0,n.g.alpha=n.currentAlpha}else{n.targetAlpha=0;const l=.008,e=n.targetAlpha-n.currentAlpha;n.currentAlpha+=e*Math.min(1,d*l),n.g.alpha=n.currentAlpha,n.currentAlpha<.01&&(n.currentAlpha=0,n.g.alpha=0,n.g.visible=!1,n.time=0)}}try{const l=jl.current||{inWater:!1,headUnder:!1,vy:0},e=!!t.inWater,n=t.liquidType,u=(t.x||0)+.5*(t.width||a);if(Il.current&&"water"===n&&e&&!l.inWater){const l=il.current?.getSurfaceY?.("water",u),e=Number(t.vy)||0,n=Math.min(3,Math.max(.2,.12*Math.abs(e)));Ml.current?.trigger({x:u,y:Number.isFinite(l)?l:t.y||0,strength:n,upward:!1});try{il.current?.addWave?.("water",u,Math.min(2.5,.6+.08*Math.abs(e)))}catch{}}if(Il.current&&l.inWater&&!e){const l=il.current?.getSurfaceY?.("water",u),e=Number(t.vy)||0,n=Math.min(3,Math.max(.2,.08*Math.abs(e)));Ml.current?.trigger({x:u,y:Number.isFinite(l)?l:t.y||0,strength:n,upward:!0});try{il.current?.addWave?.("water",u,Math.min(2,.4+.05*Math.abs(e)))}catch{}}jl.current={inWater:e,headUnder:!!t.headUnderWater,vy:Number(t.vy)||0}}catch{}}catch{}try{const l=tl.current||{},e=l.width||a,n=l.height||a,t=Math.max(4,Math.floor(.12*n)),u=l.x||0,r=(l.y||0)-t,i=yl.current;if(i){const n=!1!==Al.current&&(!!l.inWater||"lava"===l.liquidType);i.visible=!!n,n&&(i.x=u,i.y=r,i.resize(e,4),i.update(l.health,Number(l.maxHealth)||100))}let o=r;i&&i.visible&&(o+=6);const s=kl.current;if(s){const n=!1!==bl.current,t=Math.max(1,Number(l.maxOxygen)||100),a=Math.max(0,Number(l.oxygen)),r=n&&("water"===l.liquidType||l.inWater||a<t);s.visible=!!r,r&&(s.x=u,s.y=o,s.resize(e,4),s.update(Number.isFinite(a)?a:t,t),o+=6)}const c=vl.current;if(c){const n=!1!==xl.current,t=Math.max(1,Number(l.maxLavaResist)||100),a=Math.max(0,Number(l.lavaResist)),r=n&&("lava"===l.liquidType||a<t);c.visible=!!r,r&&(c.x=u,c.y=o,c.resize(e,4),c.update(Number.isFinite(a)?a:t,t))}}catch{}((l,e,n,t,a)=>{if(!l)return;const r=e,i=n||[],o=new Set;for(let u=0;u<i.length;u++){const e=i[u],n=e.id;o.add(n);let s=r.get(n);if(!s){const u=Me(t,e.defId);if(u&&Array.isArray(u.textures)&&u.textures.length>1){const l=u.textures.map(l=>ke(l)).filter(Boolean);l.length>0&&(s=new ue.Dl5(l),s.animationSpeed=ve(u.animationSpeed),s.play())}if(!s){const l=ke(Me(t,e.defId)?.texture)||ue.gPd.WHITE;s=new ue.kxk(l)}s.anchor.set(.5,.5),s.width=Math.max(2,e.w||.25*a),s.height=Math.max(2,e.h||.25*a),l.addChild(s),r.set(n,s)}s.x=e.x+(e.dir,0),s.y=e.y;const c=Math.abs(s.scale.x||1);s.scale.x=e.dir>=0?c:-c}for(const[s,c]of r.entries())if(!o.has(s)){try{c.parent&&c.parent.removeChild(c)}catch(u){}try{c.destroy&&c.destroy()}catch(u){}r.delete(s)}})(dl.current,hl.current,fl.current,s,a);const f=tl.current||{};((l,e,n,t,a)=>{if(!l)return;const r=new Set,i=n||[];for(const o of i){const n=o.id;r.add(n);let t=e.get(n);const i=o.def||{};t||(t=new ue.kxk(ue.gPd.WHITE),t.anchor.set(0,0),l.addChild(t),e.set(n,t),t._lastFrameIndex=-1);const s=ke(i.texture),c=s?.source,d=c&&c.width>1;if(i.spriteSheet&&i.spriteSheet.enabled&&d){const l=i.spriteSheet.columns||1,e=void 0!==o.currentSpriteIndex?o.currentSpriteIndex:0;if(t._lastFrameIndex!==e){const a=c.width,r=c.height,o=i.spriteSheet.totalSprites||1;let d=l;(!d||d<=0)&&(d=Math.floor(a/(i.spriteSheet.frameWidth||32))||1);const h=a/d,p=r/Math.ceil(o/d),g=e%d,f=Math.floor(e/d),m=new ue.M_G(g*h,f*p,h,p);try{t.texture=new ue.gPd({source:c,frame:m}),t._lastFrameIndex=e}catch(u){console.warn(`Failed to create texture for entity ${n} frame ${e}`,u),t.texture=s}}}else d?t.texture!==s&&(t.texture=s,t._lastFrameIndex=-1):i.editorIcon&&t.texture!==ue.gPd.WHITE&&(t.texture=ue.gPd.WHITE);const h=o.width||a,p=o.height||a;t.width=h,t.height=p,t.scale.x&&!isNaN(t.scale.x)||(t.scale.x=1),t.scale.y&&!isNaN(t.scale.y)||(t.scale.y=1);const g=void 0!==o.direction?o.direction:1;if(void 0!==o.rotation){t.anchor.set(.5,.5),t.x=o.x+h/2,t.y=o.y+p/2,t.rotation=o.rotation;const l=Math.abs(t.scale.x);t.scale.x=g>=0?l:-l}else{t.anchor.set(0,0),t.rotation=0;const l=Math.abs(t.scale.x);t.scale.x=g>=0?l:-l,t.x=o.x+(g<0?h:0),t.y=o.y}}for(const[u,o]of e.entries())r.has(u)||(o.parent&&o.parent.removeChild(o),o.destroy({children:!0,texture:!1}),e.delete(u))})(pl.current,gl.current,f.entities,0,a)})}catch(r){console.error("PixiStage init failed:",r)}})(),()=>{if(n=!0,G.current){const l=G.current;G.current=null,l.destroy(!0,{children:!0,texture:!0})}try{il.current?.destroy()}catch{}try{Ml.current?.destroy()}catch{}try{Sl.current?.destroy()}catch{}try{Cl.current?.destroy()}catch{}try{F.current?.destroy()}catch{}F.current=null;try{ml.current?.clear?.()}catch{}try{sl.current.rain?.destroy(),sl.current.snow?.destroy(),sl.current.fog?.destroy()}catch{}(l=>{try{for(const n of l.values()){try{n.parent&&n.parent.removeChild(n)}catch(e){}try{n.destroy&&n.destroy()}catch(e){}}l.clear()}catch(e){}})(hl.current),(l=>{for(const e of l.values())e.parent&&e.parent.removeChild(e),e.destroy({children:!0,texture:!1});l.clear()})(gl.current),ye.forEach(l=>l.destroy&&l.destroy(!0)),ye.clear()}},[]),(0,t.useEffect)(()=>{const n=G.current;if(!n)return;let t=!0;return(async()=>{const c=new Set,h=l=>{"string"===typeof l&&l.length&&c.add(l)};s.forEach(l=>{h(l?.texture),Array.isArray(l?.textures)&&l.textures.forEach(h)}),d&&(h(d.texture),Array.isArray(d.textures)&&d.textures.forEach(h));const p=Array.from(c);if(p.length&&await ue.sP.load(p),t&&G.current&&Y.current&&q.current&&X.current){((l,e)=>{const{mapWidth:n,mapHeight:t,tileSize:a,tileMapData:u,objectMapData:r,secretMapData:i,revealedSecrets:o,registryItems:s,objectMetadata:c,isEditor:d,isEditorPlayMode:h}=e,{bgRef:p,objBehindRef:g,objFrontRef:f,secretLayerRef:m}=l;if(!p||!g||!f)return;const A=l=>{l&&l.removeChildren().forEach(l=>{try{l.destroy({children:!0,texture:!1})}catch(e){}})};A(p),A(g),A(f),A(m?.below),A(m?.above);const b=new Map,x=new Map,_=l=>Me(s,l);for(let y=0;y<n*t;y++){const l=u[y];if(!l)continue;const e=_(l);if(!e)continue;const t=i?.[y],r=t?_(t):null,s=r?.subtype,c="open"===s||"below"===s,d="secret"===s||"above"===s,h=o&&o.includes(y);if(d&&h){const l=r?.filterColorInGame||r?.filterColor||"rgba(0, 0, 0, 0.6)",e=r?.renderAbovePlayer;e?x.set(y,l):b.set(y,l)}let g,f=!1;(c||d&&h)&&(f=!0);let A=null;if(Se(e)||Ce(e)||Ie(e)||Ee(e)||je(e)||Re(e)||"entity"===e.type||"platform"===e.subtype)continue;if(Array.isArray(e.textures)&&e.textures.length>1&&(A=e.textures.map(l=>ke(l)).filter(Boolean)),A&&A.length>0)g=new ue.Dl5(A),g.animationSpeed=ve(e.animationSpeed),g.play();else{const l=ke(e.texture)||null;if(!l)continue;g=new ue.kxk(l)}const w=y%n*a,k=Math.floor(y/n)*a;if(g.x=w,g.y=k,g.width=a,g.height=a,f){let l;A&&A.length>0?(l=new ue.Dl5(A),l.animationSpeed=g.animationSpeed,l.play()):g.texture&&(l=new ue.kxk(g.texture)),l&&(l.x=w,l.y=k,l.width=a,l.height=a,p.addChild(l));const e=new ue.A1g;e.rect(w,k,a,a),e.fill({color:0,alpha:.7}),p.addChild(e),g.alpha=.4,m?.below?m.below.addChild(g):p.addChild(g)}else p.addChild(g)}for(let y=0;y<n*t;y++){const l=r[y];if(!l||l.includes("player"))continue;const e=_(l);if(!e||"entity"===e.type||"platform"===e.subtype||"pushable"===e.subtype||e.isPushable)continue;const t=c&&c[y]||{},u=e.maxHealth||100,s=void 0!==t.health?t.health:u;let p;if(e.spriteSheet&&e.spriteSheet.enabled){const l=e.spriteSheet.totalSprites||1,n=e.spriteSheet.columns||l,t=Math.max(0,Math.min(100,s/u*100));let a=Math.floor((1-t/100)*(l-1));a=Math.max(0,Math.min(l-1,a));const r=ke(e.texture),i=r?.source;if(i&&i.width>1){const e=i.width/n,t=i.height/Math.ceil(l/n),u=a%n,r=Math.floor(a/n),o=new ue.M_G(u*e,r*t,e,t),s=new ue.gPd({source:i,frame:o});p=new ue.kxk(s)}else p=De(e)}else p=De(e);if(!p)continue;const m=y%n*a,A=Math.floor(y/n)*a;p.anchor&&.5===p.anchor.x?(p.x=a/2,p.y=a/2):(p.x=0,p.y=0),p.width=a,p.height=a;const b=new ue.mcf;b.x=m,b.y=A;const x="weather_trigger"===e.type,k="message_trigger"===e.type,v="wolf_secret"===e.type,M=(x||k||v)&&(d||h);!e.isHiddenInGame||d||M||(b.visible=!1);const S=i?.[y],C=S?_(S):null,I=C?.subtype,E="secret"===I||"above"===I,j=o&&o.includes(y);if(!E||j||d||(b.visible=!1),b.addChild(p),e.isDestructible&&s<u&&s>0)try{const l=new _e({width:a,height:4,offsetX:0,offsetY:-5});l.update(s,u),b.addChild(l)}catch(w){}e.renderAbovePlayer?f.addChild(b):g.addChild(b)}if(b.size>0&&m?.below){const l=new ue.A1g;b.forEach((e,t)=>{const u=t%n*a,r=Math.floor(t/n)*a,i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(i){const e=parseInt(i[1]),n=parseInt(i[2]),t=parseInt(i[3]),o=i[4]?parseFloat(i[4]):1;l.rect(u,r,a,a),l.fill({color:e<<16|n<<8|t,alpha:o})}}),m.below.addChild(l)}if(x.size>0&&m?.above){const l=new ue.A1g;x.forEach((e,t)=>{const u=t%n*a,r=Math.floor(t/n)*a,i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(i){const e=parseInt(i[1]),n=parseInt(i[2]),t=parseInt(i[3]),o=i[4]?parseFloat(i[4]):1;l.rect(u,r,a,a),l.fill({color:e<<16|n<<8|t,alpha:o})}}),m.above.addChild(l)}})({bgRef:Y.current,objBehindRef:q.current,objFrontRef:X.current,secretLayerRef:Z.current},{mapWidth:l,mapHeight:e,tileSize:a,tileMapData:u,objectMapData:r,secretMapData:i,revealedSecrets:o,registryItems:s,objectMetadata:v,isEditor:R,isEditorPlayMode:B});const t=ll.current;if(t){if($.current){t.removeChild($.current);try{$.current.destroy({children:!0})}catch{}}const l=Ne(d,s,tl.current,a);t.addChild(l.container),$.current=l.container,el.current=l.sprites,nl.current=l.healthBar}const c=JSON.stringify(u),h=il.current?._lastTileData;if(c!==h){try{il.current&&il.current.destroy(),ul.current&&(il.current=new be(ul.current,{mapWidth:l,mapHeight:e,tileSize:a,bgContainer:rl.current}),il.current.build({mapWidth:l,mapHeight:e,tileSize:a,tileMapData:u,registryItems:s}),il.current._lastTileData=c)}catch(g){console.warn("LiquidRegionSystem rebuild failed:",g)}try{Sl.current?.rebuildSurfaces({mapWidth:l,mapHeight:e,tileSize:a,tileMapData:u,registryItems:s})}catch{}}if(n.renderer&&n.renderer.prepare)try{await n.renderer.prepare.upload(n.stage)}catch(g){}}})(),()=>{t=!1}},[u,r,s,l,e,a,i,o,v,d,z]),(0,t.useEffect)(()=>{const n=G.current,t=al.current,u=ol.current;if(!n||!t||!u||!z)return;const r={isSolidAt:Tl,mapWidth:l,mapHeight:e,tileSize:a,getLiquidSurfaceY:(l,e)=>{try{return il.current?.getSurfaceY?.(l,e)}catch{return null}},onWaterImpact:({x:l,strength:e=.8})=>{try{const n=il.current?.getSurfaceY?.("water",l);Number.isFinite(n)&&Ml.current?.trigger({x:l,y:n,strength:Math.max(.2,Math.min(2,e)),upward:!1});try{il.current?.addWave?.("water",l,Math.max(.2,Math.min(2.2,e)))}catch{}}catch{}},onLavaImpact:({x:l,y:e,strength:n=.6})=>{try{const t=il.current?.getSurfaceY?.("lava",l),a=Number.isFinite(e)?e:Number.isFinite(t)?t:null;null!=a&&Cl.current?.trigger({x:l,y:a,strength:n})}catch{}},onMeteorHit:l=>{"function"===typeof O&&O("meteor",l)},getViewport:()=>({x:V.current.x,y:V.current.y,width:n.screen?.width||800,height:n.screen?.height||600})},i=()=>Math.max(0,Math.min(100,Number(cl.current.rain)||0)),o=()=>Math.max(0,Math.min(100,Number(cl.current.snow)||0)),s=()=>Math.max(0,Math.min(100,Number(cl.current.clouds)||0)),c=()=>Math.max(0,Math.min(100,Number(cl.current.thunder)||0)),d=()=>Math.max(0,Math.min(100,Number(cl.current.fog)||0)),h=()=>Math.max(0,Math.min(100,Number(cl.current.lavaRain)||0)),p=()=>Math.max(0,Math.min(100,Number(cl.current.radioactiveFog)||0)),g=()=>Math.max(0,Math.min(100,Number(cl.current.meteorRain)||0));return sl.current.rain||(sl.current.rain=new ie(t,r,i)),sl.current.lavaRain||(sl.current.lavaRain=new he(t,r,h)),sl.current.snow||(sl.current.snow=new oe(t,r,o)),sl.current.meteorRain||(sl.current.meteorRain=new ge(t,r,g)),sl.current.clouds||(sl.current.clouds=new se(u,r,s)),sl.current.fog||(sl.current.fog=new ce(u,r,d)),sl.current.radioactiveFog||(sl.current.radioactiveFog=new pe(u,r,p)),sl.current.thunder||(sl.current.thunder=new de(u,r,c)),()=>{try{sl.current.rain?.destroy()}catch{}try{sl.current.lavaRain?.destroy()}catch{}try{sl.current.snow?.destroy()}catch{}try{sl.current.meteorRain?.destroy()}catch{}try{sl.current.clouds?.destroy()}catch{}try{sl.current.fog?.destroy()}catch{}try{sl.current.radioactiveFog?.destroy()}catch{}try{sl.current.thunder?.destroy()}catch{}sl.current={rain:null,lavaRain:null,snow:null,meteorRain:null,clouds:null,thunder:null,fog:null,radioactiveFog:null}}},[l,e,a,Tl,z]),(0,t.useEffect)(()=>{Ol()},[h,p,Ol]),(0,Nl.jsx)("div",{ref:P,style:{width:"100%",height:"100%",pointerEvents:T}})};ze.propTypes={mapWidth:ae().number.isRequired,mapHeight:ae().number.isRequired,tileSize:ae().number,tileMapData:ae().array,objectMapData:ae().array,secretMapData:ae().array,revealedSecrets:ae().array,registryItems:ae().array,playerState:ae().object,playerVisuals:ae().object,backgroundImage:ae().string,backgroundColor:ae().string,backgroundParallaxFactor:ae().number,cameraScrollX:ae().number,weatherRain:ae().number,weatherSnow:ae().number,weatherClouds:ae().number,projectiles:ae().array,healthBarEnabled:ae().bool,objectMetadata:ae().object,weatherFog:ae().number,weatherThunder:ae().number,weatherLavaRain:ae().number,weatherRadioactiveFog:ae().number,weatherMeteorRain:ae().number,oxygenBarEnabled:ae().bool,lavaBarEnabled:ae().bool,waterSplashesEnabled:ae().bool,lavaEmbersEnabled:ae().bool,renderLayers:ae().arrayOf(ae().string),pointerEvents:ae().string,onWeatherEffectHit:ae().func};const Qe=ze;function Pe(l,e,n,t,a){const u=e[l];if(!u)return[];const r=a.find(l=>l.id===u);if(!r||"secret"!==r.type)return[];const i=new Set,o=[],s=[l];for(;s.length>0;){const l=s.shift();if(i.has(l))continue;if(l<0||l>=e.length)continue;i.add(l);const a=e[l];if(!a||a!==u)continue;o.push(l);const r=l%n,c=Math.floor(l/n);c>0&&s.push((c-1)*n+r),c<t-1&&s.push((c+1)*n+r),r>0&&s.push(c*n+(r-1)),r<n-1&&s.push(c*n+(r+1))}return o}function Ge({currentX:l,currentY:e,width:n,height:t,secretMapData:a,revealedSecrets:u,mapWidth:r,mapHeight:i,registryItems:o,TILE_SIZE:s}){if(!a||0===a.length)return null;const c=l,d=l+n,h=e,p=e+t,g=Math.floor(c/s),f=Math.floor((d-1)/s),m=Math.floor(h/s),A=Math.floor((p-1)/s);for(let b=m;b<=A;b++)for(let l=g;l<=f;l++){if(l<0||l>=r||b<0||b>=i)continue;const e=b*r+l,n=a[e];if(!n)continue;if(u&&u.includes(e))continue;const t=o.find(l=>l.id===n);if(!t||"secret"!==t.type)continue;if(!("secret"===t.subtype||"above"===t.subtype)||!t.revealOnEnter)continue;const s=Pe(e,a,r,i,o),c=s.filter(l=>!u||!u.includes(l));return console.log("[SECRETS] Revealing zone:",{triggerIndex:e,triggerSecretId:n,triggerSubtype:t.subtype,totalConnected:s.length,newToReveal:c.length,firstFiveNew:c.slice(0,5),connectedSecretIds:c.slice(0,5).map(l=>a[l])}),c.length>0?c:null}return null}function We(l,e){try{const n=window.AudioContext||window.webkitAudioContext;if(!n)return;if(!l?.audioCtxRef)return;l.audioCtxRef.current||(l.audioCtxRef.current=new n);const t=l.audioCtxRef.current;if(!t)return;"suspended"===t.state&&t.resume?.();const a=t.currentTime,u=t.createOscillator(),r=t.createGain();u.type="square",u.frequency.setValueAtTime(520,a),r.gain.setValueAtTime(1e-4,a),r.gain.exponentialRampToValueAtTime(Math.max(.05,.2*(e??.2)),a+.01),r.gain.exponentialRampToValueAtTime(1e-4,a+.08),u.connect(r),r.connect(t.destination),u.start(a),u.stop(a+.09)}catch{}}function Fe({keys:l,state:e,MOVE_SPEED:n,TILE_SIZE:t,mapWidth:a,mapHeight:u,checkCollision:r,friction:i=.8,acceleration:o=.2}){let{x:s,vx:c,width:d,direction:h,y:p,height:g}=e;const f=l?.a?-n:l?.d?n:0;0!==f?(c+=f*o,Math.abs(c)>n&&(c=Math.sign(c)*n),h=Math.sign(f)):(c*=i,Math.abs(c)<.1&&(c=0));const m=s+c,A=p??0;if(r(m,A,a,u,d,g)){const l=.5,e=Math.sign(c);let n=s;for(let t=l;t<Math.abs(c);t+=l){const l=s+t*e;if(r(l,A,a,u,d,g))break;n=l}s=n,c=0}else s=m;return{x:s,vx:c,direction:h}}function Ue({keys:l,x:e,y:n,vy:t,isGrounded:a,animation:u,GRAVITY:r,TERMINAL_VELOCITY:i,JUMP_FORCE:o,TILE_SIZE:s,width:c,height:d,mapWidth:h,mapHeight:p,checkCollision:g,vx:f,isLiquidAt:m,prevInWater:A}){let b=.5,x=.88,_=Math.max(2,Math.floor(.4*i)),w=.55,y=!1,k=!1,v=!1,M=null;if("function"===typeof m){const l=e+.5*(c||s),t=n+Math.min(4,.125*(d||s)),a=n+.45*(d||s),u=m(l,n+(d||s)-2),r=m(l,a);M=u||r,y=!!M,k=!!m(l,t),v=y&&!k,"quicksand"===M?(b=-.15,x=.85,_=1.2,w=.35):"lava"===M?(b=.3,x=.82):"waterfall"===M?(b=-.5,x=.95,_=1.5*i):"lava_waterfall"===M?(b=-.4,x=.92,_=1.3*i):"radioactive_waterfall"===M?(b=-.2,x=.94,_=.7*i):"radioactive_water"===M&&(b=.45,x=.86)}if(l?.space||l?.w)if(y){const l=Math.max(2,Math.floor(o*w));t=Math.min(t,0),t-=.5*l,u="jump"}else a&&(t=-o,a=!1,u="jump");return y?(A||(t*=.4),t+=r*(1-b),(t*=x)>_&&(t=_)):(t+=r)>i&&(t=i),g(e,n+t,h,p,c,d)?(t>0?(a=!0,n=Math.floor((n+t+d)/s)*s-d,u=Math.abs(f||0)>0?"run":"idle"):t<0&&(n=Math.ceil((n+t)/s)*s),t=0):(a=!1,n+=t,t>0&&(u="fall")),{y:n,vy:t,isGrounded:a,animation:u,inWater:y,headUnderWater:k,atSurface:v}}function Le(l,e,n,t,a,u,r){if(e<0)return null;const i=Math.floor(l/a),o=Math.floor(e/a);if(i<0||o<0||i>=n||o>=t)return null;const s=u[o*n+i];if(!s)return null;const c=Array.isArray(r)?r.find(l=>l.id===s):null;if(!c||!c.flags||!c.flags.liquid)return null;return{def:c,type:c.flags.lava_waterfall?"lava_waterfall":c.flags.radioactive_waterfall?"radioactive_waterfall":c.flags.waterfall?"waterfall":c.flags.radioactive_water?"radioactive_water":c.flags.quicksand?"quicksand":c.flags.lava?"lava":c.flags.water?"water":"liquid",params:{buoyancy:Number(c?.liquid?.buoyancy),dragX:Number(c?.liquid?.drag?.x),dragY:Number(c?.liquid?.drag?.y),surface:!!c?.liquid?.surface,swimmable:!0===c?.flags?.swimmable||!0===c?.liquid?.swimmable,dps:Number(c?.liquid?.damagePerSecond),oxygen:{drainPerSecond:Number(c?.liquid?.oxygen?.drainPerSecond),regenPerSecond:Number(c?.liquid?.oxygen?.regenPerSecond),damagePerSecondWhenDepleted:Number(c?.liquid?.oxygen?.damagePerSecondWhenDepleted)},resistance:{drainPerSecond:Number(c?.liquid?.resistance?.drainPerSecond),regenPerSecond:Number(c?.liquid?.resistance?.regenPerSecond),damagePerSecondWhenDepleted:Number(c?.liquid?.resistance?.damagePerSecondWhenDepleted)}}}}function Ve({x:l,y:e,width:n,height:t,TILE_SIZE:a,mapWidth:u,mapHeight:r,tileData:i,registryItems:o}){const s=l+.5*n,c=e+Math.min(4,.125*t),d=e+.45*t,h=Le(s,e+t-2,u,r,a,i,o),p=Le(s,d,u,r,a,i,o),g=Le(s,c,u,r,a,i,o),f=h||p||g;if(!f)return{inLiquid:!1,headUnder:!1,atSurface:!1,type:null,params:null};const m=!(!h&&!p),A=!!g;return{inLiquid:m,headUnder:A,atSurface:m&&!A,type:f.type,params:{buoyancy:Number.isFinite(f.params.buoyancy)?f.params.buoyancy:.5,dragX:Number.isFinite(f.params.dragX)?f.params.dragX:.55,dragY:Number.isFinite(f.params.dragY)?f.params.dragY:.65,surface:!!f.params.surface,swimmable:!!f.params.swimmable,dps:Number.isFinite(f.params.dps)?Math.max(0,f.params.dps):0,oxygen:{drainPerSecond:Number.isFinite(f.params?.oxygen?.drainPerSecond)?Math.max(0,f.params.oxygen.drainPerSecond):20,regenPerSecond:Number.isFinite(f.params?.oxygen?.regenPerSecond)?Math.max(0,f.params.oxygen.regenPerSecond):35,damagePerSecondWhenDepleted:Number.isFinite(f.params?.oxygen?.damagePerSecondWhenDepleted)?Math.max(0,f.params.oxygen.damagePerSecondWhenDepleted):10},resistance:{drainPerSecond:Number.isFinite(f.params?.resistance?.drainPerSecond)?Math.max(0,f.params.resistance.drainPerSecond):25,regenPerSecond:Number.isFinite(f.params?.resistance?.regenPerSecond)?Math.max(0,f.params.resistance.regenPerSecond):40,damagePerSecondWhenDepleted:Number.isFinite(f.params?.resistance?.damagePerSecondWhenDepleted)?Math.max(0,f.params.resistance.damagePerSecondWhenDepleted):15}}}}function Ye(l,e,n){const t=Math.max(0,Number(n?.dps)||0);if(t<=0)return void(l.accRef.current=0);l.accRef.current+=Math.max(0,Number(e)||0);for(;l.accRef.current>=1e3;){l.accRef.current-=1e3;const e=Number(l.gameState.current.health)||0;l.gameState.current.health=Math.max(0,e-t);const n=500,a=Number(l.gameState.current.hitTimerMs)||0;l.gameState.current.hitTimerMs=Math.max(a,n)}}function He(l,e){const{mapData:n,objectData:t,input:a,refs:u,constants:r,helpers:i,actions:o}=l,{gameState:s,isInitialized:c,lastTimeRef:d,projectilesRef:h,entitiesRef:p,shootCooldownRef:g,liquidDamageAccumulatorRef:f,oxygenDepleteAccRef:m,lavaDepleteAccRef:A,weatherDamageAccRef:b}=u,{TILE_SIZE:x,GRAVITY:_,TERMINAL_VELOCITY:w,MOVE_SPEED:y,JUMP_FORCE:k}=r,{checkCollision:v,isLiquidAt:M,getLiquidSample:S}=i,{collectItem:C,checkInteractables:I,checkHazardDamage:E,checkSecrets:j,spawnProjectile:R,playSfx:B,updateProjectiles:D,setPlayer:N,onGameOver:T}=o;if(!c.current||!n)return{continue:!0};d.current||(d.current=e);const O=e-d.current;d.current=e;try{if(window.__GAME_TERMINAL_OPEN__)return{continue:!0}}catch{}const z=n.meta?.width||n.width||20,Q=n.meta?.height||n.height||15,P=a.current;let{x:G,y:W,vx:F,vy:U,width:L,height:V,isGrounded:Y,direction:H,animation:J,ammo:K,iceResist:q,maxIceResist:X}=s.current;const Z=Math.max(0,O||0),$=l.mapData.layers.find(l=>"background"===l.name)?.data||[],ll=i.getSurfaceProperties?i.getSurfaceProperties(G,W,L,V,z,Q,x,$,l.registryItems):{friction:.8,acceleration:.2},el=ll.friction>=.9;let nl=Number(q);const tl=Math.max(1,Number(X||100));Number.isFinite(nl)||(nl=tl),el?nl-=20*Z/1e3:nl+=35*Z/1e3,nl=Math.max(0,Math.min(tl,nl)),s.current.iceResist=nl;let al=ll.friction;if(el&&nl>0){const l=nl/tl,e=.8;al=ll.friction-(ll.friction-e)*l}const ul=(l,e,n,t,a,u)=>v(l,e,n,t,a,u),rl=Fe({keys:P,state:{x:G,y:W,vx:F,width:L,direction:H,height:V},MOVE_SPEED:y,TILE_SIZE:x,mapWidth:z,mapHeight:Q,checkCollision:ul,friction:al,acceleration:el&&nl>0?.15:ll.acceleration});G=rl.x,F=rl.vx,H=rl.direction;let il=!1,ol=null;const sl=s.current.strength||30,cl=sl>=99,dl=s.current.lastPushTime||0;if(p.current){const l=cl?15:5,e=cl?12:5;for(const n of p.current)if("pushable"===n.subtype||n.def?.isPushable){const t=G+L+l>n.x&&G+L<=n.x+e&&W+V>n.y+2&&W<n.y+n.height-2,a=G-l<n.x+n.width&&G>=n.x+n.width-e&&W+V>n.y+2&&W<n.y+n.height-2;if(t&&P.d||a&&P.a){il=!0,ol=n;break}}}if(il){if(s.current.strength=Math.min(100,sl+65*Z/1e3),s.current.strength>=100&&ol){const l=2;ol.vx=(G<ol.x?1:-1)*l,s.current.lastPushTime=e,ol.def?.sounds?.push&&(!ol.lastPushSoundTime||e-ol.lastPushSoundTime>450)&&(B(ol.def.sounds.push,.3),ol.lastPushSoundTime=e)}}else{e-dl>300&&(s.current.strength=sl>30?Math.max(30,sl-35*Z/1e3):30)}const hl=Ue({keys:P,x:G,y:W,vy:U,isGrounded:Y,animation:J,GRAVITY:_,TERMINAL_VELOCITY:w,JUMP_FORCE:k,TILE_SIZE:x,width:L,height:V,mapWidth:z,mapHeight:Q,checkCollision:ul,vx:F,isLiquidAt:(l,e)=>{try{return"function"===typeof M?M(l,e):null}catch{return null}},prevInWater:!!s.current.inWater});W=hl.y,U=hl.vy,Y=hl.isGrounded,J=hl.animation;const pl=!!hl.inWater,gl=!!hl.headUnderWater,fl=!!hl.atSurface;let ml=null,Al=null;if("function"===typeof S)try{const l=S({x:G,y:W,width:L,height:V,TILE_SIZE:x,mapWidth:z,mapHeight:Q});l&&l.inLiquid&&(ml=l.type||null,Al=l.params||null),l&&l.inLiquid||f&&(f.current=0)}catch{}(pl||ml)&&(F*="lava"===ml?.78:"quicksand"===ml?.72:.82);try{const l=Math.max(1,Number(s.current.maxOxygen||100)),e=Math.max(1,Number(s.current.maxLavaResist||100));let t=Number(s.current.oxygen),a=Number(s.current.lavaResist);Number.isFinite(t)||(t=l),Number.isFinite(a)||(a=e);const u=Al?.oxygen||{drainPerSecond:20,regenPerSecond:35,damagePerSecondWhenDepleted:10},r=Al?.resistance||{drainPerSecond:25,regenPerSecond:40,damagePerSecondWhenDepleted:15};!gl||"water"!==ml&&"quicksand"!==ml&&"radioactive_water"!==ml?t+=Math.max(0,Number(u.regenPerSecond)||0)*Z/1e3:t-=Math.max(0,Number(u.drainPerSecond)||0)*Z/1e3,t=Math.max(0,Math.min(l,t)),s.current.oxygen=t,s.current.maxOxygen=l,"lava"===ml?a-=Math.max(0,Number(r.drainPerSecond)||0)*Z/1e3:a+=Math.max(0,Number(r.regenPerSecond)||0)*Z/1e3,a=Math.max(0,Math.min(e,a)),s.current.lavaResist=a,s.current.maxLavaResist=e;const i=Math.max(1,Number(s.current.maxRadioactivity||100));let o=Number(s.current.radioactivity);Number.isFinite(o)||(o=.2*i),"radioactive_water"===ml||"radioactive_waterfall"===ml?o+=15*Z/1e3:o>.2*i?o-=5*Z/1e3:o<.2*i&&(o+=2*Z/1e3),o=Math.max(0,Math.min(i,o)),s.current.radioactivity=o,s.current.maxRadioactivity=i;gl&&("water"===ml||"quicksand"===ml||"radioactive_water"===ml)&&t<=0?((l,e)=>{const n=Math.max(0,Number(e)||0);if(n<=0)return void(l.current=0);l.current+=Z;for(;l.current>=1e3;){l.current-=1e3,s.current.health=Math.max(0,(Number(s.current.health)||0)-n);const e=500,t=Number(s.current.hitTimerMs)||0;s.current.hitTimerMs=Math.max(t,e)}})(m,u.damagePerSecondWhenDepleted):m&&(m.current=0),A&&(A.current=0);const c=n.weather||{},d=Number(c.lavaRain||0),h=Number(c.radioactiveFog||0);if(d>0||h>0){if(b.current+=Z,b.current>=1e3){b.current-=1e3;let l=0;if(d>0&&(l+=d/100*10),h>0&&(l+=h/100*5),l>0){s.current.health=Math.max(0,(Number(s.current.health)||0)-l);const e=500;s.current.hitTimerMs=Math.max(Number(s.current.hitTimerMs)||0,e)}}}else b.current=0}catch{}if(ml&&Al&&Number(Al.dps)>0)try{if("lava"===ml){Math.max(0,Number(s.current.lavaResist))<=0?Ye({accRef:f,gameState:s},O,Al):f&&(f.current=0)}else Ye({accRef:f,gameState:s},O,Al)}catch{}else f&&(f.current=0);s.current.x=G,s.current.y=W,s.current.vx=F,s.current.vy=U,s.current.isGrounded=Y,s.current.animation=J,C(G,W,z,t);try{I(G,W,z,t)}catch{}try{E(G,W,z,t,O)}catch{}G=s.current.x,W=s.current.y,F=s.current.vx,U=s.current.vy;try{j&&j(G,W,L,V,z,Q)}catch{}g.current>0&&(g.current=Math.max(0,g.current-O));const bl=Math.max(0,Number(s.current.ammo)||0);if(P?.mouseLeft&&g.current<=0&&bl>0){R(G+(H>=0?L+4:-4),W+V/2,H>=0?1:-1,"player"),g.current=350,s.current.ammo=Math.max(0,bl-1)}try{D(O,z,Q)}catch{}try{!function(l,e){const{entitiesRef:n,gameState:t,mapWidth:a,mapHeight:u,TILE_SIZE:r,checkCollision:i,isLiquidAt:o,getLiquidSample:s,spawnProjectile:c,playSfx:d,constants:h,objectData:p,mapData:g,registryItems:f}=l;if(!n.current||0===n.current.length)return;const{GRAVITY:m,TERMINAL_VELOCITY:A}=h,b=t.current.x,x=t.current.y;n.current=n.current.map(h=>{if(h.health<=0){h.isExploding||(h.isExploding=!0,h.animation="explode",h.animFrame=0,h.animTimer=0,h.vx=0,h.vy=0,h.isGrounded=!0);const l=h.def,n=(l.spriteSheet?.animations?.explode||[]).length,t=100;return h.animTimer+=e,h.animTimer>=t&&(h.animTimer=0,h.animFrame++,h.animFrame>=n&&(h.shouldRemove=!0)),h}const p=h.def,f=s?s({x:h.x,y:h.y,width:h.width,height:h.height,TILE_SIZE:r,mapWidth:a,mapHeight:u}):{inLiquid:!1};if(f.inLiquid&&f.params&&f.params.dps>0)for(h.liquidDamageAcc=(h.liquidDamageAcc||0)+e;h.liquidDamageAcc>=1e3;)h.liquidDamageAcc-=1e3,h.health=Math.max(0,h.health-f.params.dps);else h.liquidDamageAcc=0;const _=g.weather||{},w=Number(_.lavaRain||0),y=Number(_.radioactiveFog||0);if(w>0||y>0){if(h.weatherDamageAcc=(h.weatherDamageAcc||0)+e,h.weatherDamageAcc>=1e3){h.weatherDamageAcc-=1e3;let l=0;w>0&&(l+=w/100*10),y>0&&(l+=y/100*5),l>0&&(h.health=Math.max(0,h.health-l))}}else h.weatherDamageAcc=0;if("pushable"===h.subtype||p?.isPushable){const l=f.inLiquid,s=f.type;l&&!h.prevInLiquid&&("water"===s&&p.sounds?.water_splash?d(p.sounds.water_splash,.4):"lava"===s&&p.sounds?.lava_splash&&d(p.sounds.lava_splash,.4)),h.prevInLiquid=l;const c=Fe({keys:{},state:{x:h.x,y:h.y,vx:h.vx||0,width:h.width,height:h.height,direction:h.direction},MOVE_SPEED:6,TILE_SIZE:r,mapWidth:a,mapHeight:u,checkCollision:(l,e,n,a,u,r)=>{if(i(l,e,n,a,u,r,h.id))return!0;const o=t.current,s=u||h.width,c=r||h.height;return l<o.x+o.width&&l+s>o.x&&e<o.y+o.height&&e+c>o.y},friction:l?.7:.85,acceleration:.2});if(h.x=c.x,h.vx=c.vx,h.direction=c.direction,l&&"lava"===s){const l=p.sinkingSpeed||.2;h.vy=l,h.y+=h.vy,h.isGrounded=!1,i(h.x,h.y,a,u,h.width,h.height,h.id)&&(h.y-=h.vy,h.vy=0,h.isGrounded=!0)}else{h.isGrounded?h.fallDistance=0:(h.vy||0)>0&&(h.fallDistance=(h.fallDistance||0)+(h.vy||0));const s=Ue({keys:{},x:h.x,y:h.y,vy:h.vy||0,isGrounded:h.isGrounded,animation:"idle",GRAVITY:l?.3*m:m,TERMINAL_VELOCITY:A,JUMP_FORCE:0,TILE_SIZE:r,width:h.width,height:h.height,mapWidth:a,mapHeight:u,checkCollision:(l,e,a,u,o,s)=>{if(i(l,e,a,u,o,s,h.id)){if((h.fallDistance||0)>=.8*r&&n.current)for(const t of n.current)t.id===h.id||t.health<=0||"platform"===t.subtype||"pushable"===t.subtype||l<t.x+t.width&&l+(o||h.width)>t.x&&e<t.y+t.height&&e+(s||h.height)>t.y&&(t.health=0,p.sounds?.kill_enemy&&d(p.sounds.kill_enemy,.5));return!0}const c=t.current,g=o||h.width,f=s||h.height;return!!(l<c.x+c.width&&l+g>c.x&&e<c.y+c.height&&e+f>c.y)&&((h.fallDistance||0)>=.8*r&&(t.current.health=0),!0)},isLiquidAt:o,vx:h.vx});if(h.y=s.y,h.vy=s.vy,h.isGrounded=s.isGrounded,h.isGrounded&&Math.abs(h.vx)<.1&&p.isRound){const l=(l,e)=>!i(l,e,a,u,h.width,h.height,h.id),e=h.x-r;if(l(e,h.y)&&l(e,h.y+r))h.vx=-6;else{const e=h.x+r;l(e,h.y)&&l(e,h.y+r)&&(h.vx=6)}}h.isGrounded&&Math.abs(h.vx)>.1&&p.isRound?h.rotation=(h.rotation||0)+h.vx*(e/16.67)*.07:!h.isGrounded&&p.isRound&&(h.rotation=(h.rotation||0)+h.vx*(e/16.67)*.03)}return h.animation="idle",h.currentSpriteIndex=p.spriteSheet?.animations?.idle?.[0]||0,h}if("platform"===h.subtype){const n=p.speed||1.5,i=a,o=u,s=[{x:h.x+h.width/2,y:h.y+h.height/2},{x:h.x+5,y:h.y+h.height/2},{x:h.x+h.width-5,y:h.y+h.height/2}];let c=null,d=null;for(const e of s){const n=Math.floor(e.x/r),t=Math.floor(e.y/r);if(n<0||n>=i||t<0||t>=o)continue;const a=t*i+n,u=l.mapData?.layers?.find(l=>"arrows"===l.name||"Arrows"===l.name)?.data;let s=u?u[a]:null;if(!s&&l.objectData&&(s=l.objectData[a]),s){const e=l.registryItems.find(l=>l.id===s);if(e&&"arrow"===e.subtype){c=s,d=e;break}}}d&&("up"===d.direction?(h.vx=0,h.vy=-n):"down"===d.direction?(h.vx=0,h.vy=n):"left"===d.direction?(h.vx=-n,h.vy=0):"right"===d.direction&&(h.vx=n,h.vy=0)),0===h.vx&&0===h.vy&&(h.vx=n);let g=h.x+h.vx*(e/16.6),f=h.y+h.vy*(e/16.6);const m=a*r,A=u*r;g<0?(g=0,h.vx=Math.abs(h.vx)):g+h.width>m&&(g=m-h.width,h.vx=-Math.abs(h.vx)),f<0?(f=0,h.vy=Math.abs(h.vy)):f+h.height>A&&(f=A-h.height,h.vy=-Math.abs(h.vy)),h.x=g,h.y=f;const b=t.current;return b.x+b.width>h.x&&b.x<h.x+h.width&&Math.abs(b.y+b.height-h.y)<5&&b.vy>=0&&(b.x+=h.vx*(e/16.6),b.y=h.y-b.height,b.vy=0,b.isGrounded=!0,Math.abs(b.vx)>.1?b.animation="run":b.animation="idle"),h}const k=p.ai||{},v=(k.reactionDistance||10)*r,M=(k.shootDistance||8)*r,S=p.speed||1.2,C=b-h.x,I=x-h.y,E=Math.sqrt(C*C+I*I);let j={a:!1,d:!1,w:!1};if(E<v){if(C>.5*r?(j.d=!0,h.direction=1):C<.5*-r&&(j.a=!0,h.direction=-1),k.canJump&&h.isGrounded){const l=h.x+10*h.direction;i(l,h.y,a,u,h.width,h.height)&&(j.w=!0)}if(E<M&&h.shootCooldown<=0&&(C>0&&h.direction>0||C<0&&h.direction<0||E<2*r)&&(h.isShooting=!0,h.shootCooldown=k.shootCooldown||2e3,"function"===typeof c)){const l=h.x+h.width/2+h.direction*(h.width/2+10),e=h.y+.4*h.height;c(l,e,h.direction,h.id)}}else if(k.patrol){h.direction>0?j.d=!0:j.a=!0;const l=h.x+10*h.direction;let e=i(l,h.y,a,u,h.width,h.height);if(!e&&"tank"===h.subtype){const a=t.current;if(l<a.x+a.width&&l+h.width>a.x&&h.y<a.y+a.height&&h.y+h.height>a.y&&(e=!0),!e)for(const t of n.current)if(!(t===h||t.health<=0||t.isExploding)&&"tank"===t.subtype&&l<t.x+t.width&&l+h.width>t.x&&h.y<t.y+t.height&&h.y+h.height>t.y){e=!0,(h.direction>0&&t.direction<0||h.direction<0&&t.direction>0)&&(t.direction*=-1);break}}if(e&&(h.direction*=-1),k.stayOnPlatform&&h.isGrounded){const l=h.x+(h.direction>0?h.width:0)+5*h.direction,e=h.y+h.height+5;i(l,e,a,u,2,2)||(h.direction*=-1)}}h.shootCooldown>0&&(h.shootCooldown-=e,h.shootCooldown<(k.shootCooldown||2e3)-300&&(h.isShooting=!1));const R=S*(e/16.67),B=(l,e)=>{if(i(l,e,a,u,h.width,h.height))return!0;if("tank"===h.subtype){const a=t.current;if(l<a.x+a.width&&l+h.width>a.x&&e<a.y+a.height&&e+h.height>a.y)return!0;for(const t of n.current)if(!(t===h||t.health<=0||t.isExploding)&&"tank"===t.subtype&&l<t.x+t.width&&l+h.width>t.x&&e<t.y+t.height&&e+h.height>t.y)return!0}return!1},D=Fe({keys:j,state:{x:h.x,y:h.y,vx:h.vx||0,width:h.width,direction:h.direction},MOVE_SPEED:R,TILE_SIZE:r,mapWidth:a,mapHeight:u,checkCollision:B});h.x=D.x,h.vx=D.vx,h.direction=D.direction;const N=Ue({keys:j,x:h.x,y:h.y,vy:h.vy,isGrounded:h.isGrounded,animation:h.animation,GRAVITY:m,TERMINAL_VELOCITY:A,JUMP_FORCE:k.canJump?8:0,TILE_SIZE:r,width:h.width,height:h.height,mapWidth:a,mapHeight:u,checkCollision:B,isLiquidAt:l.isLiquidAt,vx:h.vx});if(h.y=N.y,h.vy=N.vy,h.isGrounded=N.isGrounded,h.isShooting?h.animation="shoot":h.health<=.5*(p.maxHealth||100)?h.animation="move_damaged":0===h.vx&&h.isGrounded?h.animation="idle":h.animation="move",h.isExploding){const l=p.spriteSheet?.animations?.explode||[39];h.currentSpriteIndex=l[Math.min(h.animFrame,l.length-1)]}else{const l=p.spriteSheet?.animations||{};let n=l[h.animation];n&&Array.isArray(n)&&0!==n.length||(n=l.move||l.idle||[0]),h.animTimer=(h.animTimer||0)+e;const t=100;h.animTimer>=t&&(h.animTimer=0,h.animFrame=(h.animFrame||0)+1,h.animFrame>=n.length&&(h.animFrame=0)),h.currentSpriteIndex=n[h.animFrame%n.length]}return h}).filter(l=>!l.shouldRemove)}({entitiesRef:p,gameState:s,mapData:n,objectData:t,mapWidth:z,mapHeight:Q,TILE_SIZE:x,checkCollision:v,isLiquidAt:M,getLiquidSample:S,spawnProjectile:R,playSfx:B,constants:r,registryItems:l.registryItems},Math.min(Z,100)),G=s.current.x,W=s.current.y,F=s.current.vx,U=s.current.vy,Y=s.current.isGrounded,J=s.current.animation;const e=s.current;if(p.current&&p.current.length>0)for(const l of p.current){if(l.health<=0||l.isExploding)continue;if(e.x<l.x+l.width&&e.x+e.width>l.x&&e.y<l.y+l.height&&e.y+e.height>l.y&&Number(e.hitTimerMs)<=0){const n=e.x+e.width/2<l.x+l.width/2?-1:1;s.current.vx=5*n,s.current.vy=-3,s.current.hitTimerMs=500,s.current.health=Math.max(0,(Number(s.current.health)||0)-10),o.onStateUpdate&&o.onStateUpdate("playerDamage",{damage:10})}}}catch(_l){console.error("Entity update failed:",_l)}const xl=z*x-L;if(G=Math.max(0,Math.min(xl,G)),s.current.isWinning&&(s.current.winCounter=(s.current.winCounter||0)+(s.current.winCountSpeed||10)*(O/100),s.current.winCounter>=100&&(s.current.winCounter=100,o.onStateUpdate&&o.onStateUpdate("levelWin"))),(Number(s.current.health)||0)<=0)try{T&&T()}catch{}try{Number(s.current.hitTimerMs)>0&&(s.current.hitTimerMs=Math.max(0,Number(s.current.hitTimerMs)-O))}catch{}return s.current={...s.current,x:G,y:W,vx:F,vy:U,width:L,height:V,isGrounded:Y,direction:H,animation:J,inWater:pl,headUnderWater:gl,atSurface:fl,liquidType:ml||null,onIce:el},N({...s.current,projectiles:h.current||[],entities:p.current||[]}),{continue:!0}}function Je(l,e,n,t,a,u,r,i,o,s,c,d){if(e<0)return!1;const h=Math.floor(l/a),p=Math.floor(e/a);if(h<0||p<0||h>=n||p>=t)return!1;const g=p*n+h;if(c)for(const A of c)if(A.id!==d&&!(A.health<=0||A.isExploding)&&"platform"!==A.subtype&&l>=A.x&&l<A.x+A.width&&e>=A.y&&e<A.y+A.height)return!0;if(i&&i[g])return!1;if(o&&o[g]){const l=o[g],e=r.find(e=>e.id===l),n=e&&("entity"===e.type||"tank"===e.subtype||"platform"===e.subtype||"pushable"===e.subtype||e.isPushable||e.name&&e.name.toLowerCase().includes("entities."));if(e&&e.collision&&!n){if(e.isDestructible&&s&&s[g]){if((void 0!==s[g].health?s[g].health:e.maxHealth)<=(e.passableHealthThreshold||0))return!1}return!0}}const f=u[g];if(!f)return!1;const m=r.find(l=>l.id===f);return!(!m||!m.collision)&&(!0===m.collision||"object"===typeof m.collision&&!!(m.collision.top||m.collision.bottom||m.collision.left||m.collision.right))}function Ke(l,e,n,t,a,u,r,i,o,s,c,d,h,p){const g=[{x:l,y:e},{x:l+i-.01,y:e},{x:l,y:e+o-.01},{x:l+i-.01,y:e+o-.01}];for(let f of g){const l=Math.floor(f.x/a),e=Math.floor(f.y/a);if(l<0||l>=n||e<0)return!0;if(Je(f.x,f.y,n,t,a,u,r,s,c,d,h,p))return!0}return!1}function qe(l,e,n,t,a,u,r,i,o){const s=l+n/2,c=e+t+1,d=Math.floor(s/r),h=Math.floor(c/r);if(d<0||h<0||d>=a||h>=u)return{friction:.8,acceleration:.2};const p=i[h*a+d];if(!p)return{friction:.8,acceleration:.2};const g=o.find(l=>l.id===p);if(!g)return{friction:.8,acceleration:.2};const f=void 0!==g.slipperiness?g.slipperiness:.8;return{friction:f,acceleration:void 0!==g.slipperiness?2*(1-f)+.05:.2}}const Xe=new class{constructor(){this.errorListeners=[],this.logLevel="error"}setLogLevel(l){this.logLevel=l}addListener(l){this.errorListeners.push(l)}removeListener(l){this.errorListeners=this.errorListeners.filter(e=>e!==l)}notifyListeners(l,e={}){this.errorListeners.forEach(n=>{try{n(l,e)}catch(t){console.error("Error in error listener:",t)}})}handle(l,e={},n="error"){const t=l instanceof Error?l:new Error(String(l)),a=(new Date).toISOString(),u={timestamp:a,level:n,message:t.message,stack:t.stack,context:e};if(this.shouldLog(n)){(console[n]||console.error)(`[${a}] [${n.toUpperCase()}]`,t.message,e),t.stack&&"error"===n&&console.error(t.stack)}return"error"!==n&&"warn"!==n||this.notifyListeners(t,e),this.sendToLoggingService(u),t}shouldLog(l){const e={debug:0,info:1,warn:2,error:3},n=e[this.logLevel]||0;return(e[l]||0)>=n}sendToLoggingService(l){}debug(l,e={}){return this.handle(l,e,"debug")}info(l,e={}){return this.handle(l,e,"info")}warn(l,e={}){return this.handle(l,e,"warn")}error(l,e={}){return this.handle(l,e,"error")}wrapAsync(l,e={}){return async(...n)=>{try{return await l(...n)}catch(t){throw this.handle(t,{...e,args:n},"error"),t}}}wrapSync(l,e={}){return(...n)=>{try{return l(...n)}catch(t){throw this.handle(t,{...e,args:n},"error"),t}}}},Ze=(l,e=!1)=>"boolean"===typeof l?l:"string"===typeof l?"true"===l.trim().toLowerCase():e,$e=(l,e,n,a,u,r,i,o,s,c)=>{const d=(()=>{const l=(0,t.useRef)({w:!1,a:!1,s:!1,d:!1,space:!1,mouseLeft:!1,e:!1});return(0,t.useEffect)(()=>{const e=()=>{try{return!!window.__GAME_TERMINAL_OPEN__}catch{return!1}},n=()=>{l.current.w=!1,l.current.a=!1,l.current.s=!1,l.current.d=!1,l.current.space=!1,l.current.mouseLeft=!1,l.current.e=!1},t=t=>{const a=t.target&&t.target.tagName?t.target.tagName.toUpperCase():"",u="INPUT"===a||"TEXTAREA"===a||t.target&&t.target.isContentEditable;if(!u&&"KeyT"===t.code&&!t.repeat){try{window.dispatchEvent(new CustomEvent("game-toggle-terminal"))}catch{}return n(),void("function"===typeof t.preventDefault&&t.preventDefault())}if(!u&&!e())switch(t.code){case"KeyW":case"ArrowUp":case"KeyA":case"ArrowLeft":case"KeyS":case"ArrowDown":case"KeyD":case"ArrowRight":case"Space":"function"===typeof t.preventDefault&&t.preventDefault()}if(!e())switch(t.code){case"KeyW":case"ArrowUp":l.current.w=!0;break;case"KeyA":case"ArrowLeft":l.current.a=!0;break;case"KeyS":case"ArrowDown":l.current.s=!0;break;case"KeyD":case"ArrowRight":l.current.d=!0;break;case"KeyE":l.current.e=!0;break;case"Space":l.current.space=!0}},a=n=>{0===n.button&&(e()||(l.current.mouseLeft=!0))},u=n=>{0===n.button&&(e()||(l.current.mouseLeft=!1))},r=n=>{if("Escape"!==n.code&&!e())switch(n.code){case"KeyW":case"ArrowUp":l.current.w=!1;break;case"KeyA":case"ArrowLeft":l.current.a=!1;break;case"KeyS":case"ArrowDown":l.current.s=!1;break;case"KeyD":case"ArrowRight":l.current.d=!1;break;case"KeyE":l.current.e=!1;break;case"Space":l.current.space=!1}},i=()=>n();return window.addEventListener("keydown",t,{passive:!1}),window.addEventListener("keyup",r,{passive:!1}),window.addEventListener("game-toggle-terminal",i),window.addEventListener("mousedown",a,{passive:!0}),window.addEventListener("mouseup",u,{passive:!0}),()=>{window.removeEventListener("keydown",t,{passive:!1}),window.removeEventListener("keyup",r,{passive:!1}),window.removeEventListener("game-toggle-terminal",i),window.removeEventListener("mousedown",a,{passive:!0}),window.removeEventListener("mouseup",u,{passive:!0})}},[]),l})(),[h,p]=(0,t.useState)({x:0,y:0,width:32,height:32,vx:0,vy:0,isGrounded:!1,direction:1,animation:"idle",health:90,maxHealth:I,ammo:0,oxygen:E,maxOxygen:E,lavaResist:j,maxLavaResist:j,iceResist:100,maxIceResist:100,radioactivity:20,maxRadioactivity:R,strength:30,maxStrength:100,lastPushTime:0,isWinning:!1,winCounter:0,projectiles:[]}),g=(0,t.useRef)({...h}),f=(0,t.useRef)(),m=(0,t.useRef)(!1),A=(0,t.useRef)(0),b=(0,t.useRef)(0),x=(0,t.useRef)(null),_=(0,t.useRef)(new Set),w=(0,t.useRef)([]),y=(0,t.useRef)(0),k=(0,t.useRef)(1),v=(0,t.useRef)(!1),M=(0,t.useRef)(null),S=(0,t.useRef)(!1),B=(0,t.useRef)(0),D=(0,t.useRef)(0),N=(0,t.useRef)(0),T=(0,t.useRef)(0),O=(0,t.useRef)([]),z=(0,t.useRef)(o),Q=(0,t.useRef)(s),P=(0,t.useRef)(i),G=(0,t.useRef)(c),W=(0,t.useRef)(u);(0,t.useEffect)(()=>{z.current=o},[o]),(0,t.useEffect)(()=>{Q.current=s},[s]),(0,t.useEffect)(()=>{P.current=i},[i]),(0,t.useEffect)(()=>{G.current=c},[c]),(0,t.useEffect)(()=>{W.current=u},[u]),(0,t.useEffect)(()=>{try{const l=localStorage.getItem("game_sound_enabled");v.current=null!==l&&"0"!==l}catch{v.current=!1}const l=l=>{try{const e=!!l?.detail?.enabled;v.current=e}catch{}};window.addEventListener("game-sound-toggle",l);const e=()=>{try{if(!M.current){const l=window.AudioContext||window.webkitAudioContext;l&&(M.current=new l)}M.current&&"suspended"===M.current.state&&M.current.resume?.(),M.current&&"running"===M.current.state&&(S.current=!0)}catch{}};return window.addEventListener("game-sound-user-gesture",e),()=>{window.removeEventListener("game-sound-toggle",l),window.removeEventListener("game-sound-user-gesture",e)}},[]);const F=(l,e)=>function(l,e,n){const{soundEnabledRef:t,audioCtxRef:a}=l||{};try{if(!t?.current)return;const a=Math.max(0,Math.min(1,n??1));if(e&&"string"===typeof e&&e.length>0)try{const n=new Audio(e);n.volume=a,n.addEventListener?.("error",()=>{try{n.pause()}catch{}We(l,a)},{once:!0});const t=n.play?.();return void(t&&"function"===typeof t.catch&&t.catch(()=>We(l,a)))}catch{}We(l,a)}catch{}}({soundEnabledRef:v,audioCtxRef:M,audioCtxUnlockedRef:S},l,e),U=(l,e,n,t,a)=>{try{return function({currentX:l,currentY:e,mapWidth:n,objectLayerData:t,deltaMs:a,registryItems:u,TILE_SIZE:r,MOVE_SPEED:i,JUMP_FORCE:o,hazardDamageAccumulatorRef:s,lastHazardIndexRef:c,triggeredHazardsRef:d,gameState:h}){if(!t)return s.current=0,void(c.current=null);const p=l,g=l+h.current.width,f=e,m=e+h.current.height,A=Math.floor(p/r),b=Math.floor(g/r),x=Math.floor(f/r),_=Math.floor(m/r),w=[],y=(l,e,n)=>{const t=e.damageDirections||{top:!0,bottom:!0,left:!0,right:!0};(n.top&&t.top||n.bottom&&t.bottom||n.left&&t.left||n.right&&t.right)&&w.push({index:l,def:e,touch:n})};for(let B=x;B<=_;B++)for(let l=A;l<=b;l++){const e=B*n+l;if(e<0||e>=t.length)continue;const a=t[e];if(!a)continue;const i=u.find(l=>l.id===a);if(!i||"hazard"!==i.type)continue;const o=l*r,s=o+r,c=B*r,d=c+r;if(!(g>=o&&p<=s)||!(m>=c&&f<=d))continue;let h=Number(i.touchMargin);Number.isFinite(h)||(h=4),h=Math.max(1,Math.min(8,h));let A=m>=c&&m<=c+h,b=f<=d&&f>=d-h,x=g>=s-h&&g<=s,_=p<=o+h&&p>=o;if(!A&&!b&&!x&&!_){const l=Math.abs(m-c),e=Math.abs(d-f),n=Math.abs(g-o),t=Math.abs(s-p),a=Math.min(l,e,n,t);A=a===l,b=!A&&a===e,x=!A&&!b&&a===n,_=!A&&!b&&!x}y(e,i,{top:A,bottom:b,left:x,right:_})}if(0===w.length)return s.current=0,void(c.current=null);const k=l=>(l.top?4:0)+(l.bottom?3:0)+(l.left?2:0)+(l.right?1:0);w.sort((l,e)=>k(e.touch)-k(l.touch));const v=w[0],M=v.index,S=v.def,C=v.touch,I=c.current;c.current=M;const E=!!S.damageOnce,j=S.damage??0,R=S.damagePerSecond??j;if(E){if(!d.current.has(M)){d.current.add(M),h.current.health=Math.max(0,h.current.health-j);const l=500,e=Number(h.current.hitTimerMs)||0;return h.current.hitTimerMs=Math.max(e,l),void(C.top?h.current.vy=.4*-o:C.left?h.current.vx=1.5*-i:C.right&&(h.current.vx=1.5*i))}}else{if(I!==M){s.current=0;const l=Number.isFinite(j)&&j>0?j:R;if(l>0){h.current.health=Math.max(0,h.current.health-l);const e=500,n=Number(h.current.hitTimerMs)||0;h.current.hitTimerMs=Math.max(n,e)}return}s.current+=a;const l=1e3;for(;s.current>=l;){s.current-=l,h.current.health=Math.max(0,h.current.health-R);const e=500,n=Number(h.current.hitTimerMs)||0;h.current.hitTimerMs=Math.max(n,e)}}}({currentX:l,currentY:e,mapWidth:n,objectLayerData:t,deltaMs:a,registryItems:r,TILE_SIZE:C,MOVE_SPEED:4,JUMP_FORCE:10,hazardDamageAccumulatorRef:b,lastHazardIndexRef:x,triggeredHazardsRef:_,gameState:g})}catch(u){return Xe.error(u,{component:"useGameEngine",function:"checkHazardDamageWrapper",playerPosition:{x:l,y:e},mapWidth:n}),{damage:0,damageType:null}}},L=(0,t.useRef)(new Set),V=(l,e)=>{((l,e,n)=>{if(!l||!e||!n)return;const{gameState:t,entitiesRef:a}=n;if("meteor"===l){const{x:l,y:n,size:u,isLarge:r}=e,i=r?40:20,o=1.5*u;if(t&&t.current){const e=t.current,a=e.x+e.width/2-l,u=e.y+e.height/2-n,r=Math.sqrt(a*a+u*u);r<o+e.width/2&&(t.current.health=Math.max(0,(Number(t.current.health)||0)-i),t.current.hitTimerMs=500,r>0?(t.current.vx+=a/r*10,t.current.vy-=5):t.current.vy-=10)}a&&a.current&&a.current.forEach(e=>{const t=e.x+e.width/2-l,a=e.y+e.height/2-n,u=Math.sqrt(t*t+a*a);u<o+e.width/2&&(e.health=Math.max(0,(e.health||0)-i),"platform"!==e.subtype&&(u>0?(e.vx+=t/u*8,e.vy-=3):e.vy-=6))})}})(l,e,{gameState:g,entitiesRef:O})};(0,t.useEffect)(()=>{const l=l=>{l&&l.detail&&V(l.detail.type,l.detail.data)};return window.addEventListener("weather-effect-hit",l),()=>window.removeEventListener("weather-effect-hit",l)},[]);const Y=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(!l)return m.current=!1,void(Y.current=null);const e=l.meta||{},t=`${e.projectName||""}|${e.activeMapId||l.name||"default"}|${e.date_map_last_updated||e.date_map_created_at||""}`,a=t!==Y.current;if((!m.current||a)&&(Y.current=t,A.current=0,b.current=0,x.current=null,_.current=new Set,w.current=[],O.current=[],y.current=0,k.current=1,l&&l.layers)){const e=l.meta?.width||l.width||20,t=l.meta?.height||l.height||15,a=[];n&&Array.isArray(n)&&n.forEach((l,n)=>{if(l&&!l.includes("player")){const t=Xl(l)||r.find(e=>e.id===l);t&&("entity"===t.type||"tank"===t.subtype||"platform"===t.subtype||t.isPushable||t.name&&t.name.toLowerCase().includes("entities."))&&a.push({id:`entity_${n}_${Date.now()}_${n}`,defId:l,def:t,x:n%e*C,y:Math.floor(n/e)*C,width:(Number(t.width)||1)*C,height:(Number(t.height)||1)*C,vx:0,vy:0,health:t.maxHealth||100,direction:"platform"===t.subtype||t.isPushable?1:-1,animation:"platform"===t.subtype||t.isPushable?"idle":"move",animFrame:0,animTimer:0,isGrounded:!1,shootCooldown:0,currentSpriteIndex:0,subtype:t.subtype||(t.isPushable?"pushable":null),rotation:t.isRound?0:void 0})}}),O.current=a;const u=l.layers.find(l=>"entities"===l.name);if(u){const n=l.meta?.spawnTriggerId;let a=-1;if(void 0!==n&&null!==n&&(a=u.data.findIndex((e,t)=>{if(!e||!e.includes("target")&&"portal_target"!==e)return!1;const a=G.current?.[t]||l.meta?.objectMetadata?.[t];return a&&a.triggerId===n})),-1===a&&(a=u.data.findIndex(l=>l&&l.includes("player"))),-1!==a){let l=a%e*C,n=Math.floor(a/e)*C;const r=u.data[a],i=Xl(r)||Xl("player"),o=Math.max(1,Number(i?.maxHealth)||I);g.current={x:l,y:n,width:(i?.width||1)*C*.8,height:(i?.height||1)*C,vx:0,vy:0,isGrounded:!1,direction:1,animation:"idle",health:Math.min(90,o),maxHealth:o,ammo:0,oxygen:E,maxOxygen:E,lavaResist:j,maxLavaResist:j,radioactivity:20,maxRadioactivity:R,strength:Number(i?.strength)||30,maxStrength:Number(i?.maxStrength)||100,lastPushTime:0,isWinning:!1,winCounter:0};let s=0;for(;H(g.current.x,g.current.y,e,t)&&s<t;)g.current.y=Math.max(0,g.current.y-C),s++;const c=e*C-g.current.width;g.current.x=Math.max(0,Math.min(g.current.x,c)),p({...g.current,projectiles:[],entities:O.current}),m.current=!0}else g.current={...g.current,x:0,y:0,vx:0,vy:0,oxygen:E,maxOxygen:E,lavaResist:j,maxLavaResist:j,radioactivity:20,maxRadioactivity:R,strength:30,maxStrength:100,lastPushTime:0},p({...g.current,projectiles:[],entities:O.current}),m.current=!0}else g.current={...g.current,x:0,y:0,vx:0,vy:0,oxygen:E,maxOxygen:E,lavaResist:j,maxLavaResist:j,radioactivity:20,maxRadioactivity:R,strength:30,maxStrength:100,lastPushTime:0},p({...g.current,projectiles:[],entities:O.current}),m.current=!0}},[l]);const H=(t,u,i,o,s,c,d)=>Ke(t,u,i,o,C,e,r,void 0!==s?s:g.current.width,void 0!==c?c:g.current.height,a,n,G.current||l?.meta?.objectMetadata,O.current,d),J=(t,u,i,o,s,c,d,h,p,g,f)=>Je(t,u,i,o,s||C,c||e,d||r,h||a,p||n,g||G.current||l?.meta?.objectMetadata,O.current,f),K=(l,e,n,t="player")=>function(l,e,n,t,a="player"){const{findItemById:u,TILE_SIZE:r,parseBool:i,projectilesRef:o,projectileIdRef:s,playShotSfx:c}=l,d=u("fireball_basic"),h=s.current++,p=Math.max(2,(d?.width||.25)*r),g=Math.max(2,(d?.height||.25)*r),f=(t>=0?1:-1)*(d?.speed?60*d.speed:840),m=Math.max(200,d?.lifespan||600),A="undefined"!==typeof d?.ricochetOnTiles?!!d.ricochetOnTiles:i(d?.collisionWithPenetration,!0),b={id:h,ownerId:a,x:e,y:n,vx:f,vy:0,w:p,h:g,life:m,defId:d?.id||"fireball_basic",dir:t>=0?1:-1,cwt:!(!d||!d.collisionWithTiles),hbs:Math.max(.1,Math.min(1,d?.hitboxScale??1)),ric:A,dmg:d?.damage||10};o.current.push(b);try{const l=Math.max(0,Math.min(1,d?.sfxVolume??1));c(d?.sfx,l)}catch{}}({findItemById:Xl,TILE_SIZE:C,parseBool:Ze,projectilesRef:w,projectileIdRef:k,playShotSfx:F},l,e,n,t),q=t=>{const u={mapData:l,objectData:n,input:d,refs:{gameState:g,isInitialized:m,lastTimeRef:A,projectilesRef:w,entitiesRef:O,shootCooldownRef:y,liquidDamageAccumulatorRef:B,oxygenDepleteAccRef:D,lavaDepleteAccRef:N,weatherDamageAccRef:T},constants:{TILE_SIZE:C,GRAVITY:.6,TERMINAL_VELOCITY:12,MOVE_SPEED:4,JUMP_FORCE:10},registryItems:r,helpers:{checkCollision:H,getSurfaceProperties:(l,e,n,t,a,u,r,i,o)=>qe(l,e,n,t,a,u,r,i,o),isLiquidAt:(n,t)=>((l,n,t,a)=>{const u=Le(l,n,t,a,C,e,r);return u?u.type:null})(n,t,l?.meta?.width||l?.width||20,l?.meta?.height||l?.height||15),getLiquidSample:({x:n,y:t,width:a,height:u,TILE_SIZE:i,mapWidth:o,mapHeight:s})=>{return c={x:n,y:t,width:a,height:u},d=l?.meta?.width||l?.width||20,h=l?.meta?.height||l?.height||15,Ve({x:c.x,y:c.y,width:c.width,height:c.height,TILE_SIZE:C,mapWidth:d,mapHeight:h,tileData:e,registryItems:r});var c,d,h}},actions:{collectItem:(l,e,n,t)=>function(l,e,n,t,a){const{registryItems:u,TILE_SIZE:r,MAX_HEALTH:i,playShotSfx:o,onStateUpdate:s,gameState:c}=l;if(!a)return;const d=e+c.current.width/2,h=n+c.current.height/2,p=Math.floor(d/r),g=Math.floor(h/r)*t+p;if(g<0||g>=a.length)return;const f=a[g];if(!f)return;const m=u.find(l=>l.id===f);if(m&&m.pickup&&!f.includes("player")&&(!m.name||!m.name.startsWith("interactable."))){if(m.effect&&m.effect.health){const l=parseInt(m.effect.health,10);if(c.current.health>=i)return;const e=Math.min(c.current.health+l,i);c.current.health=e;try{const l=Math.max(0,Math.min(1,m?.sfxVolume??1));o(m?.sfx,l)}catch{}return void(s&&s("collectItem",g))}if(m.effect&&m.effect.fireball){const l=parseInt(m.effect.fireball,10)||0;c.current.ammo=Math.max(0,(c.current.ammo||0)+l);try{const l=Math.max(0,Math.min(1,m?.sfxVolume??1));o(m?.sfx,l)}catch{}return void(s&&s("collectItem",g))}}}({registryItems:r,TILE_SIZE:C,MAX_HEALTH:I,playShotSfx:F,onStateUpdate:z.current,gameState:g},l,e,n,t),checkInteractables:(e,n,t,a)=>function(l,e,n,t,a){const{registryItems:u,TILE_SIZE:r,MAX_HEALTH:i,playShotSfx:o,onStateUpdate:s,gameState:c,mapData:d}=l;if(!a)return;const h=l.input?.current||{},p=e+c.current.width/2,g=n+c.current.height/2,f=Math.floor(p/r),m=Math.floor(g/r);let A=m*t+f;if(h.e){const l=p+(c.current.direction||1)*(.8*r),e=m*t+Math.floor(l/r);if(e>=0&&e<a.length){const l=a[e];if(l){const n=u.find(e=>e.id===l);n&&"wolf_secret"===n.type&&(A=e)}}}let b=-1;if(a[A])b=A;else{const l=d?.meta?.objectMetadata;if(l)for(const[e,n]of Object.entries(l)){const l=parseInt(e),u=n.width||1,r=n.height||1;if(u>1||r>1){const e=l%t,n=Math.floor(l/t);if(f>=e&&f<e+u&&m>=n&&m<n+r&&a[l]){b=l;break}}}}if(-1===b)return;const x=b,_=d?.meta?.objectMetadata,w=_?.[x],y=a[x];if(!y)return;const k=u.find(l=>l.id===y);if(k){if("weather_trigger"===k.type){const l=k.weatherType,e=k.weatherAction;let n=0;if("set"===e||"on"===e?n=void 0!==w?.intensity?w.intensity:"on"===e?1:50:"off"===e&&(n=0),c.current.lastWeatherTrigger||(c.current.lastWeatherTrigger={}),c.current.lastWeatherTrigger[x]!==n&&(s&&s("updateWeather",{type:l,value:n}),c.current.lastWeatherTrigger[x]=n,k.sfx))try{o(k.sfx,k.sfxVolume||.5)}catch{}return}if("message_trigger"===k.type){const l=w?.message;if(!l)return;if(c.current.lastMessageTrigger||(c.current.lastMessageTrigger={}),c.current.lastMessageTrigger[x]!==l&&(s&&s("showMessage",{text:l,duration:8e3}),c.current.lastMessageTrigger[x]=l,k.sfx))try{o(k.sfx,k.sfxVolume||.5)}catch{}return}if("wolf_secret"===k.type){if(!h.e)return;c.current.lastETime||(c.current.lastETime=0);const l=Date.now();if(l-c.current.lastETime<1e3)return;if(c.current.lastETime=l,s&&(s("shiftTile",{index:A,dx:k.moveX||0,dy:k.moveY||0}),k.sfx))try{o(k.sfx,k.sfxVolume||.5)}catch{}return}if(k.name&&k.name.startsWith("interactable.")){if(y.includes("portal")&&w&&void 0!==w.triggerId&&null!==w.triggerId){const l=w.targetMapId,e=d?.maps||d?.projectMaps;if(l&&e&&e[l]&&s){s("switchMap",{targetMapId:l,triggerId:w.triggerId});try{const l=Math.max(0,Math.min(1,k?.sfxVolume??1));o(k?.sfx||"/assets/sound/sfx/teleport.ogg",l)}catch{}return}for(let n=0;n<a.length;n++){if(n===A)continue;const l=a[n];if(l&&(l.includes("target")||"portal_target"===l)){const l=_?.[n];if(l&&l.triggerId===w.triggerId){const l=n%t*r,e=Math.floor(n/t)*r;c.current.x=l,c.current.y=e;try{const l=Math.max(0,Math.min(1,k?.sfxVolume??1));o(k?.sfx||"/assets/sound/sfx/teleport.ogg",l)}catch{}return}}}}if("end"===k.subtype&&!c.current.isWinning)return c.current.isWinning=!0,c.current.winCounter=0,void(c.current.winCountSpeed=k.winCountSpeed||10);if(c.current.usedInteractables||(c.current.usedInteractables=new Set),!c.current.usedInteractables.has(A)&&k.effect){if(k.effect.health){const l=parseInt(k.effect.health,10);if(c.current.health>=i)return;const e=Math.min(c.current.health+l,i);c.current.health=e;try{const l=Math.max(0,Math.min(1,k?.sfxVolume??1));o(k?.sfx,l)}catch{}return c.current.usedInteractables.add(A),void(s&&s("interactable",A))}if(k.effect.fireball){const l=parseInt(k.effect.fireball,10)||0;c.current.ammo=Math.max(0,(c.current.ammo||0)+l);try{const l=Math.max(0,Math.min(1,k?.sfxVolume??1));o(k?.sfx,l)}catch{}return c.current.usedInteractables.add(A),void(s&&s("interactable",A))}}}}}({registryItems:r,TILE_SIZE:C,MAX_HEALTH:I,playShotSfx:F,onStateUpdate:z.current,gameState:g,mapData:l,input:d},e,n,t,a),checkHazardDamage:(l,e,n,t,a)=>U(l,e,n,t,a),checkSecrets:(l,e,n,t,u,i)=>((l,e,n,t,u,i)=>{try{if(!a||!Q.current)return;const o=[...W.current||[],...Array.from(L.current)],s=Ge({currentX:l,currentY:e,width:n,height:t,secretMapData:a,revealedSecrets:o,mapWidth:u,mapHeight:i,registryItems:r,TILE_SIZE:C});s&&s.length>0&&(s.forEach(l=>L.current.add(l)),Q.current(s))}catch(o){Xe.error(o,{component:"useGameEngine",function:"checkSecretsWrapper",playerPosition:{x:l,y:e}})}})(l,e,n,t,u,i),spawnProjectile:(l,e,n,t)=>K(l,e,n,t),playSfx:(l,e)=>F(l,e),updateProjectiles:(e,t,a)=>function(l,e,n,t){const{projectilesRef:a,entitiesRef:u,playerState:r,TILE_SIZE:i,isSolidAtPixel:o,findItemById:s,objectData:c,objectMetadata:d,onStateUpdate:h}=l,p=e/1e3,g=n*i,f=t*i,m=(l,e,a,u)=>{const r=[{x:l-a,y:e-u},{x:l+a,y:e-u},{x:l-a,y:e+u},{x:l+a,y:e+u}];for(let s=0;s<r.length;s++){const l=r[s];if(o(l.x,l.y,n,t,i,null,null,null,c,d))return!0}return!1},A=(l,e,a,u)=>{if(!c)return null;const r=[{x:l-a,y:e-u},{x:l+a,y:e-u},{x:l-a,y:e+u},{x:l+a,y:e+u},{x:l,y:e}];for(const o of r){const l=Math.floor(o.x/i),e=Math.floor(o.y/i);if(l<0||e<0||l>=n||e>=t)continue;const a=e*n+l,u=c[a];if(u){const l=s(u);if(l&&l.isDestructible){const e=d?.[a]||{};if((void 0!==e.health?e.health:l.maxHealth)>(l.passableHealthThreshold||0))return a}}}return null},b=(l,e,n,t,a)=>{if(!u?.current)return null;for(const r of u.current){if(r.health<=0||r.isExploding)continue;if(r.id===a.ownerId)continue;const u=r.x,i=r.y,o=r.width,s=r.height;if(l+n>u&&l-n<u+o&&e+t>i&&e-t<i+s)return r}return null},x=(l,e,n,t,a)=>{if(!r||"player"===a.ownerId)return!1;const u=r.x,o=r.y,s=r.width||i,c=r.height||i;return l+n>u&&l-n<u+s&&e+t>o&&e-t<o+c};if(a.current.length)for(let _=a.current.length-1;_>=0;_--){const l=a.current[_];null==l.bounces&&(l.bounces=0);const n=Number.isFinite(l.maxBounces)?l.maxBounces:s(l.defId)?.maxBounces??3,t=Number.isFinite(l.bounceDamping)?l.bounceDamping:s(l.defId)?.bounceDamping??.6,u=Number.isFinite(l.ricochetRandom)?l.ricochetRandom:s(l.defId)?.ricochetRandom??.15,i=Math.max(Math.abs(l.vx*p),Math.abs(l.vy*p));let o=Math.ceil(i/4);(!Number.isFinite(o)||o<1)&&(o=1),o=Math.min(o,20);const c=p/o;let d=l.x,w=l.y;const y=l.w*(l.hbs||1)*.5,k=l.h*(l.hbs||1)*.5;let v=!1;for(let e=0;e<o;e++){let e=d+l.vx*c;if(x(e,w,y,k,l)){r&&(r.health=Math.max(0,(Number(r.health)||0)-(l.dmg||10))),h&&h("playerDamage",{damage:l.dmg||10}),v=!0;break}const n=b(e,w,y,k,l);if(n){n.health-=l.dmg||10,v=!0;break}const a=A(e,w,y,k);if(null!==a){h&&h("objectDamage",{index:a,damage:l.dmg||10}),v=!0;break}if(l.cwt&&m(e,w,y,k)){if(!l.ric){v=!0;break}{l.vx=-l.vx*t;const e=Math.max(40,Math.hypot(l.vx,l.vy)),n=(2*Math.random()-1)*e*u;l.vy+=.15*n,l.bounces+=1,l.life=Math.max(0,l.life-80)}}else d=e;let i=w+l.vy*c;if(x(d,i,y,k,l)){r&&(r.health=Math.max(0,(Number(r.health)||0)-(l.dmg||10))),h&&h("playerDamage",{damage:l.dmg||10}),v=!0;break}const o=b(d,i,y,k,l);if(o){o.health-=l.dmg||10,v=!0;break}const s=A(d,i,y,k);if(null!==s){h&&h("objectDamage",{index:s,damage:l.dmg||10}),v=!0;break}if(l.cwt&&m(d,i,y,k)){if(!l.ric){v=!0;break}{l.vy=-l.vy*t;const e=Math.max(40,Math.hypot(l.vx,l.vy)),n=(2*Math.random()-1)*e*u;l.vx+=.15*n,l.bounces+=1,l.life=Math.max(0,l.life-80)}}else w=i;if(l.cwt&&m(d,w,y,k)){if(!l.ric){v=!0;break}l.vx=-l.vx*t,l.vy=-l.vy*t,l.bounces+=1,d-=.5*Math.sign(l.vx||1),w-=.5*Math.sign(l.vy||1)}}l.x=d,l.y=w,l.life-=e,(l.life<=0||l.x<-32||l.y<-32||l.x>g+32||l.y>f+32||v||(l.bounces||0)>(n||0))&&a.current.splice(_,1)}}({projectilesRef:w,entitiesRef:O,playerState:g.current,TILE_SIZE:C,isSolidAtPixel:J,findItemById:Xl,objectData:n,objectMetadata:G.current||l?.meta?.objectMetadata,onStateUpdate:z.current},e,t,a),setPlayer:l=>p(l),onGameOver:P.current}},i=He(u,t);!1!==i?.continue&&(f.current=requestAnimationFrame(q))};return(0,t.useEffect)(()=>{if(l)return f.current=requestAnimationFrame(q),()=>{f.current&&cancelAnimationFrame(f.current)}},[l,n]),h},ln=i.Ay.div.withConfig({componentId:"sc-1q33akp-0"})(["position:absolute;top:0;left:0;width:100%;height:auto;background-color:rgba(0,0,0,0.3);display:flex;justify-content:space-between;align-items:center;padding:0 20px;box-sizing:border-box;z-index:1000;pointer-events:none;"]),en=i.Ay.div.withConfig({componentId:"sc-1q33akp-1"})(["font-size:28px;font-weight:bold;color:rgba(255,200,50,0.95);text-shadow:2px 2px 4px rgba(0,0,0,0.8);font-family:monospace;pointer-events:none;"]),nn=i.Ay.div.withConfig({componentId:"sc-1q33akp-2"})(["display:flex;flex-direction:column;align-items:flex-end;"]),tn=i.Ay.div.withConfig({componentId:"sc-1q33akp-3"})(["display:flex;flex-direction:column;width:250px;padding-top:5px;padding-bottom:5px;"]),an=i.Ay.div.withConfig({componentId:"sc-1q33akp-4"})(["display:flex;align-items:center;gap:6px;width:100%;"]),un=i.Ay.div.withConfig({componentId:"sc-1q33akp-5"})(["flex:1;height:6px;background-color:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.4);position:relative;box-shadow:inset 0 0 0 1px rgba(0,0,0,0.1);"]),rn=i.Ay.div.attrs(l=>({style:{width:`${l.$percent}%`,backgroundColor:l.$color}})).withConfig({componentId:"sc-1q33akp-6"})(["height:100%;transition:width 0.3s ease;"]),on=i.Ay.div.withConfig({componentId:"sc-1q33akp-7"})(["width:60px;font-size:8px;color:white;font-weight:bold;text-shadow:1px 1px 2px black;pointer-events:none;white-space:nowrap;text-transform:uppercase;text-align:right;"]),sn=({health:l,maxHealth:e=100,ammo:n=0,oxygen:t=100,maxOxygen:a=100,lavaResist:u=100,maxLavaResist:r=100,iceResist:i=100,maxIceResist:o=100,strength:s=30,maxStrength:c=100,radioactivity:d=20,maxRadioactivity:h=100,inWater:p=!1,liquidType:g=null,onIce:f=!1})=>{const m=Math.max(0,Math.min(100,l/e*100)),A=Math.max(0,Math.min(100,t/a*100)),b=Math.max(0,Math.min(100,u/r*100)),x=Math.max(0,Math.min(100,i/o*100)),_=Math.max(0,Math.min(100,s/c*100)),w=Math.max(0,Math.min(100,d/h*100));return(0,Nl.jsxs)(ln,{children:[(0,Nl.jsxs)(en,{children:["\ud83d\udd25 ",n||0]}),(0,Nl.jsx)(nn,{children:(0,Nl.jsxs)(tn,{children:[(0,Nl.jsxs)(an,{children:[(0,Nl.jsx)(on,{children:"HP"}),(0,Nl.jsx)(un,{children:(0,Nl.jsx)(rn,{$percent:m,$color:"#ff3232"})})]}),(0,Nl.jsxs)(an,{children:[(0,Nl.jsx)(on,{children:"OZ"}),(0,Nl.jsx)(un,{children:(0,Nl.jsx)(rn,{$percent:A,$color:"#2ecdf1"})})]}),(0,Nl.jsxs)(an,{children:[(0,Nl.jsx)(on,{children:"LAVA"}),(0,Nl.jsx)(un,{children:(0,Nl.jsx)(rn,{$percent:b,$color:"#ffcc00"})})]}),(0,Nl.jsxs)(an,{children:[(0,Nl.jsx)(on,{children:"ICE"}),(0,Nl.jsx)(un,{children:(0,Nl.jsx)(rn,{$percent:x,$color:"#a5f3fc"})})]}),(0,Nl.jsxs)(an,{children:[(0,Nl.jsx)(on,{children:"STRNGTH"}),(0,Nl.jsx)(un,{children:(0,Nl.jsx)(rn,{$percent:_,$color:"#eab308"})})]}),(0,Nl.jsxs)(an,{children:[(0,Nl.jsx)(on,{children:"RADIO"}),(0,Nl.jsx)(un,{children:(0,Nl.jsx)(rn,{$percent:w,$color:"#32cd32"})})]})]})})]})};sn.propTypes={health:ae().number.isRequired,maxHealth:ae().number,ammo:ae().number,oxygen:ae().number,maxOxygen:ae().number,lavaResist:ae().number,maxLavaResist:ae().number,iceResist:ae().number,maxIceResist:ae().number,strength:ae().number,maxStrength:ae().number,radioactivity:ae().number,maxRadioactivity:ae().number,inWater:ae().bool,liquidType:ae().string,onIce:ae().bool};const cn=sn,dn=[],hn=l=>{l&&l.name&&dn.push(l)},pn=()=>dn.map(l=>({name:l.name,description:l.description})),gn=(l,e={})=>{const n=String(l||"").trim();if(!n)return"";const[t,...a]=n.split(/\s+/),u=dn.find(l=>l.name.toLowerCase()===t.toLowerCase());if(!u)return`Unknown command: ${t}. Type 'help' to list commands.`;try{const l=u.handler({args:a,raw:n,context:e});return"string"===typeof l?l:""}catch(r){return`Error executing '${t}': ${r?.message||r}`}};hn({name:"help",description:"Show available commands",handler:()=>pn().map(l=>`- ${l.name}${l.description?`: ${l.description}`:""}`).join("\n")||"No commands available."}),hn({name:"clear",description:"Clear terminal output",handler(){try{window.dispatchEvent(new CustomEvent("game-terminal-clear"))}catch{}return""}}),hn({name:"settings",description:"Open the draggable game settings window",handler(){try{window.dispatchEvent(new CustomEvent("game-open-settings")),window.dispatchEvent(new CustomEvent("game-close-terminal"))}catch{}return"Opening settings..."}});const fn={position:"fixed",left:0,right:0,bottom:0,height:"220px",backgroundColor:"rgba(10, 10, 10, 0.95)",color:"#d6d6d6",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:"12px",borderTop:"1px solid #333",boxShadow:"0 -6px 16px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column",zIndex:3e3,transition:"transform 160ms ease"};function mn(){const[l,e]=(0,t.useState)(!1),[n,a]=(0,t.useState)(["Type 'help' to list commands. Press ESC to close."]),[u,r]=(0,t.useState)(""),i=(0,t.useRef)(null),o=(0,t.useRef)(null),s=(0,t.useRef)(0);(0,t.useRef)(!1);(0,t.useEffect)(()=>{const l=()=>e(l=>!l),n=()=>a([]),t=()=>e(!1);return window.addEventListener("game-toggle-terminal",l),window.addEventListener("game-terminal-clear",n),window.addEventListener("game-close-terminal",t),()=>{window.removeEventListener("game-toggle-terminal",l),window.removeEventListener("game-terminal-clear",n),window.removeEventListener("game-close-terminal",t)}},[]),(0,t.useEffect)(()=>{try{window.__GAME_TERMINAL_OPEN__=l}catch{}if(l){r("");try{s.current=("undefined"!==typeof performance?performance.now():Date.now())+220}catch{s.current=Date.now()+220}setTimeout(()=>o.current&&o.current.focus(),0)}},[l]),(0,t.useEffect)(()=>{const n=n=>{l&&"Escape"===n.key&&e(!1)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[l]),(0,t.useEffect)(()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)},[n,l]);const c={...fn,transform:l?"translateY(0)":"translateY(100%)"};return(0,Nl.jsxs)("div",{style:c,"aria-hidden":!l,children:[(0,Nl.jsx)("div",{style:{padding:"6px 8px",borderBottom:"1px solid #333",color:"#9cdcfe"},children:"In-Game Terminal \u2014 press T to toggle"}),(0,Nl.jsx)("div",{ref:i,style:{flex:1,overflowY:"auto",padding:"8px 10px",whiteSpace:"pre-wrap",lineHeight:1.4},children:n.map((l,e)=>(0,Nl.jsx)("div",{style:{color:l.startsWith(">")?"#dcdcaa":"#d6d6d6"},children:l},e))}),(0,Nl.jsxs)("form",{onSubmit:l=>{l.preventDefault();const e=u.trim();if(!e)return;a(l=>[...l,`> ${e}`]);const n=gn(e,{});n&&a(l=>[...l,n]),r("")},style:{display:"flex",gap:"6px",padding:"8px",borderTop:"1px solid #333"},children:[(0,Nl.jsx)("span",{style:{color:"#6a9955"},children:"$"}),(0,Nl.jsx)("input",{ref:o,value:u,onKeyDown:l=>{if(("undefined"!==typeof performance?performance.now():Date.now())<(s.current||0)&&"Escape"!==l.key)return"function"===typeof l.preventDefault&&l.preventDefault(),void("function"===typeof l.stopPropagation&&l.stopPropagation())},onChange:l=>r(l.target.value),placeholder:"Enter command...",style:{flex:1,background:"#111",color:"#fff",border:"1px solid #333",padding:"6px 8px",borderRadius:"3px",outline:"none"}}),(0,Nl.jsx)("button",{type:"submit",style:{background:"#0e639c",color:"#fff",border:"1px solid #0b5c8a",padding:"6px 10px",borderRadius:"3px",cursor:"pointer"},children:"Run"})]})]})}function An(){const[l,e]=(0,t.useState)(()=>{try{return localStorage.getItem("game_settings_tab")||"Audio"}catch{}return"Audio"}),[n,a]=(0,t.useState)(()=>{try{const l=window.__GAME_RUNTIME_SETTINGS__;if(l&&"number"===typeof l.backgroundParallaxFactor)return l.backgroundParallaxFactor}catch{}return.3}),[u,r]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_rain");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherRain)return Math.max(0,Math.min(100,e.weatherRain))}catch{}return 0}),[i,o]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_snow");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherSnow)return Math.max(0,Math.min(100,e.weatherSnow))}catch{}return 0}),[s,c]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_clouds");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=localStorage.getItem("game_weather_fog");if(null!==e)return Math.max(0,Math.min(100,parseInt(e,10)||0));const n=window.__GAME_RUNTIME_SETTINGS__;if(n&&"number"===typeof n.weatherClouds)return Math.max(0,Math.min(100,n.weatherClouds));if(n&&"number"===typeof n.weatherFog)return Math.max(0,Math.min(100,n.weatherFog))}catch{}return 0}),[d,h]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_thunder");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherThunder)return Math.max(0,Math.min(100,e.weatherThunder))}catch{}return 0}),[p,g]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_fog");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherFog)return Math.max(0,Math.min(100,e.weatherFog))}catch{}return 0}),[f,m]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_lavarain");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherLavaRain)return Math.max(0,Math.min(100,e.weatherLavaRain))}catch{}return 0}),[A,b]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_radioactivefog");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherRadioactiveFog)return Math.max(0,Math.min(100,e.weatherRadioactiveFog))}catch{}return 0}),[x,_]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_weather_meteorrain");if(null!==l)return Math.max(0,Math.min(100,parseInt(l,10)||0));const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"number"===typeof e.weatherMeteorRain)return Math.max(0,Math.min(100,e.weatherMeteorRain))}catch{}return 0}),[w,y]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_ui_healthbar");if(null!==l)return"0"!==l;const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"boolean"===typeof e.healthBarEnabled)return e.healthBarEnabled}catch{}return!0}),[k,v]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_ui_oxygenbar");if(null!==l)return"0"!==l;const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"boolean"===typeof e.oxygenBarEnabled)return e.oxygenBarEnabled}catch{}return!0}),[M,S]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_ui_lavabar");if(null!==l)return"0"!==l;const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"boolean"===typeof e.lavaBarEnabled)return e.lavaBarEnabled}catch{}return!0}),[C,I]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_fx_water_splashes");if(null!==l)return"0"!==l;const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"boolean"===typeof e.waterSplashesEnabled)return e.waterSplashesEnabled}catch{}return!0}),[E,j]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_fx_lava_embers");if(null!==l)return"0"!==l;const e=window.__GAME_RUNTIME_SETTINGS__;if(e&&"boolean"===typeof e.lavaEmbersEnabled)return e.lavaEmbersEnabled}catch{}return!0}),[R,B]=(0,t.useState)(!1),[D,N]=(0,t.useState)(!1),[T,O]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_settings_pos");if(l)return JSON.parse(l)}catch{}return{left:12,top:64}}),[z,Q]=(0,t.useState)(()=>{try{const l=localStorage.getItem("game_settings_size");if(l)return JSON.parse(l)}catch{}return{width:300,height:220}}),P=(0,t.useRef)({active:!1,offsetX:0,offsetY:0}),G=(l,e,n)=>{const t=("undefined"!==typeof window?window.innerWidth:0)||0,a=("undefined"!==typeof window?window.innerHeight:0)||0,u=Math.max(0,t-(e?.width||300)-12),r=Math.max(0,a-(n?36:e?.height||220)-12);let i=Number(l?.left),o=Number(l?.top);return Number.isFinite(i)||(i=12),Number.isFinite(o)||(o=12),i=Math.max(0,Math.min(u,i)),o=Math.max(0,Math.min(r,o)),{left:i,top:o}};(0,t.useEffect)(()=>{try{const l=localStorage.getItem("game_settings_min");l&&N("1"===l)}catch{}},[]),(0,t.useEffect)(()=>{const l=l=>{const e=l&&l.detail||{};void 0!==e.weatherRain&&r(e.weatherRain),void 0!==e.weatherSnow&&o(e.weatherSnow),void 0!==e.weatherClouds&&c(e.weatherClouds),void 0!==e.weatherFog&&g(e.weatherFog),void 0!==e.weatherThunder&&h(e.weatherThunder),void 0!==e.weatherLavaRain&&m(e.weatherLavaRain),void 0!==e.weatherRadioactiveFog&&b(e.weatherRadioactiveFog),void 0!==e.weatherMeteorRain&&_(e.weatherMeteorRain),void 0!==e.backgroundParallaxFactor&&a(e.backgroundParallaxFactor),void 0!==e.healthBarEnabled&&y(!!e.healthBarEnabled),void 0!==e.oxygenBarEnabled&&v(!!e.oxygenBarEnabled),void 0!==e.lavaBarEnabled&&S(!!e.lavaBarEnabled),void 0!==e.waterSplashesEnabled&&I(!!e.waterSplashesEnabled),void 0!==e.lavaEmbersEnabled&&j(!!e.lavaEmbersEnabled)};return window.addEventListener("game-settings-update",l),()=>window.removeEventListener("game-settings-update",l)},[]),(0,t.useEffect)(()=>{const l=()=>{O(l=>G(l,z,!1)),B(!0),N(!1);try{const l=window.__GAME_RUNTIME_SETTINGS__||{};"number"===typeof l.backgroundParallaxFactor&&a(l.backgroundParallaxFactor),"number"===typeof l.weatherRain&&r(Math.max(0,Math.min(100,l.weatherRain))),"number"===typeof l.weatherSnow&&o(Math.max(0,Math.min(100,l.weatherSnow))),"number"===typeof l.weatherClouds&&c(Math.max(0,Math.min(100,l.weatherClouds))),"number"===typeof l.weatherFog&&g(Math.max(0,Math.min(100,l.weatherFog))),"number"===typeof l.weatherThunder&&h(Math.max(0,Math.min(100,l.weatherThunder))),"number"===typeof l.weatherLavaRain&&m(Math.max(0,Math.min(100,l.weatherLavaRain))),"number"===typeof l.weatherRadioactiveFog&&b(Math.max(0,Math.min(100,l.weatherRadioactiveFog))),"number"===typeof l.weatherMeteorRain&&_(Math.max(0,Math.min(100,l.weatherMeteorRain))),"boolean"===typeof l.healthBarEnabled&&y(!!l.healthBarEnabled),"boolean"===typeof l.oxygenBarEnabled&&v(!!l.oxygenBarEnabled),"boolean"===typeof l.lavaBarEnabled&&S(!!l.lavaBarEnabled),"boolean"===typeof l.waterSplashesEnabled&&I(!!l.waterSplashesEnabled),"boolean"===typeof l.lavaEmbersEnabled&&j(!!l.lavaEmbersEnabled)}catch{}try{window.dispatchEvent(new CustomEvent("game-close-terminal"))}catch{}};return window.addEventListener("game-open-settings",l),()=>window.removeEventListener("game-open-settings",l)},[]),(0,t.useEffect)(()=>{try{localStorage.setItem("game_settings_pos",JSON.stringify(T))}catch{}},[T]),(0,t.useEffect)(()=>{try{localStorage.setItem("game_settings_size",JSON.stringify(z))}catch{}},[z]),(0,t.useEffect)(()=>{try{localStorage.setItem("game_settings_min",D?"1":"0")}catch{}},[D]),(0,t.useEffect)(()=>{try{localStorage.setItem("game_settings_tab",String(l))}catch{}},[l]),(0,t.useEffect)(()=>{const l=l=>{if(!P.current.active)return;l.preventDefault();const e=l.clientX-P.current.offsetX,n=l.clientY-P.current.offsetY,t=Math.max(0,(window.innerWidth||0)-z.width-6),a=Math.max(0,(window.innerHeight||0)-(D?36:z.height)-6);O({left:Math.max(0,Math.min(t,e)),top:Math.max(0,Math.min(a,n))})},e=()=>{P.current.active=!1};return window.addEventListener("mousemove",l),window.addEventListener("mouseup",e),()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)}},[z.width,z.height,D]),(0,t.useEffect)(()=>{if(!R)return;const l=()=>O(l=>G(l,z,D));return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[R,z.width,z.height,D]);const W=l=>{try{window.dispatchEvent(new CustomEvent("game-settings-update",{detail:l})),window.__GAME_RUNTIME_SETTINGS__={...window.__GAME_RUNTIME_SETTINGS__||{},...l}}catch{}};if(!R)return null;const F={position:"fixed",left:T.left,top:T.top,width:z.width,height:D?36:z.height,background:"rgba(20,20,20,0.96)",color:"#eaeaea",border:"1px solid #2a2a2a",borderRadius:6,boxShadow:"0 8px 24px rgba(0,0,0,0.6)",zIndex:2600,display:"flex",flexDirection:"column",userSelect:P.current.active?"none":"auto",overflow:"hidden"},U={flex:1,display:D?"none":"block",padding:10,overflow:"auto",background:"rgba(10,10,10,0.4)"},L={background:"#0e639c",color:"#fff",border:"1px solid #0b5c8a",padding:"4px 8px",borderRadius:4,fontSize:11,cursor:"pointer",marginLeft:6},V={display:D?"none":"flex",alignItems:"center",gap:6,padding:"6px 8px",borderBottom:"1px solid #2a2a2a",background:"rgba(0,0,0,0.25)",whiteSpace:"nowrap",overflowX:"auto"};return(0,Nl.jsxs)("div",{style:F,children:[(0,Nl.jsxs)("div",{style:{cursor:"move",background:"linear-gradient(180deg, #2a2a2a, #1c1c1c)",padding:"6px 8px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #333",fontSize:12},onMouseDown:l=>{P.current.active=!0,P.current.offsetX=l.clientX-T.left,P.current.offsetY=l.clientY-T.top},children:[(0,Nl.jsx)("div",{style:{fontWeight:600,color:"#9cdcfe"},children:"Game Settings"}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Nl.jsx)("button",{onClick:()=>N(l=>!l),title:D?"Expand":"Minimize",style:L,children:D?"\u25a2":"\u2014"}),(0,Nl.jsx)("button",{onClick:()=>B(!1),title:"Close",style:{...L,background:"#a33",borderColor:"#822"},children:"\u2715"})]})]}),(0,Nl.jsx)("div",{style:V,children:["Audio","Graphics","Weather"].map(n=>{return(0,Nl.jsx)("button",{style:(t=n,{background:l===t?"#1e1e1e":"transparent",color:l===t?"#9cdcfe":"#ddd",border:l===t?"1px solid #3a3a3a":"1px solid transparent",padding:"4px 10px",borderRadius:4,fontSize:12,cursor:"pointer"}),onClick:()=>e(n),children:n},n);var t})}),(0,Nl.jsxs)("div",{style:U,children:["Audio"===l&&(0,Nl.jsxs)("section",{style:{marginBottom:10},children:[(0,Nl.jsx)("div",{style:{fontSize:12,marginBottom:6,color:"#d6d6d6"},children:"Audio"}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Master Volume"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",defaultValue:.7})]})]}),"Graphics"===l&&(0,Nl.jsxs)(Nl.Fragment,{children:[(0,Nl.jsxs)("section",{style:{marginBottom:10},children:[(0,Nl.jsx)("div",{style:{fontSize:12,marginBottom:6,color:"#d6d6d6"},children:"Graphics"}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Parallax Factor"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:Number.isFinite(n)?n:.3,onChange:l=>{const e=parseFloat(l.target.value);a(e),W({backgroundParallaxFactor:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:40,textAlign:"right"},children:(Number.isFinite(n)?n:.3).toFixed(2)})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"VSync"}),(0,Nl.jsx)("input",{type:"checkbox",defaultChecked:!0})]})]}),(0,Nl.jsxs)("section",{children:[(0,Nl.jsx)("div",{style:{fontSize:12,marginBottom:6,color:"#d6d6d6"},children:"Gameplay"}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Invert Jump (W)"}),(0,Nl.jsx)("input",{type:"checkbox"})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Show Health Bar"}),(0,Nl.jsx)("input",{type:"checkbox",checked:!!w,onChange:l=>{const e=!!l.target.checked;y(e);try{localStorage.setItem("game_ui_healthbar",e?"1":"0")}catch{}W({healthBarEnabled:e})}})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Show Oxygen Bar"}),(0,Nl.jsx)("input",{type:"checkbox",checked:!!k,onChange:l=>{const e=!!l.target.checked;v(e);try{localStorage.setItem("game_ui_oxygenbar",e?"1":"0")}catch{}W({oxygenBarEnabled:e})}})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Show Lava Bar"}),(0,Nl.jsx)("input",{type:"checkbox",checked:!!M,onChange:l=>{const e=!!l.target.checked;S(e);try{localStorage.setItem("game_ui_lavabar",e?"1":"0")}catch{}W({lavaBarEnabled:e})}})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Water Splashes"}),(0,Nl.jsx)("input",{type:"checkbox",checked:!!C,onChange:l=>{const e=!!l.target.checked;I(e);try{localStorage.setItem("game_fx_water_splashes",e?"1":"0")}catch{}W({waterSplashesEnabled:e})}})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Lava Embers"}),(0,Nl.jsx)("input",{type:"checkbox",checked:!!E,onChange:l=>{const e=!!l.target.checked;j(e);try{localStorage.setItem("game_fx_lava_embers",e?"1":"0")}catch{}W({lavaEmbersEnabled:e})}})]})]})]}),"Weather"===l&&(0,Nl.jsxs)("section",{style:{marginBottom:10},children:[(0,Nl.jsx)("div",{style:{fontSize:12,marginBottom:6,color:"#d6d6d6"},children:"Weather"}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Lietus (Rain)"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(u)?u:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));r(e);try{localStorage.setItem("game_weather_rain",String(e))}catch{}W({weatherRain:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(u)?u:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Sniegs (Snow)"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(i)?i:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));o(e);try{localStorage.setItem("game_weather_snow",String(e))}catch{}W({weatherSnow:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(i)?i:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Migla (Fog)"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(p)?p:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));g(e);try{localStorage.setItem("game_weather_fog",String(e))}catch{}W({weatherFog:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(p)?p:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Zibens (Thunder)"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(d)?d:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));h(e);try{localStorage.setItem("game_weather_thunder",String(e))}catch{}W({weatherThunder:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(d)?d:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"M\u0101ko\u0146i (Clouds)"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(s)?s:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));c(e);try{localStorage.setItem("game_weather_clouds",String(e))}catch{}W({weatherClouds:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(s)?s:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Lavas lietus"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(f)?f:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));m(e);try{localStorage.setItem("game_weather_lavarain",String(e))}catch{}W({weatherLavaRain:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(f)?f:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Radioakt. migla"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(A)?A:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));b(e);try{localStorage.setItem("game_weather_radioactivefog",String(e))}catch{}W({weatherRadioactiveFog:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(A)?A:0})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,Nl.jsx)("label",{style:{fontSize:12,width:120},children:"Meteor\u012btu lietus"}),(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Number.isFinite(x)?x:0,onChange:l=>{const e=Math.max(0,Math.min(100,parseInt(l.target.value,10)||0));_(e);try{localStorage.setItem("game_weather_meteorrain",String(e))}catch{}W({weatherMeteorRain:e})}}),(0,Nl.jsx)("span",{style:{fontSize:12,width:34,textAlign:"right"},children:Number.isFinite(x)?x:0})]})]})]}),!D&&(0,Nl.jsx)("div",{onMouseDown:l=>{l.preventDefault();const e=l.clientX,n=l.clientY,t=z.width,a=z.height,u=l=>{const u=l.clientX-e,r=l.clientY-n,i=Math.max(220,t+u),o=Math.max(140,a+r);Q({width:i,height:o})},r=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",r)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",r)},title:"Resize",style:{position:"absolute",right:0,bottom:0,width:16,height:16,cursor:"nwse-resize",background:"linear-gradient(135deg, transparent 0, transparent 50%, #666 50%, #666 100%)"}})]})}function bn({metaPath:l,enabled:e=!1,volume:a=.6}){const u=(0,t.useRef)(null),r=(0,t.useRef)(null);let i=null;try{i=n(8815)}catch(s){i=null}const o=()=>{try{u.current&&(u.current.pause(),u.current.src="",u.current=null,r.current=null)}catch{}};return(0,t.useEffect)(()=>{const n=(l=>{if(!l)return null;const e=l.split("/").pop();if(!e)return null;if(i)try{const l=i(`./${e}`);return l.default||l}catch(s){console.warn(`Background music not found: ${e}`)}return null})(l);if(n&&r.current===n&&u.current)return()=>{};if(o(),!n)return()=>{};const t=new Audio(n);return t.loop=!0,t.volume=Math.max(0,Math.min(1,Number(a)||0)),u.current=t,r.current=n,e&&t.play().catch(()=>{}),()=>o()},[l]),(0,t.useEffect)(()=>{const l=u.current;if(l)if(l.volume=Math.max(0,Math.min(1,Number(a)||0)),e)l.play().catch(()=>{});else try{l.pause()}catch{}},[e,a]),(0,t.useEffect)(()=>{const l=()=>{const l=u.current;l&&e&&l.play().catch(()=>{})},n=l=>{const e=!!(l&&l.detail&&l.detail.enabled),n=u.current;if(n)if(e)n.play().catch(()=>{});else try{n.pause()}catch{}};return window.addEventListener("game-sound-user-gesture",l),window.addEventListener("game-sound-toggle",n),()=>{window.removeEventListener("game-sound-user-gesture",l),window.removeEventListener("game-sound-toggle",n)}},[e]),null}const xn=[JSON.parse('{"meta":{"version":"2.0","projectName":"Template","author":"VoltG3","description":"Empty template","date_created":"2026-01-19T16:59:13.149Z","date_last_updated":"2026-01-19T17:04:59.746Z","activeMapId":"main"},"maps":{"main":{"id":"main","name":"Template","description":"Empty template","type":"overworld","width":61,"height":29,"backgroundImage":null,"backgroundColor":"#99C1F1","backgroundParallaxFactor":0.3,"backgroundMusic":null,"weather":{"rain":0,"snow":0,"clouds":0,"fog":0,"thunder":0},"objectMetadata":{},"playerPosition":{"x":100,"y":100},"worldX":50,"worldY":50,"statistics":{"total_tiles":1769,"filled_tiles":305,"total_objects":1},"layers":[{"type":"tile","name":"background","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001"]},{"type":"object","name":"entities","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"player",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"type":"secret","name":"secrets","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]}}}'),JSON.parse('{"meta":{"version":"2.0","projectName":"Forest","author":"VoltG3","description":"LIQUIDS : water, waterfall\\nSECTORS : open.area","date_created":"2026-01-19T16:59:13.149Z","date_last_updated":"2026-01-20T00:45:05.905Z","activeMapId":"main"},"maps":{"main":{"id":"main","name":"Forest","description":"LIQUIDS : water, waterfall\\nSECTORS : open.area","type":"overworld","width":61,"height":29,"backgroundImage":"/assets/background/seamless_01.jpg","backgroundColor":"#99C1F1","backgroundParallaxFactor":0.3,"backgroundMusic":"/assets/sound/background/170515__rolandasb__forest_ambient_01_loop.ogg","weather":{"rain":0,"snow":0,"clouds":0,"fog":0,"thunder":0,"lavaRain":0,"radioactiveFog":0,"meteorRain":0},"objectMetadata":{},"playerPosition":{"x":100,"y":100},"worldX":50,"worldY":50,"statistics":{"total_tiles":1769,"filled_tiles":776,"total_objects":8},"layers":[{"type":"tile","name":"background","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","grass_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","grass_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","grass_block_0001","grass_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","waterfall_block","waterfall_block","waterfall_block","waterfall_block",null,"dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","water_block","water_block","water_block","water_block","water_block","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","grass_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","water_block","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001"]},{"type":"object","name":"entities","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"fireball_ammo",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"fireball_ammo",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"player",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"fireball_ammo",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"fireball_ammo",null,null,null,null,null,null,null,null,null,"hertz_item",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"fireball_ammo",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"fireball_ammo",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"type":"secret","name":"secrets","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area",null,null,null,"open_area","open_area","open_area","open_area","open_area",null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area",null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area","open_area","open_area","open_area",null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area","open_area","open_area","open_area","open_area","open_area",null,"open_area",null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area","open_area","open_area","open_area","open_area",null,"open_area","open_area","open_area",null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area","open_area",null,null,null,null,null,null,"open_area","open_area",null,null,null,"open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area",null,null,"open_area","open_area",null,null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area","open_area","open_area",null,null,null,null,"open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area","open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]}}}'),JSON.parse('{"meta":{"version":"2.0","projectName":"New Map","author":"Anonymous","description":"","date_created":"2026-01-19T23:31:56.375Z","date_last_updated":"2026-01-19T23:36:07.976Z","activeMapId":"main"},"maps":{"main":{"id":"main","name":"New Map","description":"","type":"overworld","width":20,"height":15,"backgroundImage":"/assets/background/Forest.png","backgroundColor":"#99C1F1","backgroundParallaxFactor":0.3,"backgroundMusic":"/assets/sound/background/170515__rolandasb__forest_ambient_01_loop.ogg","weather":{"rain":0,"snow":0,"clouds":0,"fog":0,"thunder":0,"lavaRain":0,"radioactiveFog":0,"meteorRain":0},"objectMetadata":{},"playerPosition":{"x":100,"y":100},"worldX":50,"worldY":50,"statistics":{"total_tiles":300,"filled_tiles":196,"total_objects":1},"layers":[{"type":"tile","name":"background","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","lava_waterfall_block","lava_waterfall_block","lava_waterfall_block","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","lava_waterfall_block","lava_waterfall_block","lava_waterfall_block","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","lava_waterfall_block","lava_waterfall_block","lava_waterfall_block","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","lava_waterfall_block","lava_waterfall_block","lava_waterfall_block","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","lava_waterfall_block","lava_waterfall_block","lava_waterfall_block","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001",null,null,null,"waterfall_block","waterfall_block","waterfall_block","waterfall_block","lava_waterfall_block","lava_waterfall_block","lava_waterfall_block","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","radioactive_waterfall","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","quicksand_block","quicksand_block","water_block","water_block","water_block","water_block","lava_block","lava_block","lava_block","radioactive_water","radioactive_water","radioactive_water","radioactive_water","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","quicksand_block","quicksand_block","water_block","water_block","water_block","water_block","lava_block","lava_block","lava_block","radioactive_water","radioactive_water","radioactive_water","radioactive_water","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","quicksand_block","quicksand_block","quicksand_block","water_block","water_block","water_block","water_block","lava_block","lava_block","lava_block","radioactive_water","radioactive_water","radioactive_water","radioactive_water","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","lava_block","lava_block","lava_block","radioactive_water","radioactive_water","radioactive_water","radioactive_water","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001","water_block","water_block","water_block","water_block","lava_block","lava_block","lava_block","radioactive_water","radioactive_water","radioactive_water","radioactive_water","dirt_block_0001","dirt_block_0001","dirt_block_0001","dirt_block_0001"]},{"type":"object","name":"entities","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"player",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"type":"secret","name":"secrets","data":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"open_area",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"secret_area_a",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"secret_area_a",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}]}}}')],_n=i.Ay.div.withConfig({componentId:"sc-1iygo51-0"})(["position:relative;height:100%;overflow:hidden;background-color:#333;"]),wn=i.Ay.div.withConfig({componentId:"sc-1iygo51-1"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.6);z-index:3000;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(2px);"]),yn=i.Ay.div.withConfig({componentId:"sc-1iygo51-2"})(["background-color:#fff;padding:20px;border-radius:8px;width:900px;max-width:95%;max-height:85%;overflow-y:auto;box-shadow:0 10px 25px rgba(0,0,0,0.5);display:flex;flex-direction:column;gap:15px;"]),kn=i.Ay.h2.withConfig({componentId:"sc-1iygo51-3"})(["margin:0;border-bottom:2px solid #eee;padding-bottom:10px;"]),vn=i.Ay.div.withConfig({componentId:"sc-1iygo51-4"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:15px;padding:5px;"]),Mn=i.Ay.div.withConfig({componentId:"sc-1iygo51-5"})(["border:1px solid #ddd;border-radius:8px;padding:15px;cursor:pointer;background-color:#f9f9f9;display:flex;flex-direction:column;gap:10px;transition:all 0.2s ease;&:hover{background-color:#f0f7ff;border-color:#2196f3;transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,0,0,0.1);}"]),Sn=i.Ay.div.withConfig({componentId:"sc-1iygo51-6"})(["font-weight:bold;font-size:16px;color:#333;"]),Cn=i.Ay.div.withConfig({componentId:"sc-1iygo51-7"})(["font-size:12px;color:#666;"]),In=i.Ay.div.withConfig({componentId:"sc-1iygo51-8"})(["font-size:11px;color:#777;font-style:italic;line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;min-height:45px;"]),En=i.Ay.div.withConfig({componentId:"sc-1iygo51-9"})(["margin-top:auto;padding-top:8px;border-top:1px solid #eee;font-size:11px;color:#555;display:flex;justify-content:space-between;"]),jn=i.Ay.div.withConfig({componentId:"sc-1iygo51-10"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:120px;font-weight:bold;color:#fff;text-shadow:0 0 20px rgba(0,0,0,0.8),0 0 40px rgba(255,255,255,0.5);z-index:2000;pointer-events:none;font-family:'Courier New',Courier,monospace;"]),Rn=i.Ay.div.withConfig({componentId:"sc-1iygo51-11"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.8);z-index:2500;display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;backdrop-filter:blur(4px);animation:fadeIn 0.5s ease-out;@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}"]),Bn=i.Ay.h1.withConfig({componentId:"sc-1iygo51-12"})(["font-size:72px;margin:0 0 30px 0;text-transform:uppercase;letter-spacing:5px;color:#ff4444;text-shadow:0 0 20px rgba(255,0,0,0.5),0 5px 15px rgba(0,0,0,0.8);font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;font-weight:900;"]),Dn=i.Ay.button.withConfig({componentId:"sc-1iygo51-13"})(["padding:18px 50px;font-size:28px;background:linear-gradient(180deg,#4CAF50,#2E7D32);color:white;border:2px solid #fff;border-radius:50px;cursor:pointer;font-weight:bold;box-shadow:0 5px 15px rgba(0,0,0,0.3);transition:all 0.2s ease;outline:none;&:hover{background:linear-gradient(180deg,#66BB6A,#388E3C);transform:scale(1.05) translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,0.4);}&:active{transform:scale(0.98) translateY(0);}"]),Nn=i.Ay.div.withConfig({componentId:"sc-1iygo51-14"})(["border-top:2px solid #eee;padding-top:15px;margin-top:10px;"]),Tn=i.Ay.label.withConfig({componentId:"sc-1iygo51-15"})(["padding:8px 16px;background-color:#2196F3;color:white;border:none;border-radius:4px;cursor:pointer;font-weight:bold;text-align:center;display:inline-block;width:100%;box-sizing:border-box;&:hover{background-color:#1976D2;}"]),On=i.Ay.input.withConfig({componentId:"sc-1iygo51-16"})(["display:none;"]),zn=i.Ay.div.withConfig({componentId:"sc-1iygo51-17"})(["height:100%;overflow:hidden;filter:",";pointer-events:",";transition:filter 0.3s ease;"],l=>l.$blurred?"blur(5px)":"none",l=>l.$blurred?"none":"auto"),Qn=i.Ay.div.withConfig({componentId:"sc-1iygo51-18"})(["position:relative;width:100%;height:100%;background-color:#111;"]),Pn=i.Ay.div.withConfig({componentId:"sc-1iygo51-19"})(["color:#777;font-size:24px;"]),Gn=i.Ay.div.withConfig({componentId:"sc-1iygo51-20"})(["position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;pointer-events:none;z-index:1500;h2{font-size:48px;color:white;text-shadow:0 0 10px rgba(0,0,0,0.8),0 0 20px rgba(0,0,0,0.5);margin:0;padding:20px;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;font-weight:800;letter-spacing:2px;opacity:",";transition:opacity 2s ease-in-out;}"],l=>l.$isVisible?1:0);function Wn(){const l=(0,r.wA)(),e=(0,t.useRef)(null),{activeMapData:n,tileMapData:a,objectMapData:u,secretMapData:i,objectMetadata:o,revealedSecrets:s,objectTextureIndices:c,mapWidth:h,mapHeight:x,isGameOver:w}=((0,r.d4)(l=>l.player),(0,r.d4)(l=>l.game)),{isMapModalOpen:y,cameraScrollX:k,shouldCenterMap:M}=(0,r.d4)(l=>l.ui),{sound:S}=(0,r.d4)(l=>l.settings),C=S.enabled,[I,E]=(0,t.useState)({}),[j,R]=(0,t.useState)({text:"",isVisible:!1}),B=(0,t.useRef)(null),D=ql()||[],N=(0,t.useCallback)((e,t)=>{if("collectItem"===e){l(g(t))}else if("interactable"===e){const e=t,n=u[e];n&&l(b({index:e,newId:n+"_used"}))}else if("switchMap"===e){const{targetMapId:l,triggerId:e}=t;if((n?.maps||n?.projectMaps||{})[l]){console.log(`Switching to map: ${l}, looking for trigger: ${e}`);const t={...n,meta:{...n.meta,activeMapId:l,spawnTriggerId:e}};z(t)}}else if("objectDamage"===e){const{index:e,damage:n}=t,a=u[e];if(a){const t=D.find(l=>l.id===a);if(t&&t.isDestructible){const a=o[e]||{},u=t.maxHealth||100,r=Math.max(0,(void 0!==a.health?a.health:u)-n);l(p({index:e,metadata:{health:r}})),"crack_block"===t.type&&r<=(t.passableHealthThreshold||0)&&l(f(e))}}}else if("shiftTile"===e&&t){const{index:e,dx:n,dy:a}=t;let r=e,i=n,o=a;const s=()=>{if(0===i&&0===o)return void l(g(r));const e=i>0?1:i<0?-1:0,n=o>0?1:o<0?-1:0,t=r%h+e,a=Math.floor(r/h)+n;if(t>=0&&t<h&&a>=0&&a<x){const c=a*h+t;if(1===Math.abs(i)&&0===o||1===Math.abs(o)&&0===i){const l=u[c],e=D.find(e=>e.id===l);if(e&&"wolf_secret"===e.type){const l=Math.abs(e.moveX||3),n=Math.abs(e.moveY||3);0!==i&&(i+=i>0?l:-l),0!==o&&(o+=o>0?n:-n)}}l(m({fromIndex:r,toIndex:c})),l(A({fromIndex:r,toIndex:c})),r=c,i-=e,o-=n,0!==i||0!==o?setTimeout(s,250):l(g(r))}else l(g(r))};s()}else if("playerDamage"===e&&void 0!==t)console.log("Player hit by entity!");else if("levelWin"===e)console.log("Level Win! Returning to map selection."),setTimeout(()=>{alert("Level Complete!"),l(pl(!0))},500);else if("updateWeather"===e&&t){const{type:l,value:e}=t,n="weather"+l.charAt(0).toUpperCase()+l.slice(1);E(l=>({...l,[n]:e})),window.dispatchEvent(new CustomEvent("game-settings-update",{detail:{[n]:e}}))}else if("weatherEffectHit"===e&&t){const{type:l,data:e}=t;window.dispatchEvent(new CustomEvent("weather-effect-hit",{detail:{type:l,data:e}}))}else if("showMessage"===e&&t){const{text:l,duration:e}=t;B.current&&clearTimeout(B.current),R({text:l,isVisible:!0}),B.current=setTimeout(()=>{R(l=>({...l,isVisible:!1})),B.current=null},e||8e3)}},[l,u,o,D]),T=$e(n,a,u,i,s,D,()=>{l(v(!0))},N,e=>{l(_(e))},o),O=(0,t.useMemo)(()=>Xl("player_default_100")||Xl("player"),[]);(0,t.useEffect)(()=>{const l=l=>{const e=l&&l.detail||{};E(l=>({...l,...e}))};return window.addEventListener("game-settings-update",l),()=>window.removeEventListener("game-settings-update",l)},[]),(0,t.useEffect)(()=>{const e=()=>{l(pl(!0)),l(v(!1))};return window.addEventListener("open-new-game-modal",e),()=>window.removeEventListener("open-new-game-modal",e)},[l]),(0,t.useEffect)(()=>{try{const l=I.weatherClouds??0,e=I.weatherFog??0,t=I.weatherThunder??0;window.__GAME_RUNTIME_SETTINGS__={...window.__GAME_RUNTIME_SETTINGS__||{},backgroundParallaxFactor:I.backgroundParallaxFactor??n?.meta?.backgroundParallaxFactor??.3,weatherRain:I.weatherRain??0,weatherSnow:I.weatherSnow??0,weatherLavaRain:I.weatherLavaRain??0,weatherRadioactiveFog:I.weatherRadioactiveFog??0,weatherMeteorRain:I.weatherMeteorRain??0,weatherClouds:l,weatherFog:e,weatherThunder:t,healthBarEnabled:I.healthBarEnabled??!0,oxygenBarEnabled:I.oxygenBarEnabled??!0,lavaBarEnabled:I.lavaBarEnabled??!0,waterSplashesEnabled:I.waterSplashesEnabled??!0,lavaEmbersEnabled:I.lavaEmbersEnabled??!0,weatherFogLegacy:e}}catch{}},[I,n]);const z=e=>{try{if(!e)return void Xe.warn("loadMapData called with empty mapData",{component:"Game"});let n=e;if("2.0"===e.meta?.version&&e.maps){const l=e.meta.activeMapId||Object.keys(e.maps)[0],t=e.maps[l];t&&(n={...e,meta:{...e.meta,width:t.width,height:t.height,name:t.name,backgroundImage:t.backgroundImage,backgroundColor:t.backgroundColor,backgroundMusic:t.backgroundMusic,backgroundParallaxFactor:t.backgroundParallaxFactor,weather:t.weather,objectMetadata:t.objectMetadata||{},playerPosition:t.playerPosition},layers:t.layers||[{name:"background",data:t.tileMapData},{name:"entities",data:t.objectMapData},{name:"secrets",data:t.secretMapData}]})}const t=n.meta?.width||n.width||20,a=n.meta?.height||n.height||15;let u=[],r=[],i=[];if(n.layers){const l=n.layers.find(l=>"background"===l.name||"tile"===l.type);u=l?l.data:Array(t*a).fill(null);const e=n.layers.find(l=>"entities"===l.name||"object"===l.type);r=e?e.data:Array(t*a).fill(null);const o=n.layers.find(l=>"secrets"===l.name||"secret"===l.type);i=o?o.data:Array(t*a).fill(null)}else u=n.tiles||Array(t*a).fill(null),r=Array(t*a).fill(null),i=Array(t*a).fill(null);l(d({mapData:n,tileMapData:u,objectMapData:r,secretMapData:i,mapWidth:t,mapHeight:a})),l(_l(0)),l(pl(!1)),l(v(!1)),Xe.info("Map loaded successfully",{component:"Game",mapName:n.meta?.name||"Unknown",dimensions:`${t}x${a}`})}catch(n){Xe.error(n,{component:"Game",function:"loadMapData",mapData:e}),alert("Error loading map. Check console for details.")}};return(0,Nl.jsxs)(_n,{onClick:()=>{window.dispatchEvent(new CustomEvent("game-sound-user-gesture"))},children:[T?.isWinning&&(0,Nl.jsx)(jn,{children:Math.floor(T.winCounter||0)}),j.text&&(0,Nl.jsx)(Gn,{$isVisible:j.isVisible,children:(0,Nl.jsx)("h2",{children:j.text})}),(0,Nl.jsx)(cn,{health:T.health,maxHealth:T.maxHealth,ammo:T.ammo||0,oxygen:T.oxygen,maxOxygen:T.maxOxygen,lavaResist:T.lavaResist,maxLavaResist:T.maxLavaResist,iceResist:T.iceResist,maxIceResist:T.maxIceResist,strength:T.strength,maxStrength:T.maxStrength,radioactivity:T.radioactivity,maxRadioactivity:T.maxRadioactivity,inWater:T.inWater,liquidType:T.liquidType,onIce:T.onIce}),w&&(0,Nl.jsxs)(Rn,{children:[(0,Nl.jsx)(Bn,{children:"Game Over"}),(0,Nl.jsx)(Dn,{onClick:()=>{if(n){console.log("Replaying map...");const e={...n,meta:{...n.meta,date_map_last_updated:(new Date).toISOString()}};z(e),l(v(!1))}},children:"REPLAY \u21bb"})]}),y&&(0,Nl.jsx)(wn,{children:(0,Nl.jsxs)(yn,{children:[(0,Nl.jsx)(kn,{children:"Select a Map"}),(0,Nl.jsx)(vn,{children:xn.map((l,e)=>{const n="2.0"===l.meta?.version,t=l.meta?.projectName||l.meta?.name||"Unnamed Map",a=l.meta?.author||"Unknown";let u="",r="";if(n&&l.maps){const e=l.maps[l.meta?.activeMapId||"main"]||Object.values(l.maps)[0];e&&(u=`${e.width}x${e.height}`);const n=Object.values(l.maps);r=` (O:${n.filter(l=>"overworld"===l.type).length}, U:${n.filter(l=>"underworld"===l.type).length})`}else u=`${l.meta?.width||l.width||0}x${l.meta?.height||l.height||0}`;return(0,Nl.jsxs)(Mn,{onClick:()=>z(l),children:[(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)(Sn,{children:t}),(0,Nl.jsxs)(Cn,{children:["By: ",a]})]}),l.meta?.description&&(0,Nl.jsx)(In,{title:l.meta.description,children:l.meta.description}),(0,Nl.jsx)(En,{children:(0,Nl.jsxs)("div",{children:["Size: ",u,r]})})]},e)})}),(0,Nl.jsx)(Nn,{children:(0,Nl.jsxs)(Tn,{children:["\ud83d\udcc2 Load Custom Map from Computer",(0,Nl.jsx)(On,{type:"file",accept:".json",onChange:l=>{try{const e=l.target.files[0];if(!e)return;const n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=l=>{try{const e=JSON.parse(l.target.result);z(e)}catch(n){Xe.error(n,{component:"Game",function:"handleCustomMapUpload",fileName:e.name}),alert("Invalid map file! Check console for details.")}},n.onerror=l=>{Xe.error(l,{component:"Game",function:"handleCustomMapUpload",fileName:e.name,phase:"fileReader"}),alert("Error reading file!")}}catch(e){Xe.error(e,{component:"Game",function:"handleCustomMapUpload"})}}})]})})]})}),(0,Nl.jsx)(zn,{ref:e,$blurred:y,children:n?(0,Nl.jsx)(Qn,{children:(0,Nl.jsx)(Qe,{mapWidth:h,mapHeight:x,tileSize:32,tileMapData:a,objectMapData:u,secretMapData:i,revealedSecrets:s,objectTextureIndices:c,registryItems:D,playerState:T,playerVisuals:O,projectiles:T.projectiles||[],objectMetadata:o,backgroundImage:n?.meta?.backgroundImage,backgroundColor:n?.meta?.backgroundColor,backgroundParallaxFactor:I.backgroundParallaxFactor??n?.meta?.backgroundParallaxFactor,cameraScrollX:k,weatherRain:I.weatherRain??0,weatherLavaRain:I.weatherLavaRain??0,weatherSnow:I.weatherSnow??0,weatherMeteorRain:I.weatherMeteorRain??0,weatherClouds:I.weatherClouds??0,weatherFog:I.weatherFog??0,weatherRadioactiveFog:I.weatherRadioactiveFog??0,weatherThunder:I.weatherThunder??0,onWeatherEffectHit:(l,e)=>N("weatherEffectHit",{type:l,data:e}),healthBarEnabled:I.healthBarEnabled??!0,oxygenBarEnabled:I.oxygenBarEnabled??!0,lavaBarEnabled:I.lavaBarEnabled??!0,waterSplashesEnabled:I.waterSplashesEnabled??!0,lavaEmbersEnabled:I.lavaEmbersEnabled??!0,isEditor:!1})}):(0,Nl.jsx)(Pn,{children:"Select a map to start playing"})}),(0,Nl.jsx)(bn,{metaPath:n?.meta?.backgroundMusic,enabled:C,volume:.6}),(0,Nl.jsx)(An,{}),(0,Nl.jsx)(mn,{})]})}const Fn=async function(l,e="file.txt",n="application/octet-stream"){try{if("undefined"!==typeof window&&"function"===typeof window.showSaveFilePicker){const a={suggestedName:e,types:[{description:"File",accept:{[n||"application/octet-stream"]:[`.${e.split(".").pop()||"dat"}`]}}]};let u;try{u=await window.showSaveFilePicker(a)}catch(t){if(t&&("AbortError"===t.name||"NotAllowedError"===t.name))return!1;throw t}const r=await u.createWritable(),i=l instanceof Blob?l:new Blob([l],{type:n});return await r.write(i),await r.close(),!0}}catch(t){try{console.warn("Native save picker failed, using download fallback:",t)}catch{}}try{const t=l instanceof Blob?l:new Blob([l],{type:n}),a=document.createElement("a");return a.href=URL.createObjectURL(t),a.download=e||"file.dat",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(a.href),0),!0}catch(t){try{console.error("Download fallback failed:",t)}catch{}return!1}},Un=(l,{setMapWidth:e,setMapHeight:n,setMapName:t,setCreatorName:a,setMapDescription:u,setCreatedAt:r,setSelectedBackgroundImage:i,setSelectedBackgroundColor:o,setBackgroundParallaxFactor:s,setSelectedBackgroundMusic:c,setPlayerPosition:d,setTileMapData:h,setObjectMapData:p,setSecretMapData:g,setObjectMetadata:f,setWeatherRain:m,setWeatherSnow:A,setWeatherClouds:b,setWeatherFog:x,setWeatherThunder:_,setWeatherLavaRain:w,setWeatherRadioactiveFog:y,setWeatherMeteorRain:k,setMaps:v,setActiveMapId:M})=>{try{if(l.meta&&"2.0"===l.meta.version&&l.maps){const S={};Object.keys(l.maps).forEach(e=>{const n=l.maps[e],t=n.layers.find(l=>"tile"===l.type),a=n.layers.find(l=>"object"===l.type),u=n.layers.find(l=>"secret"===l.type);S[e]={id:e,name:n.name,description:n.description||"",type:n.type||"overworld",mapWidth:n.width,mapHeight:n.height,tileMapData:t?t.data:Array(n.width*n.height).fill(null),objectMapData:a?a.data:Array(n.width*n.height).fill(null),secretMapData:u?u.data:Array(n.width*n.height).fill(null),objectMetadata:n.objectMetadata||{},selectedBackgroundImage:n.backgroundImage,selectedBackgroundColor:n.backgroundColor,backgroundParallaxFactor:n.backgroundParallaxFactor||.3,selectedBackgroundMusic:n.backgroundMusic,weather:n.weather||{rain:0,snow:0,clouds:0,fog:0,thunder:0},playerPosition:n.playerPosition||null,worldX:n.worldX||0,worldY:n.worldY||0}}),v(S),t(l.meta.projectName||"Loaded Project"),a(l.meta.author||"Anonymous"),u(l.meta.description||""),r(l.meta.date_created||(new Date).toISOString());const C=l.meta.activeMapId||Object.keys(S)[0];M(C);const I=S[C];I&&(e(I.mapWidth),n(I.mapHeight),h(I.tileMapData),p(I.objectMapData),g(I.secretMapData),f(I.objectMetadata),i(I.selectedBackgroundImage),o(I.selectedBackgroundColor),s(I.backgroundParallaxFactor),c(I.selectedBackgroundMusic),m(I.weather.rain),A(I.weather.snow),b(I.weather.clouds),x(I.weather.fog),_(I.weather.thunder),w(I.weather.lavaRain||0),y(I.weather.radioactiveFog||0),k(I.weather.meteorRain||0),I.playerPosition&&d(I.playerPosition)),Xe.info("Project loaded successfully",{component:"Editor",projectName:l.meta.projectName})}else if(l.meta){e(l.meta.width),n(l.meta.height),l.meta.name&&t(l.meta.name),l.meta.author&&a(l.meta.author),l.meta.date_map_created_at&&r(l.meta.date_map_created_at);const u=l.layers.find(l=>"background"===l.name),S=l.layers.find(l=>"entities"===l.name),C=l.layers.find(l=>"secrets"===l.name);v({main:{id:"main",name:l.meta.name||"Main Map",type:"overworld",mapWidth:l.meta.width,mapHeight:l.meta.height,tileMapData:u?u.data:Array(l.meta.width*l.meta.height).fill(null),objectMapData:S?S.data:Array(l.meta.width*l.meta.height).fill(null),secretMapData:C?C.data:Array(l.meta.width*l.meta.height).fill(null),objectMetadata:l.meta.objectMetadata||{},selectedBackgroundImage:l.meta.backgroundImage,selectedBackgroundColor:l.meta.backgroundColor,backgroundParallaxFactor:l.meta.backgroundParallaxFactor||.3,selectedBackgroundMusic:l.meta.backgroundMusic,weather:l.meta.weather||{rain:0,snow:0,clouds:0,fog:0,thunder:0},playerPosition:null}}),M("main"),u&&h(u.data),S&&p(S.data),C&&g(C.data),l.meta.backgroundImage&&i(l.meta.backgroundImage),l.meta.backgroundColor&&o(l.meta.backgroundColor),void 0!==l.meta.backgroundParallaxFactor&&s(l.meta.backgroundParallaxFactor),l.meta.backgroundMusic&&c(l.meta.backgroundMusic),l.meta.objectMetadata&&f(l.meta.objectMetadata),l.meta.weather&&(m(l.meta.weather.rain||0),A(l.meta.weather.snow||0),b(l.meta.weather.clouds||0),x(l.meta.weather.fog||0),_(l.meta.weather.thunder||0),w(l.meta.weather.lavaRain||0),y(l.meta.weather.radioactiveFog||0),k(l.meta.weather.meteorRain||0)),l.meta.playerPosition&&d(l.meta.playerPosition),Xe.info("Map loaded successfully (Converted to Project)",{component:"Editor",mapName:l.meta.name})}else l.width&&e(l.width),l.height&&n(l.height),l.tiles&&h(l.tiles),p(Array(l.width*l.height).fill(null)),Xe.warn("Loaded map in legacy format",{component:"Editor"})}catch(S){Xe.error(S,{component:"Editor",function:"applyMapData"}),alert("Error applying map data. Check console for details.")}},Ln=t.memo(({mapWidth:l,mapHeight:e,objectMapData:n,objectMetadata:t})=>{const a=[],u=[],r=[];return n.forEach((e,n)=>{if(!e)return;const a=t?.[n];if(!a||void 0===a.triggerId||null===a.triggerId)return;const i=n%l*32+16,o=32*Math.floor(n/l)+16;e.includes("portal")&&!e.includes("target")?u.push({x:i,y:o,id:a.triggerId}):(e.includes("target")||"portal_target"===e)&&r.push({x:i,y:o,id:a.triggerId})}),u.forEach(l=>{r.forEach(e=>{l.id===e.id&&a.push((0,Nl.jsx)("line",{x1:l.x,y1:l.y,x2:e.x,y2:e.y,stroke:"#fff",strokeWidth:"2",strokeDasharray:"5,5"},`link-${l.x}-${l.y}-${e.x}-${e.y}`))})}),(0,Nl.jsx)("svg",{style:{position:"absolute",top:0,left:0,width:32*l,height:32*e,zIndex:10,pointerEvents:"none",opacity:.6},children:a})}),Vn=({textures:l,texture:e,speed:n,style:a,alt:u,className:r,spriteSheet:i})=>{const[o,s]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(l&&l.length>1){const e=setInterval(()=>{s(e=>(e+1)%l.length)},n||500);return()=>clearInterval(e)}},[l,n]);let c=null;if(l&&l.length>0?c=l[o%l.length]:e&&(c=e),!c)return null;if(i&&i.enabled){const l=i.columns||1,e=i.totalSprites||1,n=Math.ceil(e/l),t=0,o=t%l,s=Math.floor(t/l);return(0,Nl.jsx)("div",{className:r,style:{...a,overflow:"hidden",display:"inline-block",width:a?.width||"32px",height:a?.height||"32px",position:"relative"},children:(0,Nl.jsx)("img",{src:c,alt:u||"",style:{position:"absolute",width:100*l+"%",height:100*n+"%",left:`-${100*o}%`,top:`-${100*s}%`,maxWidth:"none",maxHeight:"none",display:"block"},draggable:!1})})}return(0,Nl.jsx)("img",{src:c,alt:u||"",style:a,className:r,draggable:!1})},Yn=t.memo(({index:l,x:e,y:n,activeTool:a,tileObj:u,objObj:r,secretObj:i,objectMetadata:o,isHighlighted:s,parentRegionIndex:c,borderStyle:d,bgStyle:h,handleGridMouseDown:p,handleGridMouseEnter:g,handleResizeStart:f,handleMoveStart:m,filter:A})=>{const b=!!(u&&u.flags&&u.flags.liquid),x=!!(u&&u.flags&&u.flags.water),_=!!(u&&u.flags&&u.flags.lava),w=!!(u&&u.flags&&u.flags.quicksand),y=!!(u&&u.flags&&u.flags.waterfall),k=!!(u&&u.flags&&u.flags.lava_waterfall),v=!!(u&&u.flags&&u.flags.radioactive_water),M=!!(u&&u.flags&&u.flags.radioactive_waterfall),S=null!==c?c:l,C=o?.[S]?.triggerId,I=o?.[S]?.intensity,E=o?.[S]?.width||1,j=o?.[S]?.height||1,R=t.useMemo(()=>!(!r&&!i)&&((!i||"secret"!==i.type)&&(!r||"crack_block"!==r.type&&"wolf_secret"!==r.type)),[r,i]),B=r||i||null!==c;return(0,Nl.jsxs)("div",{onMouseDown:e=>{const n=null!==c?c:l;if("move"===a){if(o[n]||r||i)return e.stopPropagation(),void m(n)}p(l,e)},onMouseEnter:()=>g(l),style:{width:"32px",height:"32px",border:d,backgroundColor:h,position:"relative",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",overflow:"visible",cursor:"move"===a&&B?"grab":"default"},children:[s&&null===c&&R&&(0,Nl.jsxs)(Nl.Fragment,{children:[(0,Nl.jsx)("div",{onMouseDown:e=>{e.stopPropagation(),f(l,"right")},style:{position:"absolute",right:32*-(E-1)-6+"px",top:"50%",transform:"translateY(-50%)",width:"10px",height:"20px",backgroundColor:"gold",border:"1px solid #000",borderRadius:"2px",zIndex:100,cursor:"ew-resize"}}),(0,Nl.jsx)("div",{onMouseDown:e=>{e.stopPropagation(),f(l,"left")},style:{position:"absolute",left:"-6px",top:"50%",transform:"translateY(-50%)",width:"10px",height:"20px",backgroundColor:"gold",border:"1px solid #000",borderRadius:"2px",zIndex:100,cursor:"ew-resize"}}),(0,Nl.jsx)("div",{onMouseDown:e=>{e.stopPropagation(),f(l,"bottom")},style:{position:"absolute",bottom:32*-(j-1)-6+"px",left:"50%",transform:"translateX(-50%)",width:"20px",height:"10px",backgroundColor:"gold",border:"1px solid #000",borderRadius:"2px",zIndex:100,cursor:"ns-resize"}}),(0,Nl.jsx)("div",{onMouseDown:e=>{e.stopPropagation(),f(l,"top")},style:{position:"absolute",top:"-6px",left:"50%",transform:"translateX(-50%)",width:"20px",height:"10px",backgroundColor:"gold",border:"1px solid #000",borderRadius:"2px",zIndex:100,cursor:"ns-resize"}})]}),u&&(0,Nl.jsx)("div",{style:{filter:A?A("tile"):"none",transition:"filter 0.3s ease"},children:b?(0,Nl.jsx)("div",{style:{width:"32px",height:"32px",background:k||_?"rgba(255, 204, 0, 0.7)":x||y?"rgba(58, 127, 184, 0.7)":w?"rgba(218, 165, 32, 0.7)":v||M?"rgba(50, 205, 50, 0.7)":"rgba(0, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"8px"},children:k?"L.FALL":_?"LAVA":M?"RADFALL":v?"RAD":x?"WATER":y?"FALL":w?"QUICK":"LIQ"}):(0,Nl.jsx)(Vn,{textures:u.textures,texture:u.texture,speed:u.animationSpeed,spriteSheet:u.spriteSheet,style:{width:"32px",height:"32px",objectFit:"cover"}})}),i&&(0,Nl.jsx)("div",{style:{position:"absolute",top:"0",left:"0",width:32*E+"px",height:32*j+"px",backgroundColor:i.filterColorInEditor||i.filterColor||"rgba(128, 0, 128, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"10px",fontWeight:"bold",zIndex:2,filter:A?A("secret"):"none",transition:"filter 0.3s ease",border:"1px dashed rgba(255,255,255,0.5)",boxSizing:"border-box",pointerEvents:"none"},children:i.editorIcon||"SECRET"}),r&&(0,Nl.jsxs)("div",{style:{position:"absolute",top:"2px",left:"2px",width:32*E-4+"px",height:32*j-4+"px",zIndex:3,display:"flex",alignItems:"center",justifyContent:"center",filter:A?A("object"):"none",transition:"filter 0.3s ease",pointerEvents:"none"},children:[r.editorIcon?(0,Nl.jsx)("span",{style:{fontSize:"20px",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.1)",border:"1px dashed rgba(255,255,255,0.3)"},children:r.editorIcon}):(0,Nl.jsx)(Vn,{textures:r.textures,texture:r.texture,speed:r.animationSpeed,spriteSheet:r.spriteSheet,style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"rgba(255,255,255,0.1)",border:"1px dashed rgba(255,255,255,0.3)"}}),void 0!==C&&null!==C&&(0,Nl.jsxs)("div",{style:{position:"absolute",top:"-15px",left:"0",backgroundColor:"rgba(0,0,0,0.7)",color:"#fff",padding:"1px 4px",borderRadius:"3px",fontSize:"10px",whiteSpace:"nowrap",zIndex:10,border:"1px solid #fff"},children:["ID: ",C]}),void 0!==I&&null!==I&&r&&("weather_trigger"===r.type||r.hasIntensity)&&(0,Nl.jsxs)("div",{style:{position:"absolute",top:"-15px",right:"0",backgroundColor:"rgba(0,100,200,0.8)",color:"#fff",padding:"1px 4px",borderRadius:"3px",fontSize:"10px",whiteSpace:"nowrap",zIndex:11,border:"1px solid #fff"},children:[I,"%"]})]})]})}),Hn=({mapWidth:l,mapHeight:e,selectedBackgroundUrl:n,selectedBackgroundColor:a,selectedBackgroundImage:u,showBackgroundImage:r,showGrid:i,activeLayer:o,activeTool:s,tileMapData:c,objectMapData:d,secretMapData:h,objectMetadata:p,registryItems:g,hoverIndex:f,highlightedIndex:m,brushSize:A,bucketPreviewIndices:b,selection:x,previewPosition:_,dragStart:w,isDragging:y,handleGridMouseDown:k,handleGridMouseEnter:v,handleGridMouseUp:M,handleGridMouseLeave:S,handleResizeStart:C,handleMoveStart:I,setIsDragging:E,selectedTile:j,weatherRain:R,weatherSnow:B,weatherClouds:D,weatherFog:N,weatherThunder:T,weatherLavaRain:O,weatherRadioactiveFog:z,weatherMeteorRain:Q})=>{const P="brush"===s&&null===j,G="brush"===s,W="bucket"===s,F=t.useMemo(()=>{const e=[];if(!p)return e;for(const[n,t]of Object.entries(p))if(t.width>1||t.height>1){const a=parseInt(n);e.push({idx:a,x:a%l,y:Math.floor(a/l),w:t.width||1,h:t.height||1})}return e},[p,l]),U=(l,e=.5)=>"tile"===l?`rgba(24, 144, 255, ${e})`:"object"===l?`rgba(245, 34, 45, ${e})`:"secret"===l?`rgba(114, 46, 209, ${e})`:`rgba(255, 255, 255, ${e})`,L=(0,t.useCallback)(l=>P?o===l?"none":"grayscale(100%) opacity(0.2) blur(2px)":"none",[P,o]);return(0,Nl.jsx)("div",{className:"viewport",style:{flex:1,padding:"40px",backgroundColor:"#555",overflow:"auto",position:"relative",userSelect:"none"},onMouseUp:()=>M(f),children:(0,Nl.jsxs)("div",{style:{position:"relative",width:"fit-content"},onMouseLeave:S,children:[(0,Nl.jsx)(Ln,{mapWidth:l,mapHeight:e,objectMapData:d,objectMetadata:p}),(0,Nl.jsx)("div",{style:{position:"absolute",top:0,left:0,width:32*l,height:32*e,backgroundImage:n&&r&&!P?`url(${n})`:"none",backgroundColor:!P&&r&&n?"transparent":a,backgroundRepeat:"repeat-x",backgroundSize:"auto 100%",zIndex:0,pointerEvents:"none"}}),(0,Nl.jsx)("div",{style:{position:"absolute",top:0,left:0,width:32*l,height:32*e,backgroundColor:P?"tile"===o?"rgba(24, 144, 255, 0.25)":"object"===o?"rgba(245, 34, 45, 0.25)":"secret"===o?"rgba(114, 46, 209, 0.25)":"transparent":"transparent",zIndex:5,pointerEvents:"none",transition:"background-color 0.3s ease"}}),(0,Nl.jsx)("div",{style:{position:"absolute",top:0,left:0,width:32*l,height:32*e,zIndex:10,pointerEvents:"none",...(()=>{let l="rgba(255, 255, 255, 0.15)",e=i;return P?(l=U(o,.4),e=!0):(G||W)&&(l=U(o,.25),e=!0),{backgroundImage:e?`\n                linear-gradient(to right, ${l} 1px, transparent 1px),\n                linear-gradient(to bottom, ${l} 1px, transparent 1px)\n            `:"none",backgroundSize:"32px 32px"}})()}}),(R>0||B>0||D>0||N>0||T>0||O>0||z>0||Q>0)&&(0,Nl.jsx)("div",{style:{position:"absolute",top:0,left:0,width:32*l,height:32*e,zIndex:15,pointerEvents:"none"},children:(0,Nl.jsx)(Qe,{mapWidth:l,mapHeight:e,tileSize:32,tileMapData:[],objectMapData:[],registryItems:g,weatherRain:R,weatherSnow:B,weatherClouds:D,weatherFog:N,weatherThunder:T,weatherLavaRain:O,weatherRadioactiveFog:z,weatherMeteorRain:Q,renderLayers:["weather"],pointerEvents:"none"})}),(0,Nl.jsx)("div",{className:"grid",style:{display:"grid",gridTemplateColumns:`repeat(${l}, 32px)`,gridTemplateRows:`repeat(${e}, 32px)`,gap:"0px",border:"1px solid #444",backgroundColor:"transparent",position:"relative",cursor:"bucket"===s?"cell":"default",zIndex:1},children:Array(l*e).fill(0).map((e,n)=>{const t=n%l,a=Math.floor(n/l);let u=c[n],r=d[n],i=h?.[n];if(x&&_){const{w:l,h:e}=x,n=_.x,o=_.y;if(t>=n&&t<n+l&&a>=o&&a<o+e){const e=(a-o)*l+(t-n);u=x.tileData[e],r=x.objectData[e],i=x.secretData?.[e]}}const M=u?g.find(l=>l.id===u):null,S=r?g.find(l=>l.id===r):null,E=i?g.find(l=>l.id===i):null;let j="none",R="transparent";const B=U(o,1);if("brush"===s&&null!==f){const e=f%l,n=Math.floor(f/l);t>=e&&t<e+A&&a>=n&&a<n+A&&(j=`1px dashed ${B}`,P&&(R="rgba(255, 0, 0, 0.1)"))}else if("bucket"===s)b.has(n)?(j="1px dashed orange",R="rgb(168,187,220)"):f===n&&(j="2px solid orange");else if("move"===s)if(y&&w&&null!==f){const e=f%l,n=Math.floor(f/l),u=Math.min(w.x,e),r=Math.min(w.y,n),i=Math.max(w.x,e),o=Math.max(w.y,n);t>=u&&t<=i&&a>=r&&a<=o&&(j="1px dashed blue",R="rgba(0, 0, 255, 0.1)")}else y||f!==n||(j="2px solid blue");m===n&&(j="3px solid gold",R="rgba(255, 215, 0, 0.4)");const D=_?_.x:x?x.x:0,N=_?_.y:x?x.y:0;x&&t>=D&&t<D+x.w&&a>=N&&a<N+x.h&&(!_||_.x===x.originalX&&_.y===x.originalY?(j="1px dashed red",R="rgba(255, 255, 0, 0.3)"):(j="2px solid cyan",R="rgba(0, 255, 255, 0.2)"));const T=F.find(l=>t>=l.x&&t<l.x+l.w&&a>=l.y&&a<l.y+l.h);return(0,Nl.jsx)(Yn,{index:n,x:t,y:a,activeTool:s,tileObj:M,objObj:S,secretObj:E,objectMetadata:p,isHighlighted:m===n||T&&m===T.idx,parentRegionIndex:T?T.idx:null,borderStyle:j,bgStyle:R,handleGridMouseDown:k,handleGridMouseEnter:v,handleResizeStart:C,handleMoveStart:I,filter:L},n)})})]})})},Jn=i.Ay.div.withConfig({componentId:"sc-a58of4-0"})(["display:contents;"]),Kn=i.Ay.div.withConfig({componentId:"sc-a58of4-1"})(["padding:0 15px;background-color:#222;border-bottom:1px solid #000;display:flex;justify-content:space-between;align-items:center;font-weight:bold;font-size:12px;height:60px;box-sizing:border-box;color:#fff;z-index:1000;position:relative;"]),qn=i.Ay.div.withConfig({componentId:"sc-a58of4-2"})(["display:flex;gap:15px;align-items:center;"]),Xn=i.Ay.div.withConfig({componentId:"sc-a58of4-3"})(["display:flex;gap:10px;align-items:center;"]),Zn=i.Ay.div.withConfig({componentId:"sc-a58of4-4"})(["display:flex;gap:10px;"]),$n=i.Ay.div.withConfig({componentId:"sc-a58of4-5"})(["display:flex;gap:10px;"]),lt=i.Ay.button.withConfig({componentId:"sc-a58of4-6"})(["min-width:40px;height:40px;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;background-color:",";color:",";border:1px solid ",";border-radius:4px;font-size:",";font-weight:",";line-height:1;transition:all 0.2s ease;box-shadow:0 2px 4px rgba(0,0,0,0.2);transform:",";padding:",";width:",";outline:none;user-select:none;opacity:",";cursor:",";position:relative;&:hover{background-color:",";transform:scale(1.05);}&:active{transform:scale(0.95);border:solid 1px #fff;}span{display:flex;align-items:center;justify-content:center;}"],l=>l.$active?"#e3de0a":"play"===l.$variant?"#4CAF50":"pause"===l.$variant?"#FF9800":"danger"===l.$variant?"#dc3545":"secondary"===l.$variant?"#f0f0f0":"#333",l=>"secondary"===l.$variant?"#333":"#fff",l=>l.$active?"#1E88E5":"play"===l.$variant?"#388E3C":"pause"===l.$variant?"#F57C00":"danger"===l.$variant?"#c82333":"secondary"===l.$variant?"#ccc":"#fff",l=>l.$small?"14px":"20px",l=>"play"===l.$variant||"pause"===l.$variant?"bold":"normal",l=>l.$active?"scale(1.05)":"none",l=>l.$square?"0":"0 15px",l=>l.$square?"40px":"auto",l=>l.$disabled?.4:1,l=>l.$disabled?"not-allowed":"pointer",l=>l.$active?"#fdfa9b":"play"===l.$variant?"#45a049":"pause"===l.$variant?"#fb8c00":"danger"===l.$variant?"#bd2130":"secondary"===l.$variant?"#e0e0e0":"#444"),et=i.Ay.div.withConfig({componentId:"sc-a58of4-7"})(["position:absolute;width:100%;height:2px;background-color:#f5222d;transform:rotate(-45deg);top:50%;left:0;z-index:2;pointer-events:none;"]),nt=i.Ay.div.withConfig({componentId:"sc-a58of4-8"})(["padding:0 12px;height:40px;border-radius:4px;display:flex;align-items:center;font-size:11px;font-weight:800;text-transform:uppercase;margin-right:15px;margin-left:15px;white-space:nowrap;border:1px solid;box-sizing:border-box;background-color:",";border-color:",";color:",";"],l=>l.$bgColor||"#e6f7ff",l=>l.$borderColor||"#91d5ff",l=>l.$textColor||"#1890ff"),tt=i.Ay.div.withConfig({componentId:"sc-a58of4-9"})(["display:flex;align-items:center;gap:10px;"]),at=i.Ay.div.withConfig({componentId:"sc-a58of4-10"})(["position:relative;display:flex;align-items:center;"]),ut=i.Ay.input.withConfig({componentId:"sc-a58of4-11"})(["width:40px;height:40px;border:1px solid #fff;padding:4px;cursor:pointer;background-color:#333;border-radius:4px;box-sizing:border-box;box-shadow:0 2px 4px rgba(0,0,0,0.2);opacity:",";cursor:",";"],l=>l.disabled?.4:1,l=>l.disabled?"not-allowed":"pointer"),rt=i.Ay.div.withConfig({componentId:"sc-a58of4-12"})(["width:40px;height:40px;border:1px solid #fff;padding:4px;cursor:pointer;background-color:#333;border-radius:4px;box-sizing:border-box;box-shadow:0 2px 4px rgba(0,0,0,0.2);display:flex;align-items:center;justify-content:center;transition:all 0.2s ease;&:hover{transform:scale(1.05);background-color:#444;}&:active{transform:scale(0.95);}"]),it=i.Ay.div.withConfig({componentId:"sc-a58of4-13"})(["width:100%;height:100%;border-radius:2px;display:flex;align-items:center;justify-content:center;background-color:",";color:#fff;font-size:18px;box-sizing:border-box;"],l=>"play"===l.$variant?"#4CAF50":"pause"===l.$variant?"#FF9800":"#333"),ot=i.Ay.div.withConfig({componentId:"sc-a58of4-14"})(["display:flex;flex-direction:column;gap:2px;align-items:flex-start;color:#bbb;margin-left:auto;"]),st=i.Ay.div.withConfig({componentId:"sc-a58of4-15"})(["display:flex;align-items:center;gap:6px;"]),ct=i.Ay.span.withConfig({componentId:"sc-a58of4-16"})(["font-size:11px;text-transform:uppercase;opacity:0.8;"]),dt=i.Ay.span.withConfig({componentId:"sc-a58of4-17"})(["color:#fff;font-size:12px;"]),ht=i.Ay.div.withConfig({componentId:"sc-a58of4-18"})(["width:40px;height:40px;border:1px solid ",";padding:4px;background-color:#333;border-radius:4px;box-sizing:border-box;box-shadow:0 2px 4px rgba(0,0,0,0.2);display:flex;align-items:center;justify-content:center;transition:all 0.2s ease;opacity:",";cursor:",";position:relative;&:hover{transform:scale(1.05);background-color:#444;}&:active{transform:scale(0.95);}"],l=>l.$active?"#e3de0a":"#fff",l=>l.$disabled?.4:1,l=>l.$disabled?"not-allowed":"pointer"),pt=i.Ay.div.withConfig({componentId:"sc-a58of4-19"})(["width:100%;height:100%;border-radius:2px;display:flex;align-items:center;justify-content:center;background-color:",";color:",";font-size:11px;font-weight:bold;border:",";box-sizing:border-box;"],l=>l.$active?l.$textColor||"#1890ff":l.$bgColor||"#f0f0f0",l=>l.$active?"#fff":l.$textColor||"#000",l=>l.$active?"1px solid #fff":"none"),gt=i.Ay.div.withConfig({componentId:"sc-a58of4-20"})(["display:flex;gap:5px;margin-left:5px;border-left:1px solid #ccc;padding-left:5px;"]),ft=(0,i.Ay)(lt).withConfig({componentId:"sc-a58of4-21"})(["background-color:#e6f7ff;color:#1890ff;&:hover{background-color:#bae7ff;}"]),mt=(0,i.Ay)(lt).withConfig({componentId:"sc-a58of4-22"})(["background-color:#fff1f0;color:#f5222d;&:hover{background-color:#ffccc7;}"]),At=i.Ay.span.withConfig({componentId:"sc-a58of4-23"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]),bt=i.Ay.div.withConfig({componentId:"sc-bz40mz-0"})(["width:60px;height:100%;background-color:#222;display:flex;flex-direction:column;align-items:center;padding-top:10px;z-index:1001;border-right:1px solid #000;flex-shrink:0;overflow-y:auto;&::-webkit-scrollbar{width:0px;background:transparent;}-ms-overflow-style:none;scrollbar-width:none;"]),xt=i.Ay.button.withConfig({componentId:"sc-bz40mz-1"})(["width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;background-color:",";color:#fff;border:1px solid ",";border-radius:4px;margin-bottom:10px;font-size:20px;transition:all 0.2s ease;box-shadow:0 2px 4px rgba(0,0,0,0.2);transform:",";padding:0;outline:none;&:hover{background-color:",";transform:scale(1.05);}&:active{transform:scale(0.95);border:solid 1px #fff;}"],l=>l.$active?"#e3de0a":"#333",l=>l.$active?"#1E88E5":"#fff",l=>l.$active?"scale(1.05)":"none",l=>l.$active?"#fdfa9b":"#444"),_t=i.Ay.div.withConfig({componentId:"sc-bz40mz-2"})(["position:absolute;left:60px;top:60px;width:320px;height:calc(100% - 60px);background-color:#fff;border-right:1px solid #ddd;display:flex;flex-direction:column;z-index:990;box-shadow:4px 0 10px rgba(0,0,0,0.2);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1),opacity 0.3s ease;transform:",";opacity:",";pointer-events:",";"],l=>l.$isOpen?"translateX(0)":"translateX(-110%)",l=>l.$isOpen?"1":"0",l=>l.$isOpen?"all":"none"),wt=i.Ay.div.withConfig({componentId:"sc-bz40mz-3"})(["padding:8px 15px;background-color:#f0f0f0;border-bottom:1px solid #ddd;display:flex;justify-content:space-between;align-items:center;font-weight:bold;font-size:12px;height:32px;box-sizing:border-box;color:#333;span{text-transform:uppercase;letter-spacing:0.5px;}"]),yt=i.Ay.div.withConfig({componentId:"sc-bz40mz-4"})(["flex:1;overflow-y:auto;padding:15px;"]),kt=i.Ay.button.withConfig({componentId:"sc-bz40mz-5"})(["border:none;background:none;cursor:pointer;font-size:16px;padding:0 5px;color:#666;display:flex;align-items:center;justify-content:center;outline:none;&:hover{color:#333;}"]),vt=i.Ay.button.withConfig({componentId:"sc-bz40mz-6"})(["display:inline-flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid #333;padding:0 10px;height:40px;width:100%;background-color:#f0f0f0;font-size:13px;color:",";border-radius:3px;user-select:none;box-sizing:border-box;transition:all 0.2s ease;gap:8px;outline:none;&:hover{background-color:#e0e0e0;border-color:#000;}&:active{transform:scale(0.98);}"],l=>l.$danger?"#d32f2f":"#000"),Mt=i.Ay.label.withConfig({componentId:"sc-bz40mz-7"})(["display:inline-flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid #333;padding:0 10px;height:40px;width:100%;background-color:#f0f0f0;font-size:13px;color:#000;border-radius:3px;user-select:none;box-sizing:border-box;transition:all 0.2s ease;gap:8px;&:hover{background-color:#e0e0e0;border-color:#000;}&:active{transform:scale(0.98);}"]),St=({isOpen:l,tempMapName:e,setTempMapName:n,tempCreatorName:t,setTempCreatorName:a,tempMapDescription:u,setTempMapDescription:r,confirmNewMap:i,onClose:o})=>l?(0,Nl.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Nl.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0,0,0,0.2)",width:"320px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Nl.jsxs)("div",{style:{padding:"12px 15px",borderBottom:"2px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Nl.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#333"},children:"Create New Map"}),(0,Nl.jsx)(kt,{onClick:o,children:"\u2715"})]}),(0,Nl.jsxs)("div",{style:{padding:"20px",display:"flex",flexDirection:"column",gap:"15px"},children:[(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"6px",color:"#666"},children:"Map Name:"}),(0,Nl.jsx)("input",{type:"text",value:e,onChange:l=>n(l.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",boxSizing:"border-box"}})]}),(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"6px",color:"#666"},children:"Creator Nickname:"}),(0,Nl.jsx)("input",{type:"text",value:t,onChange:l=>a(l.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",boxSizing:"border-box"}})]}),(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"6px",color:"#666"},children:"Description:"}),(0,Nl.jsx)("textarea",{value:u,onChange:l=>r(l.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",boxSizing:"border-box",minHeight:"60px",resize:"vertical"}})]}),(0,Nl.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"10px"},children:[(0,Nl.jsx)(lt,{onClick:o,$variant:"secondary",$small:!0,children:"Cancel"}),(0,Nl.jsx)(lt,{onClick:()=>i(e,t,u),$variant:"play",$small:!0,children:"Create"})]})]})]})}):null,Ct=i.Ay.div.withConfig({componentId:"sc-1oucwh1-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.6);z-index:3000;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(2px);"]),It=i.Ay.div.withConfig({componentId:"sc-1oucwh1-1"})(["background-color:#fff;padding:20px;border-radius:8px;width:900px;max-width:95%;max-height:85%;overflow-y:auto;box-shadow:0 10px 25px rgba(0,0,0,0.5);display:flex;flex-direction:column;gap:15px;"]),Et=i.Ay.div.withConfig({componentId:"sc-1oucwh1-2"})(["display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #eee;padding-bottom:10px;"]),jt=i.Ay.h2.withConfig({componentId:"sc-1oucwh1-3"})(["margin:0;font-size:24px;color:#333;"]),Rt=i.Ay.div.withConfig({componentId:"sc-1oucwh1-4"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:15px;padding:5px;"]),Bt=i.Ay.div.withConfig({componentId:"sc-1oucwh1-5"})(["border:1px solid #ddd;border-radius:8px;padding:15px;cursor:pointer;background-color:#f9f9f9;display:flex;flex-direction:column;gap:10px;transition:all 0.2s ease;&:hover{background-color:#f0f7ff;border-color:#2196f3;transform:translateY(-3px);box-shadow:0 5px 15px rgba(0,0,0,0.1);}"]),Dt=i.Ay.div.withConfig({componentId:"sc-1oucwh1-6"})(["font-weight:bold;font-size:16px;color:#333;"]),Nt=i.Ay.div.withConfig({componentId:"sc-1oucwh1-7"})(["font-size:12px;color:#666;"]),Tt=i.Ay.div.withConfig({componentId:"sc-1oucwh1-8"})(["font-size:11px;color:#777;font-style:italic;line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;min-height:45px;"]),Ot=i.Ay.div.withConfig({componentId:"sc-1oucwh1-9"})(["margin-top:auto;padding-top:8px;border-top:1px solid #eee;font-size:11px;color:#555;display:flex;justify-content:space-between;"]),zt=({isOpen:l,onClose:e,onSelect:n})=>l?(0,Nl.jsx)(Ct,{onClick:e,children:(0,Nl.jsxs)(It,{onClick:l=>l.stopPropagation(),children:[(0,Nl.jsxs)(Et,{children:[(0,Nl.jsx)(jt,{children:"Select a Built-in Map to Edit"}),(0,Nl.jsx)(kt,{onClick:e,children:"\u2715"})]}),(0,Nl.jsx)(Rt,{children:xn.map((l,t)=>{const a="2.0"===l.meta?.version,u=l.meta?.projectName||l.meta?.name||"Unnamed Map",r=l.meta?.author||"Unknown",i=l.meta?.description||"";let o="",s="";if(a&&l.maps){const e=l.maps[l.meta?.activeMapId||"main"]||Object.values(l.maps)[0];e&&(o=`${e.width}x${e.height}`);const n=Object.values(l.maps);s=` (O:${n.filter(l=>"overworld"===l.type).length}, U:${n.filter(l=>"underworld"===l.type).length})`}else o=`${l.meta?.width||l.width||0}x${l.meta?.height||l.height||0}`;return(0,Nl.jsxs)(Bt,{onClick:()=>{n(l),e()},children:[(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)(Dt,{children:u}),(0,Nl.jsxs)(Nt,{children:["By: ",r]})]}),i&&(0,Nl.jsx)(Tt,{title:i,children:i}),(0,Nl.jsx)(Ot,{children:(0,Nl.jsxs)("div",{children:["Size: ",o,s]})})]},t)})})]})}):null,Qt=({title:l,children:e,defaultPosition:n={x:20,y:20},defaultWidth:a=280,isOpenDefault:u=!0,onHeightChange:r})=>{const[i]=(0,t.useState)(n),[o,s]=(0,t.useState)(!1),[c,d]=(0,t.useState)({x:0,y:0}),[h,p]=(0,t.useState)(n),[g,f]=(0,t.useState)(!u),[m,A]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),_=(0,t.useRef)(null);(0,t.useEffect)(()=>{b||p(n)},[n,b]);const w=(0,t.useRef)(0);(0,t.useEffect)(()=>{if(_.current&&r){const l=_.current.offsetHeight;l!==w.current&&(w.current=l,r(l))}}),(0,t.useEffect)(()=>{if(o){const l=l=>{p({x:l.clientX-c.x,y:l.clientY-c.y})},e=()=>{s(!1)};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",e),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)}}},[o,c]);return m?null:(0,Nl.jsxs)("div",{ref:_,style:{position:"fixed",left:h.x,top:h.y,width:a,backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1002,display:"flex",flexDirection:"column",maxHeight:"80vh",overflow:"hidden"},children:[(0,Nl.jsxs)("div",{onMouseDown:l=>{if(_.current){const e=_.current.getBoundingClientRect();d({x:l.clientX-e.left,y:l.clientY-e.top}),s(!0),x(!0)}},style:{padding:"12px 15px",backgroundColor:"#fff",cursor:o?"grabbing":"grab",fontWeight:"bold",fontSize:"18px",display:"flex",justifyContent:"space-between",alignItems:"center",userSelect:"none",borderBottom:"2px solid #eee",color:"#333"},children:[(0,Nl.jsx)("span",{children:l}),(0,Nl.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Nl.jsx)("button",{onClick:l=>{l.stopPropagation(),f(!g)},style:{background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px",width:"24px",height:"24px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,color:"#333"},title:g?"Maximize":"Minimize",children:g?"\u25a1":"\u2212"}),(0,Nl.jsx)("button",{onClick:l=>{l.stopPropagation(),A(!0)},style:{background:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px",width:"24px",height:"24px",cursor:"pointer",color:"#333",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},title:"Close",children:"\u2715"})]})]}),!g&&(0,Nl.jsx)("div",{style:{padding:"15px",overflowY:"auto",flex:1},children:e})]})},Pt=({mapWidth:l,mapHeight:e,onResize:n})=>{const a=(0,t.useRef)(null),[u,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)({width:l,height:e}),[s,c]=(0,t.useState)({x:0,y:0}),d=10*l,h=10*e;return(0,t.useEffect)(()=>{if(!u)return;const t=t=>{const a=t.clientX-s.x,u=t.clientY-s.y,r=Math.round(a/10),o=Math.round(u/10),c=Math.max(5,Math.min(100,i.width+r)),d=Math.max(5,Math.min(100,i.height+o));c===l&&d===e||n(c,d)},a=()=>{r(!1)};return document.addEventListener("mousemove",t),document.addEventListener("mouseup",a),()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",a)}},[u,s,i,l,e,n]),(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,Nl.jsxs)("div",{style:{fontSize:"14px",fontWeight:"bold",textAlign:"center"},children:["Map Size: ",(0,Nl.jsxs)("span",{style:{color:"#4CAF50"},children:[l," \xd7 ",e]})," blocks"]}),(0,Nl.jsxs)("div",{ref:a,style:{position:"relative",width:d+"px",height:h+"px",border:"2px solid #4CAF50",backgroundColor:"#e8f5e9",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#2e7d32",fontWeight:"bold",userSelect:"none",minWidth:"50px",minHeight:"50px"},children:[l," \xd7 ",e,(0,Nl.jsx)("div",{onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),r(!0),o({width:l,height:e}),c({x:n.clientX,y:n.clientY})},style:{position:"absolute",bottom:-5,right:-5,width:"15px",height:"15px",backgroundColor:"#4CAF50",cursor:"nwse-resize",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",zIndex:10}})]}),(0,Nl.jsxs)("div",{style:{fontSize:"11px",color:"#666",textAlign:"center"},children:["\ud83d\udca1 Drag the corner to resize the map",(0,Nl.jsx)("br",{}),"(Min: 5\xd75, Max: 100\xd7100)"]})]})},Gt=({mapWidth:l,mapHeight:e,tileMapData:n,objectMapData:a,objectMetadata:u,registryItems:r,backgroundColor:i})=>{const o=(0,t.useRef)(null),s=250,c=200;return(0,t.useEffect)(()=>{const t=o.current;if(!t)return;const d=t.getContext("2d"),h=s/l,p=c/e;d.fillStyle=i||"#87CEEB",d.fillRect(0,0,s,c);for(let u=0;u<e;u++)for(let e=0;e<l;e++){const t=u*l+e,i=n[t],o=a[t],s=e*h,c=u*p;if(null!==i){const l=r.find(l=>l.id===i);l&&(l.flags?.liquid?l.flags.lava_waterfall?d.fillStyle="#ffcc00":l.flags.radioactive_waterfall?d.fillStyle="#32cd32":l.flags.waterfall||l.flags.water?d.fillStyle="#3a7fb8":l.flags.lava?d.fillStyle="#ffcc00":l.flags.quicksand?d.fillStyle="#a6915b":l.flags.radioactive_water?d.fillStyle="#32cd32":d.fillStyle="#888":d.fillStyle="#654321",d.fillRect(s,c,Math.ceil(h),Math.ceil(p)))}if(null!==o){const l=r.find(l=>l.id===o);l&&(l.name?.startsWith("entities.")?d.fillStyle="#ff0000":l.name?.startsWith("item.")?d.fillStyle="#00ff00":l.name?.startsWith("interactable.")?d.fillStyle="#ff00ff":"hazard"===l.type?d.fillStyle="#ff8800":d.fillStyle="#ffff00",d.fillRect(s,c,Math.ceil(h),Math.ceil(p)))}}d.strokeStyle="rgba(255, 255, 255, 0.2)",d.lineWidth=.5;for(let e=0;e<=l;e++)d.beginPath(),d.moveTo(e*h,0),d.lineTo(e*h,c),d.stroke();for(let l=0;l<=e;l++)d.beginPath(),d.moveTo(0,l*p),d.lineTo(s,l*p),d.stroke();if(u){const n=[],t=[];for(let r=0;r<l*e;r++){const e=a[r];if(!e)continue;const i=u[r];if(!i||null===i.triggerId||void 0===i.triggerId)continue;const o={x:r%l*h+h/2,y:Math.floor(r/l)*p+p/2};e.includes("portal")&&!e.includes("target")?n.push({triggerId:i.triggerId,pos:o}):(e.includes("target")||"portal_target"===e)&&t.push({triggerId:i.triggerId,pos:o})}n.forEach(l=>{const e=t.find(e=>e.triggerId===l.triggerId);e&&(d.beginPath(),d.setLineDash([5,3]),d.strokeStyle="#fff",d.lineWidth=2,d.moveTo(l.pos.x,l.pos.y),d.lineTo(e.pos.x,e.pos.y),d.stroke(),d.setLineDash([]))})}},[l,e,n,a,u,r]),(0,Nl.jsx)("canvas",{ref:o,width:s,height:c,style:{width:"100%",height:"auto",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#87CEEB",imageRendering:"pixelated"}})},Wt=({maps:l,activeMapId:e,switchMap:n,registryItems:a,currentMapData:u,createMap:r,deleteMap:i,updateMapData:o})=>{const s=(0,t.useRef)(null),c=(0,t.useRef)(null),d=(0,t.useRef)({}),h=(0,t.useRef)(null),p=(0,t.useMemo)(()=>{const e={...l};return u&&u.id&&e[u.id]&&(e[u.id]={...e[u.id],mapWidth:u.mapWidth,mapHeight:u.mapHeight,tileMapData:u.tileMapData,objectMapData:u.objectMapData,objectMetadata:u.objectMetadata,selectedBackgroundColor:u.selectedBackgroundColor}),Object.values(e)},[l,u]),g=(0,t.useCallback)(()=>{const l=s.current;if(!l)return;const n=l.getContext("2d"),t=d.current;p.forEach(l=>{const e=h.current&&h.current.id===l.id,n=4*l.mapWidth,a=4*l.mapHeight;t[l.id]?(t[l.id].w=n,t[l.id].h=a,t[l.id].map=l,e||(t[l.id].x=l.worldX||0,t[l.id].y=l.worldY||0)):t[l.id]={x:l.worldX||0,y:l.worldY||0,w:n,h:a,map:l}}),n.fillStyle="#222",n.fillRect(0,0,l.width,l.height),n.strokeStyle="#333",n.lineWidth=1;for(let e=0;e<l.width;e+=50)n.beginPath(),n.moveTo(e,0),n.lineTo(e,l.height),n.stroke();for(let e=0;e<l.height;e+=50)n.beginPath(),n.moveTo(0,e),n.lineTo(l.width,e),n.stroke();Object.values(t).forEach(l=>{const{x:t,y:a,w:u,h:r,map:i}=l,o=u/i.mapWidth,s=r/i.mapHeight;n.fillStyle=i.selectedBackgroundColor||"#87CEEB",n.fillRect(t,a,u,r),i.id===e?(n.strokeStyle="#e3de0a",n.lineWidth=3,n.strokeRect(t-4,a-4,u+8,r+8)):(n.strokeStyle="#555",n.lineWidth=1,n.strokeRect(t,a,u,r)),n.fillStyle="#fff",n.font="bold 12px Arial",n.fillText(i.name,t,a-10),n.font="10px Arial",n.fillStyle="#aaa",n.fillText(i.type,t,a+r+12),"main"!==i.id&&(n.fillStyle="#ff4d4f",n.fillRect(t+u-15,a-25,15,15),n.fillStyle="#fff",n.font="bold 12px Arial",n.fillText("\xd7",t+u-11,a-13));for(let e=0;e<i.mapWidth*i.mapHeight;e++){const l=e%i.mapWidth*o+t,u=Math.floor(e/i.mapWidth)*s+a,r=i.tileMapData[e],c=i.objectMapData[e];r&&(n.fillStyle="#654321",n.fillRect(l,u,Math.ceil(o),Math.ceil(s))),c&&(c.includes("portal")&&!c.includes("target")?n.fillStyle="#007bff":c.includes("target")||"portal_target"===c?n.fillStyle="#ffc107":n.fillStyle="#dc3545",n.fillRect(l,u,Math.ceil(o),Math.ceil(s)))}}),n.setLineDash([5,5]),n.lineWidth=2,Object.values(t).forEach(l=>{const{map:e,x:a,y:u,w:r,h:i}=l,o=r/e.mapWidth,s=i/e.mapHeight,c=e.objectMetadata||{};for(let d=0;d<e.mapWidth*e.mapHeight;d++){const l=e.objectMapData[d];if(!l||!l.includes("portal")||l.includes("target"))continue;const r=c[d];if(!r||null===r.triggerId||void 0===r.triggerId)continue;const i=r.targetMapId||e.id,h=t[i];if(h){const{map:l,x:t,y:i,w:c,h:p}=h,g=c/l.mapWidth,f=p/l.mapHeight;for(let h=0;h<l.mapWidth*l.mapHeight;h++){const c=l.objectMapData[h];if(!c||!c.includes("target")&&"portal_target"!==c)continue;const p=l.objectMetadata?.[h];if(p&&p.triggerId===r.triggerId){const r=a+d%e.mapWidth*o+o/2,c=u+Math.floor(d/e.mapWidth)*s+s/2,p=t+h%l.mapWidth*g+g/2,m=i+Math.floor(h/l.mapWidth)*f+f/2;if(n.beginPath(),n.strokeStyle=e.id===l.id?"#fff":"#00ff00",n.moveTo(r,c),e.id!==l.id){const l=r+.25*(p-r),e=Math.min(c,m)-100,t=r+.75*(p-r),a=Math.min(c,m)-100;n.bezierCurveTo(l,e,t,a,p,m)}else n.lineTo(p,m);n.stroke();const A=Math.atan2(m-c,p-r);n.save(),n.setLineDash([]),n.translate(p,m),n.rotate(A),n.beginPath(),n.moveTo(0,0),n.lineTo(-10,-5),n.lineTo(-10,5),n.closePath(),n.fillStyle=n.strokeStyle,n.fill(),n.restore();break}}}}})},[p,e]);(0,t.useEffect)(()=>{g()},[p,e]);const f=l=>{if(!h.current)return;const e=d.current[h.current.id];e&&o(h.current.id,{worldX:e.x,worldY:e.y}),h.current=null};return(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",padding:"10px"},children:[(0,Nl.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Nl.jsx)("button",{onClick:()=>r("overworld"),style:{padding:"8px 15px",cursor:"pointer",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:"+ Overworld"}),(0,Nl.jsx)("button",{onClick:()=>r("underworld"),style:{padding:"8px 15px",cursor:"pointer",backgroundColor:"#5D4037",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},children:"+ Underworld"}),(0,Nl.jsx)("div",{style:{marginLeft:"auto",color:"#ccc",fontSize:"11px"},children:"Double-click map to select. Drag to move."})]}),(0,Nl.jsxs)("div",{ref:c,style:{width:"100%",height:"500px",backgroundColor:"#333",overflow:"auto",borderRadius:"4px",position:"relative",border:"1px solid #555"},children:[(0,Nl.jsx)("canvas",{ref:s,width:2e3,height:2e3,style:{display:"block",cursor:h.current?"grabbing":"grab"},onMouseDown:l=>{const e=s.current.getBoundingClientRect(),t=l.clientX-e.left,a=l.clientY-e.top,u=Object.values(d.current||{});for(const n of u)if("main"!==n.map.id){const l=n.x+n.w-15,e=n.y-25;if(t>=l&&t<=l+15&&a>=e&&a<=e+15)return void(window.confirm(`Delete map "${n.map.name}"?`)&&i(n.map.id))}for(const r of u)if(t>=r.x&&t<=r.x+r.w&&a>=r.y&&a<=r.y+r.h)return void(2===l.detail?n(r.map.id):h.current={id:r.map.id,startX:t,startY:a,mapStartX:r.x,mapStartY:r.y})},onMouseMove:l=>{if(!h.current)return;const e=s.current.getBoundingClientRect(),n=l.clientX-e.left,t=l.clientY-e.top,a=n-h.current.startX,u=t-h.current.startY,r=Math.max(0,h.current.mapStartX+a),i=Math.max(0,h.current.mapStartY+u);d.current[h.current.id]&&(d.current[h.current.id].x=r,d.current[h.current.id].y=i,g())},onMouseUp:f,onMouseLeave:f}),(0,Nl.jsxs)("div",{style:{position:"absolute",bottom:"10px",right:"10px",backgroundColor:"rgba(0,0,0,0.7)",color:"#fff",padding:"5px 10px",borderRadius:"4px",fontSize:"11px",pointerEvents:"none"},children:[(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,Nl.jsx)("div",{style:{width:10,height:10,backgroundColor:"#fff",border:"1px dashed #fff"}})," Intra-map teleport"]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,Nl.jsx)("div",{style:{width:10,height:10,backgroundColor:"#00ff00",border:"1px dashed #00ff00"}})," Inter-map teleport"]})]})]})]})},Ft=({backgroundOptions:l,selectedBackgroundImage:e,setSelectedBackgroundImage:n,selectedBackgroundColor:t,backgroundParallaxFactor:a,setBackgroundParallaxFactor:u})=>(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,Nl.jsxs)("section",{children:[(0,Nl.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold",display:"block",marginBottom:"12px"},children:"Background Image"}),(0,Nl.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:[(0,Nl.jsxs)("div",{onClick:()=>n(null),style:{border:e?"1px solid #ccc":"2px solid #2196F3",borderRadius:"6px",padding:"4px",cursor:"pointer",background:"#fff",boxShadow:e?"none":"0 0 8px rgba(33, 150, 243, 0.3)"},title:"Solid Color",children:[(0,Nl.jsx)("div",{style:{width:"100%",height:"60px",background:t,display:"block",borderRadius:"4px"}}),(0,Nl.jsx)("div",{style:{fontSize:"11px",textAlign:"center",paddingTop:"5px",fontWeight:e?"normal":"bold"},children:"Solid Color"})]}),l.map(l=>(0,Nl.jsxs)("div",{onClick:()=>n(l.metaPath),style:{border:e===l.metaPath?"2px solid #2196F3":"1px solid #ccc",borderRadius:"6px",padding:"4px",cursor:"pointer",background:"#fff",boxShadow:e===l.metaPath?"0 0 8px rgba(33, 150, 243, 0.3)":"none"},title:l.name,children:[(0,Nl.jsx)("img",{src:l.src,alt:l.name,style:{width:"100%",height:"60px",objectFit:"cover",display:"block",borderRadius:"4px"}}),(0,Nl.jsx)("div",{style:{fontSize:"11px",textAlign:"center",paddingTop:"5px",fontWeight:e===l.metaPath?"bold":"normal"},children:l.name})]},l.name))]})]}),(0,Nl.jsx)("section",{style:{backgroundColor:"#f9f9f9",padding:"15px",borderRadius:"8px",border:"1px solid #ddd"},children:(0,Nl.jsxs)("div",{style:{marginBottom:"0px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"13px",fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Parallax Effect:"}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Nl.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:a,onChange:l=>u(parseFloat(l.target.value)),style:{flex:1}}),(0,Nl.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold",minWidth:"35px"},children:a.toFixed(2)})]})]})})]}),Ut=({musicOptions:l,selectedBackgroundMusic:e,setSelectedBackgroundMusic:n})=>(0,Nl.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:(0,Nl.jsxs)("section",{children:[(0,Nl.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold",display:"block",marginBottom:"10px"},children:"Background Music"}),(0,Nl.jsxs)("select",{value:e||"",onChange:l=>n(l.target.value||null),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"13px",marginBottom:"10px"},children:[(0,Nl.jsx)("option",{value:"",children:"\u2014 No Music \u2014"}),l.map(l=>(0,Nl.jsx)("option",{value:l.metaPath,children:l.name},l.name))]}),(0,Nl.jsxs)("div",{style:{fontSize:"12px",color:"#666",fontStyle:"italic"},children:["Status: ",e?"Music selected":"Silence"]})]})}),Lt=({weatherRain:l,setWeatherRain:e,weatherSnow:n,setWeatherSnow:t,weatherClouds:a,setWeatherClouds:u,weatherFog:r,setWeatherFog:i,weatherThunder:o,setWeatherThunder:s,weatherLavaRain:c,setWeatherLavaRain:d,weatherRadioactiveFog:h,setWeatherRadioactiveFog:p,weatherMeteorRain:g,setWeatherMeteorRain:f})=>{const m=[{label:"Rain",value:l,setter:e,icon:"\ud83c\udf27\ufe0f"},{label:"Lava Rain",value:c,setter:d,icon:"\ud83d\udd25"},{label:"Snow",value:n,setter:t,icon:"\u2744\ufe0f"},{label:"Meteor Rain",value:g,setter:f,icon:"\u2604\ufe0f"},{label:"Clouds",value:a,setter:u,icon:"\u2601\ufe0f"},{label:"Fog",value:r,setter:i,icon:"\ud83c\udf2b\ufe0f"},{label:"Radio Fog",value:h,setter:p,icon:"\u2622\ufe0f"},{label:"Thunder",value:o,setter:s,icon:"\u26a1"}];return(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px",padding:"5px"},children:[m.map(l=>(0,Nl.jsxs)("div",{style:{backgroundColor:"#f9f9f9",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},children:[(0,Nl.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Nl.jsxs)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:[l.icon," ",l.label]}),(0,Nl.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#2196F3"},children:[l.value,"%"]})]}),(0,Nl.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:(0,Nl.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:l.value,onChange:e=>l.setter(parseInt(e.target.value)),style:{flex:1,cursor:"pointer"}})})]},l.label)),(0,Nl.jsx)("div",{style:{fontSize:"11px",color:"#888",fontStyle:"italic",textAlign:"center",marginTop:"5px"},children:"Weather effects will be visible in Play mode"})]})},Vt=i.Ay.button.withConfig({componentId:"sc-1y7xadr-0"})(["width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;background-color:",";color:#fff;border:1px solid ",";border-radius:4px;margin-bottom:10px;font-size:20px;transition:all 0.2s ease;box-shadow:0 2px 4px rgba(0,0,0,0.2);transform:",";padding:0;outline:none;&:hover{background-color:",";transform:scale(1.05);}&:active{transform:scale(0.95);border:solid 1px #fff;}"],l=>l.$active?"#e3de0a":"#333",l=>l.$active?"#1E88E5":"#fff",l=>l.$active?"scale(1.05)":"none",l=>l.$active?"#fdfa9b":"#444"),Yt=i.Ay.div.withConfig({componentId:"sc-1y7xadr-1"})(["position:absolute;top:70px;right:20px;display:flex;flex-direction:column;gap:10px;z-index:1001;"]),Ht=({handleMapResize:l,isResizeWindowOpen:e,setIsResizeWindowOpen:n,mapWidth:a,mapHeight:u,tileMapData:r,objectMapData:i,objectMetadata:o,registryItems:s,backgroundOptions:c,selectedBackgroundImage:d,setSelectedBackgroundImage:h,selectedBackgroundColor:p,setSelectedBackgroundColor:g,backgroundParallaxFactor:f,setBackgroundParallaxFactor:m,musicOptions:A,selectedBackgroundMusic:b,setSelectedBackgroundMusic:x,weatherRain:_,setWeatherRain:w,weatherSnow:y,setWeatherSnow:k,weatherClouds:v,setWeatherClouds:M,weatherFog:S,setWeatherFog:C,weatherThunder:I,setWeatherThunder:E,weatherLavaRain:j,setWeatherLavaRain:R,weatherRadioactiveFog:B,setWeatherRadioactiveFog:D,weatherMeteorRain:N,setWeatherMeteorRain:T,maps:O,activeMapId:z,switchMap:Q,createMap:P,deleteMap:G,updateMapData:W})=>{const[F,U]=(0,t.useState)(!1),[L,V]=(0,t.useState)(!1),[Y,H]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!1),[q,X]=(0,t.useState)(!1);return(0,Nl.jsxs)("div",{style:{display:"contents"},children:[(0,Nl.jsx)(bn,{metaPath:b,enabled:!0,volume:.4}),(0,Nl.jsxs)(Yt,{children:[(0,Nl.jsx)(Vt,{onClick:()=>U(!F),$active:F,title:"Maps & Minimap",children:"\ud83d\uddfa\ufe0f"}),(0,Nl.jsx)(Vt,{onClick:()=>V(!L),$active:L,title:"Project World View",children:"\ud83c\udf10"}),(0,Nl.jsx)(Vt,{onClick:()=>K(!J),$active:J,title:"Background",children:"\ud83d\uddbc\ufe0f"}),(0,Nl.jsx)(Vt,{onClick:()=>X(!q),$active:q,title:"Music",children:(0,Nl.jsx)("span",{style:{color:"#fff"},children:"\ud834\udd1e"})}),(0,Nl.jsx)(Vt,{onClick:()=>H(!Y),$active:Y,title:"Settings",children:"\ud83d\udee0\ufe0f"}),(0,Nl.jsx)(Vt,{onClick:()=>n(!e),$active:e,title:"Resize Map",children:"\ud83d\udcd0"})]}),F&&(0,Nl.jsx)(Qt,{title:"Active Map Minimap",defaultPosition:{x:window.innerWidth-340,y:80},defaultWidth:300,isOpenDefault:!0,onClose:()=>U(!1),children:(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",padding:"5px"},children:[(0,Nl.jsx)(Gt,{mapWidth:a,mapHeight:u,tileMapData:r,objectMapData:i,objectMetadata:o,registryItems:s,backgroundColor:p}),(0,Nl.jsx)("div",{style:{fontSize:"12px",color:"#ccc",textAlign:"center"},children:O[z]?.name||"Current Map"})]})}),L&&(0,Nl.jsx)(Qt,{title:"Project World View",defaultPosition:{x:100,y:100},defaultWidth:800,isOpenDefault:!0,onClose:()=>V(!1),children:(0,Nl.jsx)(Wt,{maps:O,activeMapId:z,switchMap:Q,registryItems:s,createMap:P,deleteMap:G,updateMapData:W,currentMapData:{id:z,mapWidth:a,mapHeight:u,tileMapData:r,objectMapData:i,objectMetadata:o,selectedBackgroundColor:p}})}),J&&(0,Nl.jsx)(Qt,{title:"Background",defaultPosition:{x:window.innerWidth-340,y:80},defaultWidth:320,isOpenDefault:!0,onClose:()=>K(!1),children:(0,Nl.jsx)(Ft,{backgroundOptions:c,selectedBackgroundImage:d,setSelectedBackgroundImage:h,selectedBackgroundColor:p,backgroundParallaxFactor:f,setBackgroundParallaxFactor:m})}),q&&(0,Nl.jsx)(Qt,{title:"Music",defaultPosition:{x:window.innerWidth-340,y:300},defaultWidth:320,isOpenDefault:!0,onClose:()=>X(!1),children:(0,Nl.jsx)(Ut,{musicOptions:A,selectedBackgroundMusic:b,setSelectedBackgroundMusic:x})}),Y&&(0,Nl.jsx)(Qt,{title:"Settings",defaultPosition:{x:window.innerWidth-340,y:400},defaultWidth:300,isOpenDefault:!0,onClose:()=>H(!1),children:(0,Nl.jsx)(Lt,{weatherRain:_,setWeatherRain:w,weatherSnow:y,setWeatherSnow:k,weatherClouds:v,setWeatherClouds:M,weatherFog:S,setWeatherFog:C,weatherThunder:I,setWeatherThunder:E,weatherLavaRain:j,setWeatherLavaRain:R,weatherRadioactiveFog:B,setWeatherRadioactiveFog:D,weatherMeteorRain:N,setWeatherMeteorRain:T})}),e&&(0,Nl.jsx)(Qt,{title:"Resize Map",defaultPosition:{x:400,y:100},defaultWidth:300,isOpenDefault:!0,onClose:()=>n(!1),children:(0,Nl.jsx)(Pt,{mapWidth:a,mapHeight:u,onResize:l})})]})},Jt=({openNewMapModal:l,saveMap:e,loadMap:n,openBuiltInModal:t,clearMap:a,mapName:u,creatorName:r,mapDescription:i,setMapName:o,setCreatorName:s,setMapDescription:c})=>{const d={width:"100%",border:"1px solid transparent",background:"transparent",padding:"4px 6px",fontSize:"13px",fontWeight:"bold",outline:"none",borderRadius:"4px",boxSizing:"border-box",transition:"all 0.2s ease",cursor:"pointer"},h=l=>{l.target.style.borderColor="#2196F3",l.target.style.backgroundColor="#fff",l.target.style.cursor="text"},p=l=>{l.target.style.borderColor="transparent",l.target.style.backgroundColor="transparent",l.target.style.cursor="pointer"};return(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,Nl.jsx)("div",{style:{padding:"15px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #ddd",display:"flex",flexDirection:"column",gap:"10px"},children:(0,Nl.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[(0,Nl.jsxs)(vt,{onClick:l,title:"New Map",children:[(0,Nl.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcc4"}),(0,Nl.jsx)("span",{children:"New"})]}),(0,Nl.jsxs)(vt,{onClick:e,title:"Save Map",children:[(0,Nl.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcbe"}),(0,Nl.jsx)("span",{children:"Save"})]}),(0,Nl.jsxs)(Mt,{title:"Load Map",children:[(0,Nl.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udcc2"}),(0,Nl.jsx)("span",{children:"Load"}),(0,Nl.jsx)("input",{type:"file",accept:".json,.txt",onChange:n,style:{display:"none"}})]}),(0,Nl.jsxs)(vt,{onClick:t,title:"Built-in Maps",children:[(0,Nl.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udce6"}),(0,Nl.jsx)("span",{children:"Built-in"})]}),(0,Nl.jsxs)(vt,{onClick:a,$danger:!0,title:"Clear Map",children:[(0,Nl.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\uddd1\ufe0f"}),(0,Nl.jsx)("span",{children:"Clear"})]})]})}),(0,Nl.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #ddd",display:"flex",flexDirection:"column",gap:"10px"},children:[(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("label",{style:{fontSize:"10px",color:"#888",fontWeight:"bold",marginLeft:"6px",marginBottom:"2px",display:"block"},children:"MAP NAME"}),(0,Nl.jsx)("input",{value:u,onChange:l=>o(l.target.value),style:d,onFocus:h,onBlur:p,title:"Click to edit map name"})]}),(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("label",{style:{fontSize:"10px",color:"#888",fontWeight:"bold",marginLeft:"6px",marginBottom:"2px",display:"block"},children:"AUTHOR"}),(0,Nl.jsx)("input",{value:r,onChange:l=>s(l.target.value),style:d,onFocus:h,onBlur:p,title:"Click to edit author"})]}),(0,Nl.jsxs)("div",{children:[(0,Nl.jsx)("label",{style:{fontSize:"10px",color:"#888",fontWeight:"bold",marginLeft:"6px",marginBottom:"2px",display:"block"},children:"DESCRIPTION"}),(0,Nl.jsx)("textarea",{value:i,onChange:l=>c(l.target.value),style:{...d,fontWeight:"normal",minHeight:"60px",resize:"vertical"},onFocus:h,onBlur:p,title:"Click to edit description"})]})]})]})},Kt=({title:l,children:e,isOpenDefault:n=!1})=>{const[a,u]=(0,t.useState)(n);return(0,Nl.jsxs)("div",{style:{marginBottom:"5px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff"},children:[(0,Nl.jsxs)("div",{onClick:()=>u(!a),style:{padding:"8px",cursor:"pointer",backgroundColor:"#f0f0f0",fontWeight:"bold",fontSize:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",userSelect:"none"},children:[(0,Nl.jsx)("span",{children:l}),(0,Nl.jsx)("span",{children:a?"\u25bc":"\u25b6"})]}),a&&(0,Nl.jsx)("div",{style:{padding:"8px",maxHeight:"200px",overflowY:"auto"},children:e})]})},qt=({isPlayMode:l,category:e,blocks:n,liquids:t,entities:a,decorations:u,items:r,interactables:i,hazards:o,secrets:s,weather:c,messages:d,alternativeSecrets:h,obstacles:p,handlePaletteSelect:g,selectedTile:f})=>{const m=(l,e,n)=>{const t=!!(l.texture||Array.isArray(l.textures)&&l.textures.length>0),a=l.editorIcon,u=!(!l.flags||!l.flags.liquid),r=!(!l.flags||!l.flags.water),i=!(!l.flags||!l.flags.lava),o=!(!l.flags||!l.flags.quicksand),s=!(!l.flags||!l.flags.waterfall),c=!(!l.flags||!l.flags.lava_waterfall),d=!(!l.flags||!l.flags.radioactive),h=!(!l.flags||!l.flags.radioactive_waterfall),p="secret"===l.type,m="weather_trigger"===l.type,A="message_trigger"===l.type,b=c||i?{background:"linear-gradient(180deg,#ffcc00,#ffff00)"}:r||s?{background:"linear-gradient(180deg,#3a7fb8,#5ba3d9)"}:o?{background:"linear-gradient(180deg,#a6915b,#7d6d42)"}:d||h?{background:"linear-gradient(180deg,#1a5c1a,#32cd32)"}:{background:"#eee"};return(0,Nl.jsx)("div",{onClick:()=>g(l,n),title:l.displayName||l.name,style:{border:f?.id===l.id?`2px solid ${e}`:"1px solid #ccc",cursor:"pointer",padding:"2px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",position:"relative"},children:p?(0,Nl.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",background:l.filterColorInEditor||l.filterColor||"rgba(0, 0, 0, 0.5)",color:"#fff",fontSize:8,textAlign:"center",lineHeight:1.1,fontWeight:"bold"},children:l.editorIcon||("above"===l.subtype?"ABOVE":"BELOW")}):m||A?(0,Nl.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",background:A?"#fff9c4":"#f0f4f8",border:A?"1px solid #fbc02d":"1px solid #d1d9e6",color:"#333",fontSize:"18px"},children:l.editorIcon}):a?(0,Nl.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:a}):t?(0,Nl.jsx)(Vn,{textures:l.textures,texture:l.texture,speed:l.animationSpeed,spriteSheet:l.spriteSheet,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},alt:l.name}):(0,Nl.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:10,textAlign:"center",lineHeight:1.1,...b},children:u?c?"L.FALL":i?"LAVA":h?"RADFALL":d?"RAD":r?"WATER":s?"FALL":o?"QUICK":"LIQ":l.name||"\u2014"})},l.id)};return l?(0,Nl.jsx)("div",{style:{padding:"20px",fontSize:"14px",color:"#666",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px"},children:"Palette disabled during Play mode"}):(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:["blocks"===e&&(0,Nl.jsx)(Kt,{title:"Blocks (Background)",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:n.map(l=>m(l,"blue","tile"))})}),"liquids"===e&&(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,Nl.jsx)(Kt,{title:"Liquids (Blocks)",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:t.filter(l=>!l.flags?.radioactive).map(l=>m(l,"blue","tile"))})}),(0,Nl.jsx)(Kt,{title:"Radioactive",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:t.filter(l=>l.flags?.radioactive).map(l=>m(l,"green","tile"))})})]}),"decorations"===e&&(0,Nl.jsx)(Kt,{title:"Decorations",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:u&&u.map(l=>m(l,"purple","object"))})}),"entities"===e&&(0,Nl.jsx)(Kt,{title:"Entities (Objects)",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:a.map(l=>m(l,"red","object"))})}),"items"===e&&(0,Nl.jsx)(Kt,{title:"Items (Objects)",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:r.map(l=>m(l,"green","object"))})}),"interactables"===e&&(0,Nl.jsx)(Kt,{title:"Interactables",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:i.map(l=>m(l,"purple","object"))})}),"hazards"===e&&(0,Nl.jsx)(Kt,{title:"Hazards",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:o.map(l=>m(l,"orange","object"))})}),"secrets"===e&&(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,Nl.jsx)(Kt,{title:"Open Area",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:s&&s.filter(l=>"open"===l.subtype).map(l=>m(l,"purple","secret"))})}),(0,Nl.jsx)(Kt,{title:"Secret Area",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:s&&s.filter(l=>"open"!==l.subtype).map(l=>m(l,"purple","secret"))})}),(0,Nl.jsx)(Kt,{title:"Weather Rain",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"rain"===l.weatherType).map(l=>m(l,"blue","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Snow",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"snow"===l.weatherType).map(l=>m(l,"blue","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Clouds",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"clouds"===l.weatherType).map(l=>m(l,"blue","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Fog",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"fog"===l.weatherType).map(l=>m(l,"blue","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Thunder",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"thunder"===l.weatherType).map(l=>m(l,"blue","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Lava Rain",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"lavaRain"===l.weatherType).map(l=>m(l,"red","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Radio Fog",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"radioactiveFog"===l.weatherType).map(l=>m(l,"green","object"))})}),(0,Nl.jsx)(Kt,{title:"Weather Meteor Rain",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:c&&c.filter(l=>"meteorRain"===l.weatherType).map(l=>m(l,"orange","object"))})}),(0,Nl.jsx)(Kt,{title:"Messages",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:d&&d.map(l=>m(l,"gold","object"))})}),(0,Nl.jsx)(Kt,{title:"Alternative Secrets",isOpenDefault:!1,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:h&&h.map(l=>m(l,"purple","object"))})})]}),"obstacles"===e&&(0,Nl.jsx)(Kt,{title:"Obstacles",isOpenDefault:!0,children:(0,Nl.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:p&&p.length>0?p.map(l=>m(l,"brown","object")):(0,Nl.jsx)("div",{style:{padding:"10px",fontSize:"12px",color:"#999",fontStyle:"italic"},children:"No obstacles available yet"})})})]})},Xt=({totalTiles:l,mapWidth:e,mapHeight:n,filledBlocks:t,objectsCount:a,emptyBlocks:u})=>(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Nl.jsxs)("div",{style:{padding:"15px",backgroundColor:"#e6f7ff",borderRadius:"8px",border:"1px solid #91d5ff"},children:[(0,Nl.jsxs)("div",{style:{fontSize:"14px",marginBottom:"8px"},children:["Total Map Area: ",(0,Nl.jsx)("strong",{children:l})," tiles"]}),(0,Nl.jsxs)("div",{style:{fontSize:"13px",color:"#0050b3"},children:["Dimensions: ",e," x ",n]})]}),(0,Nl.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,Nl.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f6ffed",borderRadius:"8px",border:"1px solid #b7eb8f",textAlign:"center"},children:[(0,Nl.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#389e0d"},children:t}),(0,Nl.jsx)("div",{style:{fontSize:"11px",color:"#555"},children:"FILLED BLOCKS"})]}),(0,Nl.jsxs)("div",{style:{padding:"12px",backgroundColor:"#fff7e6",borderRadius:"8px",border:"1px solid #ffd591",textAlign:"center"},children:[(0,Nl.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#d46b08"},children:a}),(0,Nl.jsx)("div",{style:{fontSize:"11px",color:"#555"},children:"OBJECTS"})]})]}),(0,Nl.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #ddd",textAlign:"center"},children:[(0,Nl.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#666"},children:u}),(0,Nl.jsx)("div",{style:{fontSize:"11px",color:"#555"},children:"EMPTY SPACE"})]})]}),Zt=({objectMapData:l,registryItems:e,mapWidth:n,objectMetadata:a,highlightedIndex:u,setHighlightedIndex:r,setObjectMetadata:i,maps:o})=>{const s=Object.values(o||{}),c=t.useRef(null);return t.useEffect(()=>{if(null!==u&&c.current){const l=c.current.querySelector(`[data-index="${u}"]`);l&&l.scrollIntoView({behavior:"smooth",block:"center"})}},[u]),(0,Nl.jsxs)("div",{style:{padding:"0"},children:[(0,Nl.jsxs)("p",{style:{fontSize:"12px",color:"#666",lineHeight:"1.4"},children:["Configure triggers for Portals, Targets, Weather and Messages.",(0,Nl.jsx)("br",{}),(0,Nl.jsx)("strong",{children:"1."})," Place a ",(0,Nl.jsx)("strong",{children:"Portal"}),", ",(0,Nl.jsx)("strong",{children:"Target"}),", ",(0,Nl.jsx)("strong",{children:"Weather"})," or ",(0,Nl.jsx)("strong",{children:"Message Trigger"})," from the palette.",(0,Nl.jsx)("br",{}),(0,Nl.jsx)("strong",{children:"2."})," Configure ",(0,Nl.jsx)("strong",{children:"Trigger ID"})," for links, ",(0,Nl.jsx)("strong",{children:"Intensity"})," for weather or ",(0,Nl.jsx)("strong",{children:"Message Text"}),"."]}),(0,Nl.jsxs)("div",{ref:c,style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[l.map((l,t)=>{if(!l)return null;const o=e.find(e=>e.id===l),c=o&&"weather_trigger"===o.type,d=o&&"message_trigger"===o.type,h=l.includes("portal")||l.includes("target")||"portal_target"===l;if(!o||!h&&!c&&!d)return null;const p=t%n,g=Math.floor(t/n),f=a[t]||{},m=u===t;return(0,Nl.jsxs)("div",{"data-index":t,onMouseEnter:()=>r(t),onMouseLeave:()=>r(null),style:{padding:"10px",border:m?"1px solid gold":"1px solid #eee",display:"flex",flexDirection:"column",gap:"5px",backgroundColor:m?"#fffde7":"#f9f9f9",marginBottom:"5px",borderRadius:"4px",transition:"all 0.2s ease"},children:[(0,Nl.jsxs)("div",{style:{fontWeight:"bold",fontSize:"13px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Nl.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[c||d?o.editorIcon:l.includes("portal")&&!l.includes("target")?"\ud83d\udd35":"\ud83c\udfaf"," ",o.displayName||o.name]}),(0,Nl.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,Nl.jsxs)("span",{style:{color:"#666",fontSize:"11px"},children:["(",p,", ",g,")"]}),(0,Nl.jsx)("button",{onClick:()=>{const l=document.querySelector(".viewport");if(l){const e=32*p-l.clientWidth/2+16,n=32*g-l.clientHeight/2+16;l.scrollTo({left:e,top:n,behavior:"smooth"})}},style:{padding:"2px 6px",fontSize:"10px",cursor:"pointer",backgroundColor:"#eee",border:"1px solid #ccc",borderRadius:"3px"},title:"Scroll to this object",children:"Locate"})]})]}),!c&&!d&&(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold"},children:"Trigger ID:"}),(0,Nl.jsx)("input",{type:"number",value:f.triggerId||"",onChange:l=>{const e=parseInt(l.target.value);i(l=>({...l,[t]:{...l[t],triggerId:isNaN(e)?null:e}}))},style:{flex:1,padding:"4px 8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"13px",backgroundColor:m?"#fff":"#f0f0f0"},placeholder:"Enter ID (e.g. 1)"})]}),c&&o.hasIntensity&&(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold"},children:"Intensity (%):"}),(0,Nl.jsx)("input",{type:"number",min:"0",max:"100",value:void 0!==f.intensity?f.intensity:50,onChange:l=>{const e=parseInt(l.target.value);i(l=>({...l,[t]:{...l[t],intensity:isNaN(e)?0:Math.min(100,Math.max(0,e))}}))},style:{flex:1,padding:"4px 8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"13px",backgroundColor:m?"#fff":"#f0f0f0"}})]}),d&&(0,Nl.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold"},children:"Message Text:"}),(0,Nl.jsx)("textarea",{value:f.message||"",onChange:l=>{const e=l.target.value;i(l=>({...l,[t]:{...l[t],message:e}}))},rows:3,style:{width:"100%",padding:"6px 8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"13px",backgroundColor:m?"#fff":"#f0f0f0",resize:"vertical",fontFamily:"inherit"},placeholder:"Enter message to display..."})]}),l.includes("portal")&&!l.includes("target")&&(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold"},children:"Target Map:"}),(0,Nl.jsxs)("select",{value:f.targetMapId||"",onChange:l=>{const e=l.target.value;i(l=>({...l,[t]:{...l[t],targetMapId:""===e?null:e}}))},style:{flex:1,padding:"4px 8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"13px",backgroundColor:m?"#fff":"#f0f0f0"},children:[(0,Nl.jsx)("option",{value:"",children:"Current Map"}),s.map(l=>(0,Nl.jsx)("option",{value:l.id,children:l.name},l.id))]})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px",paddingTop:"5px",borderTop:"1px solid #eee"},children:[(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"11px",color:"#666"},children:"W:"}),(0,Nl.jsx)("input",{type:"number",min:"1",max:"50",value:f.width||1,onChange:l=>{const e=parseInt(l.target.value);i(l=>({...l,[t]:{...l[t],width:isNaN(e)?1:Math.max(1,e)}}))},style:{width:"40px",padding:"2px 4px",fontSize:"12px",border:"1px solid #ccc",borderRadius:"3px"}})]}),(0,Nl.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,Nl.jsx)("label",{style:{fontSize:"11px",color:"#666"},children:"H:"}),(0,Nl.jsx)("input",{type:"number",min:"1",max:"50",value:f.height||1,onChange:l=>{const e=parseInt(l.target.value);i(l=>({...l,[t]:{...l[t],height:isNaN(e)?1:Math.max(1,e)}}))},style:{width:"40px",padding:"2px 4px",fontSize:"12px",border:"1px solid #ccc",borderRadius:"3px"}})]}),(0,Nl.jsx)("span",{style:{fontSize:"10px",color:"#999"},children:"Drag handles on map to resize"})]})]},t)}),0===l.filter(l=>{if(!l)return!1;const n=e.find(e=>e.id===l),t=n&&"weather_trigger"===n.type,a=n&&"message_trigger"===n.type;return l.includes("portal")||l.includes("target")||"portal_target"===l||t||a}).length&&(0,Nl.jsx)("p",{style:{textAlign:"center",color:"#999",marginTop:"20px",fontSize:"14px"},children:"No configurable objects found on map."})]})]})},$t=({mapName:l,creatorName:e,mapDescription:n,setMapName:a,setCreatorName:u,setMapDescription:r,openNewMapModal:i,openBuiltInModal:o,saveMap:s,loadMap:c,clearMap:d,isPlayMode:h,handlePaletteSelect:p,selectedTile:g,blocks:f,liquids:m,entities:A,items:b,decorations:x,interactables:_,hazards:w,secrets:y,weather:k,messages:v,alternativeSecrets:M,obstacles:S,totalTiles:C,filledBlocks:I,emptyBlocks:E,objectsCount:j,mapWidth:R,mapHeight:B,objectMapData:D,objectMetadata:N,setObjectMetadata:T,registryItems:O,highlightedIndex:z,setHighlightedIndex:Q,activePanel:P,setActivePanel:G,togglePanel:W,maps:F})=>{const[U,L]=t.useState(null);t.useEffect(()=>{P&&L(P)},[P]);const V=P||U;return(0,Nl.jsxs)("div",{style:{display:"flex",height:"100%",position:"relative",zIndex:1001},children:[(0,Nl.jsxs)(bt,{children:[(0,Nl.jsx)(xt,{onClick:()=>W("map"),$active:"map"===P,title:"Map Controls",children:"\u2699\ufe0f"}),(0,Nl.jsx)(xt,{onClick:()=>W("blocks"),$active:"blocks"===P,title:"Blocks",children:"\ud83e\uddf1"}),(0,Nl.jsx)(xt,{onClick:()=>W("liquids"),$active:"liquids"===P,title:"Liquids",children:"\ud83d\udca7"}),(0,Nl.jsx)(xt,{onClick:()=>W("decorations"),$active:"decorations"===P,title:"Decorations",children:"\ud83c\udf32"}),(0,Nl.jsx)(xt,{onClick:()=>W("obstacles"),$active:"obstacles"===P,title:"Obstacles",children:"\ud83c\udffa"}),(0,Nl.jsx)(xt,{onClick:()=>W("items"),$active:"items"===P,title:"Items",children:"\u2728"}),(0,Nl.jsx)(xt,{onClick:()=>W("entities"),$active:"entities"===P,title:"Entities",children:"\ud83d\udc7e"}),(0,Nl.jsx)(xt,{onClick:()=>W("interactables"),$active:"interactables"===P,title:"Interactables",children:"\ud83d\udeaa"}),(0,Nl.jsx)(xt,{onClick:()=>W("hazards"),$active:"hazards"===P,title:"Hazards",children:"\u2620\ufe0f"}),(0,Nl.jsx)(xt,{onClick:()=>W("secrets"),$active:"secrets"===P,title:"Sectors",children:"\u221a2"}),(0,Nl.jsx)(xt,{onClick:()=>W("stats"),$active:"stats"===P,title:"Statistics",children:"\ud83d\udcca"}),(0,Nl.jsx)(xt,{onClick:()=>W("props"),$active:"props"===P,title:"Object Properties",children:"\ud83d\udccb"})]}),(0,Nl.jsx)(_t,{$isOpen:!!P,children:V&&(0,Nl.jsxs)(Nl.Fragment,{children:[(0,Nl.jsxs)(wt,{children:[(0,Nl.jsx)("span",{children:{map:"Operations",blocks:"Blocks",liquids:"Liquids (Blocks)",decorations:"Decorations",entities:"Entities (Objects)",items:"Items (Objects)",interactables:"Interactables",hazards:"Hazards",secrets:"Sectors",obstacles:"Obstacles",stats:"Statistics",props:"Object Properties"}[V]}),(0,Nl.jsx)(kt,{onClick:()=>G(null),children:"\u2715"})]}),(0,Nl.jsxs)(yt,{children:["map"===V&&(0,Nl.jsx)(Jt,{openNewMapModal:i,openBuiltInModal:o,saveMap:s,loadMap:c,clearMap:d,mapName:l,creatorName:e,mapDescription:n,setMapName:a,setCreatorName:u,setMapDescription:r}),("blocks"===V||"liquids"===V||"decorations"===V||"entities"===V||"items"===V||"interactables"===V||"hazards"===V||"secrets"===V||"obstacles"===V)&&(0,Nl.jsx)(qt,{isPlayMode:h,category:V,blocks:f,liquids:m,entities:A,decorations:x,items:b,interactables:_,hazards:w,secrets:y,weather:k,messages:v,alternativeSecrets:M,obstacles:S,handlePaletteSelect:p,selectedTile:g}),"stats"===V&&(0,Nl.jsx)(Xt,{totalTiles:C,mapWidth:R,mapHeight:B,filledBlocks:I,objectsCount:j,emptyBlocks:E}),"props"===V&&(0,Nl.jsx)(Zt,{objectMapData:D,registryItems:O,mapWidth:R,objectMetadata:N,highlightedIndex:z,setHighlightedIndex:Q,setObjectMetadata:T,maps:F})]})]})})]})},la=({mapName:l,creatorName:e,activePanel:n,togglePanel:t,showGrid:a,setShowGrid:u,isPlayMode:r,handlePlay:i,handlePause:o,handleReset:s,activeTool:c,setActiveTool:d,brushSize:h,setBrushSize:p,activeLayer:g,selection:f,moveSelection:m,selectionMode:A,setSelectionMode:b,commitSelection:x,cancelSelection:_,selectedTile:w,handlePaletteSelect:y,selectedBackgroundColor:k,setSelectedBackgroundColor:v,showBackgroundImage:M,setShowBackgroundImage:S})=>(0,Nl.jsx)(Jn,{children:(0,Nl.jsxs)(Kn,{children:[(0,Nl.jsx)(qn,{children:(0,Nl.jsxs)(Xn,{children:[(0,Nl.jsx)($n,{children:[{id:"brush",icon:"\ud83d\udd8c\ufe0f",title:"Brush (B)"},{id:"bucket",icon:"\ud83e\udea3",title:"Fill Bucket (F)"},{id:"move",icon:"\u270b",title:"Move Selection (M)"}].map(l=>(0,Nl.jsxs)(lt,{onClick:()=>!r&&d(l.id),$active:c===l.id&&!r,$square:!0,$disabled:r,title:r?"Disabled in Play Mode":l.title,children:[l.icon,r&&(0,Nl.jsx)(et,{})]},l.id))}),(0,Nl.jsxs)(Zn,{children:[["cut","copy"].map(l=>{const e=r||"move"!==c;return(0,Nl.jsxs)(lt,{onClick:()=>!e&&b(l),$active:A===l&&!e,$square:!0,$disabled:e,title:r?"Disabled in Play Mode":e?("cut"===l?"Cut":"Copy")+" (Only for Move tool)":("cut"===l?"Cut":"Copy")+" Selection",children:["cut"===l?"\u2702\ufe0f":"\ud83d\udccb",e&&(0,Nl.jsx)(et,{})]},l)}),(0,Nl.jsxs)(lt,{onClick:()=>!r&&"move"===c&&x(),$square:!0,$disabled:r||"move"!==c,title:r?"Disabled in Play Mode":"move"!==c?"Paste (Only for Move tool)":"Paste Selection",children:["\ud83d\udce5",(r||"move"!==c)&&(0,Nl.jsx)(et,{})]}),f&&!r&&(0,Nl.jsxs)(gt,{children:[(0,Nl.jsx)(ft,{onClick:x,$square:!0,title:"Confirm Selection (Enter)",children:"\u2713"}),(0,Nl.jsx)(mt,{onClick:_,$square:!0,title:"Cancel Selection (Esc)",children:"\u2715"})]})]}),(0,Nl.jsx)(Zn,{children:["I","II","III","IV","V"].map((l,e)=>{const n=e+1,t=r||"brush"!==c;return(0,Nl.jsxs)(lt,{onClick:()=>!t&&p(n),$active:h===n&&!t,$square:!0,$disabled:t,title:r?"Disabled in Play Mode":t?"Brush size (Only for Brush tool)":`Brush Size ${n}`,children:[l,t&&(0,Nl.jsx)(et,{})]},n)})}),(0,Nl.jsxs)($n,{children:[(0,Nl.jsxs)(lt,{onClick:()=>!r&&S(!M),$active:M&&!r,$square:!0,$disabled:r,title:r?"Disabled in Play Mode":M?"Hide Background Image":"Show Background Image",children:["\ud83d\uddbc\ufe0f",r&&(0,Nl.jsx)(et,{})]}),(0,Nl.jsx)(lt,{onClick:()=>u(!a),$active:a,$square:!0,title:a?"Hide Grid Lines":"Show Grid Lines",children:(0,Nl.jsx)(At,{children:a?"\u25a6":"\u25a2"})}),(0,Nl.jsx)(tt,{children:(0,Nl.jsxs)(at,{children:[(0,Nl.jsx)(ut,{type:"color",value:k,onChange:l=>!r&&v(l.target.value),title:r?"Disabled in Play Mode":"Background Color",disabled:r}),r&&(0,Nl.jsx)(et,{})]})})]}),(0,Nl.jsx)(Zn,{children:(0,Nl.jsxs)(nt,{...(()=>{const l={tile:{bg:"#e6f7ff",border:"#91d5ff",text:"#1890ff"},object:{bg:"#fff1f0",border:"#ffa39e",text:"#f5222d"},secret:{bg:"#f9f0ff",border:"#d3adf7",text:"#722ed1"},props:{bg:"#fffbe6",border:"#ffe58f",text:"#faad14"}},e=l[g]||l.tile;return{$bgColor:e.bg,$borderColor:e.border,$textColor:e.text}})(),children:["Layer: ","tile"===g?"Blocks":"object"===g?"Objects":"secret"===g?"Sectors":"Properties"]})}),(0,Nl.jsx)(Zn,{children:["tile","object","secret","props"].map(l=>{const{isActive:e,bgColor:n,textColor:t}=(l=>{const e={tile:{bg:"#e6f7ff",text:"#1890ff"},object:{bg:"#fff1f0",text:"#f5222d"},secret:{bg:"#f9f0ff",text:"#722ed1"},props:{bg:"#fffbe6",text:"#faad14"}},n=e[l]||e.tile;return{isActive:null===w&&g===l,bgColor:n.bg,textColor:n.text}})(l),a=r;return(0,Nl.jsxs)(ht,{onClick:()=>!a&&y(null,l),$active:e&&!a,$disabled:a,title:a?"Disabled in Play Mode":"Erase "+("tile"===l?"Blocks":"object"===l?"Objects":"secret"===l?"Sectors":"Properties"),children:[(0,Nl.jsxs)(pt,{$bgColor:n,$textColor:t,$active:e&&!a,children:["\u232b","tile"===l?"B":"object"===l?"O":"secret"===l?"S":"P"]}),a&&(0,Nl.jsx)(et,{})]},l)})}),(0,Nl.jsx)(Zn,{children:(0,Nl.jsxs)($n,{children:[(0,Nl.jsx)(rt,{onClick:r?o:i,title:r?"Pause/Editor":"Play Map",children:(0,Nl.jsx)(it,{$variant:r?"pause":"play",children:(0,Nl.jsx)("span",{children:r?"\u23f8":"\u25b6"})})}),(0,Nl.jsx)(rt,{onClick:s,title:"Reset State",children:(0,Nl.jsx)(it,{children:(0,Nl.jsx)("span",{children:"\u21bb"})})})]})})]})}),(0,Nl.jsx)(qn,{children:(0,Nl.jsxs)(ot,{children:[(0,Nl.jsxs)(st,{children:[(0,Nl.jsx)(ct,{children:"Map:"}),(0,Nl.jsx)(dt,{children:l})]}),(0,Nl.jsxs)(st,{children:[(0,Nl.jsx)(ct,{children:"By:"}),(0,Nl.jsx)(dt,{children:e})]})]})})]})}),ea=[],na=(l,e,n,a,u,r,i,o,s,c,d,h,p,g,f,m,A,b,x,_,w,y,k,v,M,S,C,I,E,j,R,B,D,N,T,O,z,Q,P,G,W,F,U,L,V,Y,H,J,K,q,X,Z,$,ll,el)=>{const nl=(0,t.useCallback)(()=>{const t={...Z[ll],mapWidth:l,mapHeight:e,tileMapData:n,objectMapData:a,secretMapData:u,objectMetadata:r,name:i,description:s,selectedBackgroundImage:d,selectedBackgroundColor:h,backgroundParallaxFactor:p,selectedBackgroundMusic:g,weather:{rain:O,snow:z,clouds:Q,fog:P,thunder:G,lavaRain:W,radioactiveFog:F,meteorRain:U},playerPosition:f};(async({maps:l,activeMapId:e,mapName:n,creatorName:t,mapDescription:a,createdAt:u,registryItems:r,setCreatedAt:i})=>{const o=(new Date).toISOString(),s={meta:{version:"2.0",projectName:n,author:t,description:a,date_created:u||o,date_last_updated:o,activeMapId:e},maps:{}};Object.values(l).forEach(l=>{const e=l.tileMapData.filter(l=>null!==l).length,n=l.objectMapData.filter(l=>null!==l).length;s.maps[l.id]={id:l.id,name:l.name,description:l.description||"",type:l.type,width:l.mapWidth,height:l.mapHeight,backgroundImage:l.selectedBackgroundImage||null,backgroundColor:l.selectedBackgroundColor||null,backgroundParallaxFactor:l.backgroundParallaxFactor||.3,backgroundMusic:l.selectedBackgroundMusic||null,weather:l.weather||{rain:0,snow:0,clouds:0,fog:0,thunder:0},objectMetadata:l.objectMetadata||{},playerPosition:l.playerPosition||null,worldX:l.worldX||0,worldY:l.worldY||0,statistics:{total_tiles:l.mapWidth*l.mapHeight,filled_tiles:e,total_objects:n},layers:[{type:"tile",name:"background",data:l.tileMapData},{type:"object",name:"entities",data:l.objectMapData},{type:"secret",name:"secrets",data:l.secretMapData||Array(l.mapWidth*l.mapHeight).fill(null)}]}});const c=`${n.replace(/\s+/g,"_")}.json`,d=JSON.stringify(s,null,2);try{await Fn(d,c,"application/json")&&(u||i(o),Xe.info("Project saved successfully",{component:"Editor",projectName:n,fileName:c,mapsCount:Object.keys(l).length}))}catch(h){Xe.error(h,{component:"Editor",function:"saveMap",mapName:n,fileName:c}),alert("Failed to save project. Check console for details.")}})({maps:{...Z,[ll]:t},activeMapId:ll,mapName:i,creatorName:o,mapDescription:s,createdAt:c,registryItems:m,setCreatedAt:A})},[Z,ll,l,e,n,a,u,r,i,o,s,c,d,h,p,g,f,m,A,O,z,Q,P,G,W,F,U]),tl=(0,t.useCallback)(l=>{(({event:l,...e})=>{const n=new FileReader,t=l.target.files[0];t&&(n.readAsText(t,"UTF-8"),n.onload=l=>{try{const n=JSON.parse(l.target.result);Un(n,e)}catch(n){Xe.error(n,{component:"Editor",function:"loadMap",fileName:t.name}),alert("Error loading map. Check console for details.")}},n.onerror=l=>{Xe.error(l,{component:"Editor",function:"loadMap",fileName:t.name,phase:"fileReader"}),alert("Error reading file!")})})({event:l,setMapWidth:b,setMapHeight:x,setMapName:_,setCreatorName:w,setMapDescription:y,setCreatedAt:A,setSelectedBackgroundImage:k,setSelectedBackgroundColor:v,setBackgroundParallaxFactor:M,setSelectedBackgroundMusic:S,setPlayerPosition:C,setTileMapData:I,setObjectMapData:E,setSecretMapData:j,setObjectMetadata:R,setWeatherRain:L,setWeatherSnow:V,setWeatherClouds:Y,setWeatherFog:H,setWeatherThunder:J,setWeatherLavaRain:K,setWeatherRadioactiveFog:q,setWeatherMeteorRain:X,setMaps:$,setActiveMapId:el})},[b,x,_,w,y,A,k,v,M,S,C,I,E,j,R,L,V,Y,H,J,K,q,X,$,el]),al=(0,t.useCallback)(l=>{(({mapData:l,...e})=>{try{Un(l,e)}catch(n){Xe.error(n,{component:"Editor",function:"loadBuiltInMap"}),alert("Error loading built-in map.")}})({mapData:l,setMapWidth:b,setMapHeight:x,setMapName:_,setCreatorName:w,setMapDescription:y,setCreatedAt:A,setSelectedBackgroundImage:k,setSelectedBackgroundColor:v,setBackgroundParallaxFactor:M,setSelectedBackgroundMusic:S,setPlayerPosition:C,setTileMapData:I,setObjectMapData:E,setSecretMapData:j,setObjectMetadata:R,setWeatherRain:L,setWeatherSnow:V,setWeatherClouds:Y,setWeatherFog:H,setWeatherThunder:J,setWeatherLavaRain:K,setWeatherRadioactiveFog:q,setWeatherMeteorRain:X,setMaps:$,setActiveMapId:el})},[b,x,_,w,y,A,k,v,M,S,C,I,E,j,R,L,V,Y,H,J,K,q,X,$,el]),ul=(0,t.useCallback)(()=>{(({mapWidth:l,mapHeight:e,setTileMapData:n,setObjectMapData:t,setSecretMapData:a,setObjectMetadata:u})=>{if(window.confirm("Are you sure you want to clear the map?")){const r=l*e;n(Array(r).fill(null)),t(Array(r).fill(null)),a(Array(r).fill(null)),u({})}})({mapWidth:l,mapHeight:e,setTileMapData:I,setObjectMapData:E,setSecretMapData:j,setObjectMetadata:R})},[l,e,I,E,j,R]);return{handleSaveMap:nl,handleLoadMap:tl,handleLoadBuiltInMap:al,handleClearMap:ul,openNewMapModal:()=>{D(i),N(o),T(s),B(!0)},confirmNewMap:(n,t,a)=>{_(n||"New Map"),w(t||"Anonymous"),y(a||""),A((new Date).toISOString());const u=l*e;I(Array(u).fill(null)),E(Array(u).fill(null)),j(Array(u).fill(null)),R({}),B(!1)}}},ta=(l,e,n,t)=>{const a=e[l],u=n,r=t,i=[l],o=new Set,s=new Set;for(;i.length>0;){const l=i.pop();if(o.has(l))continue;if(o.add(l),l<0||l>=e.length)continue;if(e[l]!==a)continue;s.add(l);const n=l%u,t=Math.floor(l/u);n>0&&i.push(l-1),n<u-1&&i.push(l+1),t>0&&i.push(l-u),t<r-1&&i.push(l+u)}return s},aa=(l,e,n,a,u,r,i,o,s,c,d,h,p,g,f,m,A,b,x,_,w,y,k,v,M,S)=>{const[C,I]=(0,t.useState)(null),[E,j]=(0,t.useState)(new Set),[R,B]=(0,t.useState)(null),[D,N]=(0,t.useState)(null),T=(0,t.useRef)(null),O=(0,t.useCallback)(t=>{(({index:l,brushSize:e,activeLayer:n,selectedTile:t,mapWidth:a,mapHeight:u,tileMapData:r,objectMapData:i,secretMapData:o,objectMetadata:s,setTileMapData:c,setObjectMapData:d,setSecretMapData:h,setObjectMetadata:p})=>{const g="props"===n,f=g?"object":n,m="tile"===f?c:"object"===f?d:h,A=[..."tile"===f?r:"object"===f?i:o];let b=s?{...s}:null,x=!1;const _=l%a,w=Math.floor(l/a);for(let y=0;y<e;y++)for(let l=0;l<e;l++){const e=_+l,n=w+y;if(e<a&&n<u){const l=n*a+e;g?(A[l]=null,b&&b[l]&&(delete b[l],x=!0)):(A[l]=t?t.id:null,"object"===f&&null===t&&b&&b[l]&&(delete b[l],x=!0))}}m(A),x&&p&&p(b)})({index:t,activeTool:s,brushSize:c,activeLayer:d,selectedTile:h,mapWidth:l,mapHeight:e,tileMapData:n,objectMapData:a,secretMapData:u,objectMetadata:M,setTileMapData:r,setObjectMapData:i,setSecretMapData:o,setObjectMetadata:S})},[s,c,d,h,l,e,n,a,u,M,r,i,o,S]),z=(0,t.useCallback)((e,n)=>{const t=M[e]||{},a=e%l,u=Math.floor(e/l);B({index:e,edge:n,startX:a,startY:u,startW:t.width||1,startH:t.height||1}),_(!0)},[M,l,_]),Q=(0,t.useCallback)(e=>{const n=e%l,t=Math.floor(e/l);N({index:e,startX:n,startY:t,objId:a[e],secretId:u[e],meta:M[e]?{...M[e]}:null}),_(!0),y(e)},[a,u,M,l,_,y]),P=(0,t.useCallback)((t,c)=>{const g=a[t],f=u[t];if(!(null===h&&"brush"===s)&&(g||f)&&w&&y){const l=v?.find(l=>l.id===(g||f));(g&&(g.includes("portal")||g.includes("target")||"portal_target"===g||l&&"weather_trigger"===l.type||l&&"message_trigger"===l.type)||f)&&(w("props"),y(t))}if("brush"===s)_(!0),O(t);else if("bucket"===s){const s="props"===d?"object":d,c="tile"===s?n:"object"===s?a:u,p=c[t],g=h?h.id:null;if(p===g)return;const f=((l,e,n,t,a)=>{if(n[l]===e)return n;const u=ta(l,n,t,a),r=[...n];return u.forEach(l=>r[l]=e),r})(t,g,c,l,e);if("tile"===s)r(f);else if("object"===s){if(i(f),null===g&&M&&S){const n=ta(t,c,l,e);let a=!1;const u={...M};n.forEach(l=>{u[l]&&(delete u[l],a=!0)}),a&&S(u)}}else o(f)}else if("move"===s){if(p)return;if(g||f)Q(t);else{const e=t%l,n=Math.floor(t/l);b({x:e,y:n}),_(!0)}}},[a,u,w,y,v,s,_,O,d,n,h,l,e,r,i,o,M,S,p,Q,b]),G=(0,t.useCallback)(t=>{I(t);const r=t%l,c=Math.floor(t/l);if(R){const e=r-R.startX,n=c-R.startY;let t=R.startW,s=R.startH,d=R.index;if("right"===R.edge&&(t=Math.max(1,R.startW+e)),"bottom"===R.edge&&(s=Math.max(1,R.startH+n)),"left"===R.edge){const n=Math.min(R.startW-1,e);t=R.startW-n,d=R.startY*l+(R.startX+n)}if("top"===R.edge){const e=Math.min(R.startH-1,n);s=R.startH-e,d=(R.startY+e)*l+R.startX}if(t!==(M[R.index]?.width||1)||s!==(M[R.index]?.height||1)||d!==R.index){const e={...M[R.index]};if(e.width=t,e.height=s,S(l=>{const n={...l};return delete n[R.index],n[d]=e,n}),d!==R.index){const e=a[R.index],n=u[R.index];i(l=>{const n=[...l];return n[R.index]=null,n[d]=e,n}),o(l=>{const e=[...l];return e[R.index]=null,e[d]=n,e}),B(e=>({...e,index:d,startX:d%l,startY:Math.floor(d/l),startW:t,startH:s})),y(d)}}}else if(D){if(t===D.index)return;i(l=>{const e=[...l];return e[D.index]=null,e[t]=D.objId,e}),o(l=>{const e=[...l];return e[D.index]=null,e[t]=D.secretId,e}),S(l=>{const e={...l};return delete e[D.index],D.meta&&(e[t]=D.meta),e}),N(l=>({...l,index:t,startX:r,startY:c})),y(t)}else"brush"===s&&x?O(t):"bucket"===s&&(T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{const r="props"===d?"object":d,i=ta(t,"tile"===r?n:"object"===r?a:u,l,e);j(i)},10))},[I,s,x,O,d,n,a,u,l,e,j,R,D,M,S,i,o,y]),W=(0,t.useCallback)(e=>{if("move"===s&&x&&!R&&!D&&A&&null!==e){const t=e%l,r=Math.floor(e/l),i=Math.min(A.x,t),o=Math.min(A.y,r),s=Math.max(A.x,t),c=Math.max(A.y,r),d=s-i+1,h=c-o+1,p=[],x=[],_=[],w={};for(let e=o;e<=c;e++)for(let t=i;t<=s;t++){const r=e*l+t;p.push(n[r]),x.push(a[r]),_.push(u[r]),M[r]&&(w[`${t-i},${e-o}`]={...M[r]})}g({x:i,y:o,w:d,h:h,originalX:i,originalY:o,tileData:p,objectData:x,secretData:_,metadata:w}),f({x:i,y:o}),m({tileMap:[...n],objectMap:[...a],secretMap:[...u],objectMetadata:{...M}}),b(null)}_(!1),B(null),N(null)},[s,x,R,D,A,l,n,a,u,g,f,m,b,_]);return{hoverIndex:C,setHoverIndex:I,bucketPreviewIndices:E,setBucketPreviewIndices:j,handleGridMouseDown:P,handleGridMouseMove:G,handleGridMouseUp:W,handleResizeStart:z,handleMoveStart:Q,paintTile:O}},ua={},ra=i.Ay.div.withConfig({componentId:"sc-3p3ytt-0"})(["position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;pointer-events:none;z-index:1500;h2{font-size:48px;color:white;text-shadow:0 0 10px rgba(0,0,0,0.8),0 0 20px rgba(0,0,0,0.5);margin:0;padding:20px;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;font-weight:800;letter-spacing:2px;opacity:",";transition:opacity 2s ease-in-out;}"],l=>l.$isVisible?1:0),ia=i.Ay.div.withConfig({componentId:"sc-3p3ytt-1"})(["position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.8);z-index:2500;display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;backdrop-filter:blur(4px);animation:fadeIn 0.5s ease-out;@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}"]),oa=i.Ay.h1.withConfig({componentId:"sc-3p3ytt-2"})(["font-size:72px;margin:0 0 30px 0;text-transform:uppercase;letter-spacing:5px;color:#ff4444;text-shadow:0 0 20px rgba(255,0,0,0.5),0 5px 15px rgba(0,0,0,0.8);font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;font-weight:900;"]),sa=i.Ay.button.withConfig({componentId:"sc-3p3ytt-3"})(["padding:18px 50px;font-size:28px;background:linear-gradient(180deg,#4CAF50,#2E7D32);color:white;border:2px solid #fff;border-radius:50px;cursor:pointer;font-weight:bold;box-shadow:0 5px 15px rgba(0,0,0,0.3);transition:all 0.2s ease;outline:none;&:hover{background:linear-gradient(180deg,#66BB6A,#388E3C);transform:scale(1.05) translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,0.4);}&:active{transform:scale(0.98) translateY(0);}"]),ca=()=>{const l=(0,t.useMemo)(()=>ql()||[],[]),e=(0,t.useMemo)(()=>l.find(l=>"player"===l.id)||ua,[l]),[a,u]=(0,t.useState)(20),[r,i]=(0,t.useState)(15),[o,s]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[h,p]=(0,t.useState)([]),[g,f]=(0,t.useState)({}),[m,A]=(0,t.useState)(null),[b,x]=(0,t.useState)(!0),[_,w]=(0,t.useState)(!0),[y,k]=(0,t.useState)(!1),[v,M]=(0,t.useState)(1),[S,I]=(0,t.useState)("brush"),[E,j]=(0,t.useState)("tile"),[R,B]=(0,t.useState)(null),D=(0,t.useRef)({mapWidth:a,mapHeight:r,tileMapData:o,objectMapData:c,secretMapData:h,objectMetadata:g}),[N,T]=(0,t.useState)("New Map"),[O,z]=(0,t.useState)("Anonymous"),[Q,P]=(0,t.useState)(""),[G,W]=(0,t.useState)(null),[F,U]=(0,t.useState)(null),[L,V]=(0,t.useState)(!1),[Y,H]=(0,t.useState)(!1),[J,K]=(0,t.useState)(!1),[q,X]=(0,t.useState)(""),[Z,$]=(0,t.useState)(""),[ll,el]=(0,t.useState)(""),[nl,tl]=(0,t.useState)(null),al=(0,t.useMemo)(()=>(()=>{const l=n(2201);return l.keys().map(e=>{const n=l(e),t=n.default||n,a=e.replace("./","");return{key:e,name:a,src:t,metaPath:`/assets/background/${a}`}})})(),[]),ul=(0,t.useMemo)(()=>(()=>{const l=n(8815);return l.keys().map(e=>{const n=l(e),t=e.replace("./","");return{key:e,name:t,src:n.default||n,metaPath:`/assets/sound/background/${t}`}})})(),[]),[rl,il]=(0,t.useState)(null),[ol,sl]=(0,t.useState)(.3),[cl,dl]=(0,t.useState)("#99C1F1"),[hl,pl]=(0,t.useState)(null),[gl,fl]=(0,t.useState)(0),[ml,Al]=(0,t.useState)(0),[bl,xl]=(0,t.useState)(0),[_l,wl]=(0,t.useState)(0),[yl,kl]=(0,t.useState)(0),[vl,Ml]=(0,t.useState)(0),[Sl,Cl]=(0,t.useState)(0),[Il,El]=(0,t.useState)(0),[jl,Rl]=(0,t.useState)({x:100,y:100}),{maps:Bl,setMaps:Dl,activeMapId:Tl,setActiveMapId:Ol,createMap:zl,updateMapData:Ql,deleteMap:Pl}=(()=>{const[l,e]=(0,t.useState)({main:{id:"main",name:"Overworld",description:"",type:"overworld",mapWidth:20,mapHeight:15,tileMapData:Array(300).fill(null),objectMapData:Array(300).fill(null),secretMapData:Array(300).fill(null),objectMetadata:{},selectedBackgroundImage:null,selectedBackgroundColor:"#99C1F1",backgroundParallaxFactor:.3,selectedBackgroundMusic:null,weather:{rain:0,snow:0,clouds:0,fog:0,thunder:0,lavaRain:0,radioactiveFog:0,meteorRain:0},playerPosition:{x:100,y:100},worldX:50,worldY:50}}),[n,a]=(0,t.useState)("main"),u=(0,t.useCallback)((n,t,a=20,u=15)=>{const r=`map_${Date.now()}`,i=Object.values(l),o=Math.max(...i.map(l=>l.worldY||0),0),s={id:r,name:t||("overworld"===n?"New Overworld":"New Underworld"),description:"",type:n,mapWidth:a,mapHeight:u,tileMapData:Array(a*u).fill(null),objectMapData:Array(a*u).fill(null),secretMapData:Array(a*u).fill(null),objectMetadata:{},selectedBackgroundImage:null,selectedBackgroundColor:"overworld"===n?"#99C1F1":"#1a1a1a",backgroundParallaxFactor:.3,selectedBackgroundMusic:null,weather:{rain:0,snow:0,clouds:0,fog:0,thunder:0,lavaRain:0,radioactiveFog:0,meteorRain:0},playerPosition:null,worldX:50,worldY:o+150};return e(l=>({...l,[r]:s})),r},[]),r=(0,t.useCallback)((l,n)=>{e(e=>({...e,[l]:{...e[l],...n}}))},[]),i=(0,t.useCallback)(l=>{"main"!==l&&(e(e=>{const n={...e};return delete n[l],n}),n===l&&a("main"))},[n]);return{maps:l,setMaps:e,activeMapId:n,setActiveMapId:a,createMap:u,updateMapData:r,deleteMap:i}})(),Gl=(0,t.useCallback)((l,e=null)=>{if(l===Tl)return;Ql(Tl,{mapWidth:a,mapHeight:r,tileMapData:o,objectMapData:c,secretMapData:h,objectMetadata:g,mapName:N,creatorName:O,mapDescription:Q,createdAt:G,selectedBackgroundImage:rl,selectedBackgroundColor:cl,backgroundParallaxFactor:ol,selectedBackgroundMusic:hl,weatherRain:gl,weatherSnow:ml,weatherClouds:bl,weatherFog:_l,weatherThunder:yl,weatherLavaRain:vl,weatherRadioactiveFog:Sl,weatherMeteorRain:Il,playerPosition:jl});const n=Bl[l];n&&(u(n.mapWidth),i(n.mapHeight),s(n.tileMapData),d(n.objectMapData),p(n.secretMapData),f(n.objectMetadata||{}),T(n.name),P(n.description||""),W(n.createdAt||(new Date).toISOString()),il(n.selectedBackgroundImage),dl(n.selectedBackgroundColor),sl(n.backgroundParallaxFactor||.3),pl(n.selectedBackgroundMusic),n.weather&&(fl(n.weather.rain||0),Al(n.weather.snow||0),xl(n.weather.clouds||0),wl(n.weather.fog||0),kl(n.weather.thunder||0),Ml(n.weather.lavaRain||0),Cl(n.weather.radioactiveFog||0),El(n.weather.meteorRain||0)),n.playerPosition&&Rl(n.playerPosition),null!==e&&Ql(l,{...n,spawnTriggerId:e}),Ol(l))},[Tl,Bl,Ql,Ol,a,r,o,c,h,g,N,O,G,rl,cl,ol,hl,gl,ml,bl,_l,yl,vl,Sl,Il,jl]),Wl=(0,t.useCallback)(l=>{const e=prompt(`Enter ${l} map name:`,`New ${l.charAt(0).toUpperCase()+l.slice(1)}`);if(e){zl(l,e,a,r)}},[zl,a,r]);(0,t.useEffect)(()=>{const l=setTimeout(()=>{Ql(Tl,{mapWidth:a,mapHeight:r,tileMapData:o,objectMapData:c,secretMapData:h,objectMetadata:g,name:N,description:Q,selectedBackgroundImage:rl,selectedBackgroundColor:cl,selectedBackgroundMusic:hl,backgroundParallaxFactor:ol,weather:{rain:gl,snow:ml,clouds:bl,fog:_l,thunder:yl,lavaRain:vl,radioactiveFog:Sl,meteorRain:Il},playerPosition:jl})},1e3);return()=>clearTimeout(l)},[Tl,Ql,a,r,o,c,h,g,N,Q,rl,cl,hl,ol,gl,ml,bl,_l,yl,vl,Sl,Il,jl]);const Fl=al.find(l=>l.metaPath===rl)||al[0],Ul=Fl&&rl?Fl.src:null,{blocks:Ll,liquids:Vl,entities:Yl,decorations:Hl,items:Jl,interactables:Kl,hazards:Xl,secrets:Zl,weather:$l,messages:le,alternativeSecrets:ee,obstacles:ne}=(l=>({blocks:(0,t.useMemo)(()=>l.filter(l=>l.name&&l.name.startsWith("block.")&&!(l.flags&&l.flags.liquid)),[l]),liquids:(0,t.useMemo)(()=>l.filter(l=>l.flags&&l.flags.liquid),[l]),entities:(0,t.useMemo)(()=>[...l.filter(l=>!(!l.name||!l.name.toLowerCase().includes("entities."))&&!l.isHiddenInEditor&&(!l.type||"default"===l.type||"entity"===l.type||"tank"===l.subtype)),...l.filter(l=>l.name&&l.name.startsWith("item.")&&"hertz_item"!==l.id&&"fireball_ammo"!==l.id)],[l]),decorations:(0,t.useMemo)(()=>l.filter(l=>"decoration"===l.type||!(!l.name||!l.name.toLowerCase().includes("decoration."))||!(!l.id||!l.id.includes("stone_pack"))),[l]),items:(0,t.useMemo)(()=>l.filter(l=>l.name&&l.name.startsWith("item.")&&("hertz_item"===l.id||"fireball_ammo"===l.id)),[l]),interactables:(0,t.useMemo)(()=>l.filter(l=>"interactable"===l.type||l.name&&l.name.startsWith("interactable.")),[l]),hazards:(0,t.useMemo)(()=>l.filter(l=>"hazard"===l.type||l.name&&l.name.startsWith("hazard.")),[l]),secrets:(0,t.useMemo)(()=>l.filter(l=>"secret"===l.type),[l]),weather:(0,t.useMemo)(()=>l.filter(l=>"weather_trigger"===l.type),[l]),messages:(0,t.useMemo)(()=>l.filter(l=>"message_trigger"===l.type),[l]),alternativeSecrets:(0,t.useMemo)(()=>l.filter(l=>"crack_block"===l.type||"wolf_secret"===l.type),[l]),obstacles:(0,t.useMemo)(()=>l.filter(l=>"obstacle"===l.type||l.name&&l.name.startsWith("obstacle.")),[l])}))(l),{selection:te,setSelection:ae,selectionMode:ue,setSelectionMode:re,previewPosition:ie,setPreviewPosition:oe,originalMapData:se,setOriginalMapData:ce,moveSelection:de,commitSelection:he,cancelSelection:pe}=((l,e,n,a,u,r,i,o,s,c)=>{const[d,h]=(0,t.useState)(null),[p,g]=(0,t.useState)("cut"),[f,m]=(0,t.useState)(null),[A,b]=(0,t.useState)(null),x=(0,t.useCallback)((l,e)=>{d&&f&&m({x:f.x+l,y:f.y+e})},[d,f]),_=(0,t.useCallback)(()=>{h(null),m(null),b(null)},[]),w=(0,t.useCallback)(()=>{if(!d||!f||!A)return;const n=[...A.tileMap],t=[...A.objectMap],a=[...A.secretMap],u={...A.objectMetadata};if("cut"===p)for(let e=0;e<d.h;e++)for(let r=0;r<d.w;r++){const i=(d.originalY+e)*l+(d.originalX+r);i>=0&&i<n.length&&(n[i]=null,t[i]=null,a[i]=null,delete u[i])}for(let r=0;r<d.h;r++)for(let i=0;i<d.w;i++){const o=f.x+i,s=f.y+r;if(o>=0&&o<l&&s>=0&&s<e){const e=s*l+o,c=r*d.w+i;n[e]=d.tileData[c],t[e]=d.objectData[c],a[e]=d.secretData?.[c]||null,d.metadata&&d.metadata[`${i},${r}`]&&(u[e]={...d.metadata[`${i},${r}`]})}}i(n),o(t),s(a),c(u),h(null),m(null),b(null)},[d,f,A,p,l,e,i,o,s,c]);return(0,t.useEffect)(()=>{const l=l=>{d&&("Enter"===l.key?(l.preventDefault(),w()):"Escape"===l.key&&(l.preventDefault(),_()))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[d,f,A,p,w,_]),{selection:d,setSelection:h,selectionMode:p,setSelectionMode:g,previewPosition:f,setPreviewPosition:m,originalMapData:A,setOriginalMapData:b,moveSelection:x,commitSelection:w,cancelSelection:_}})(a,r,0,0,0,0,s,d,p,f),{isPlayMode:ge,handlePlay:fe,handlePause:me,handleReset:Ae,handleReplay:be,handleStateUpdate:xe,playModeObjectData:_e,playModeSecretData:we,playModeWeather:ye,gameMessage:ke,revealedSecrets:ve,gameEngineState:Me,isGameOver:Se}=((l,e,n,a,u,r,i,o,s,c,d,h,p,g,f,m,A,b,x,_,w,y,k,v,M,S)=>{const[I,E]=(0,t.useState)(!1),[j,R]=(0,t.useState)(!1),[B,D]=(0,t.useState)(0),[N,T]=(0,t.useState)(null),[O,z]=(0,t.useState)([]),[Q,P]=(0,t.useState)([]),[G,W]=(0,t.useState)([]),[F,U]=(0,t.useState)({rain:0,snow:0,clouds:0,fog:0,thunder:0,lavaRain:0,radioactiveFog:0,meteorRain:0}),[L,V]=(0,t.useState)({text:"",isVisible:!1}),Y=(0,t.useRef)(null),H=(0,t.useRef)(null),J=(0,t.useMemo)(()=>I?`${k}_${B}_${Date.now()}`:null,[I,k,B]),K=(0,t.useMemo)(()=>{if(!I)return ea;if(H.current!==k){const n=[...a];let t=n.findIndex(l=>l&&l.includes("player"));if(-1===t&&(null===M||void 0===M)){const a=Math.min(3,l-1);t=Math.min(3,e-1)*l+a,n[t]="player"}return n}return Q},[I,k,Q,a,M,l,e]),q=(0,t.useMemo)(()=>I?H.current!==k?[...u]:G:ea,[I,k,G,u]),X=(0,t.useMemo)(()=>({meta:{width:l,height:e,tileSize:C,activeMapId:k,spawnTriggerId:M,backgroundImage:i,backgroundColor:o,backgroundParallaxFactor:s,objectMetadata:r,date_map_last_updated:J,weather:{rain:I?F.rain:g,lavaRain:I?F.lavaRain:x,snow:I?F.snow:f,meteorRain:I?F.meteorRain:w,clouds:I?F.clouds:m,fog:I?F.fog:A,radioactiveFog:I?F.radioactiveFog:_,thunder:I?F.thunder:b}},maps:y,layers:[{type:"tile",name:"background",data:n},{type:"object",name:"entities",data:K}]}),[l,e,k,M,i,o,s,n,K,r,g,f,m,A,b,x,_,w,F,I,y,J]);(0,t.useEffect)(()=>{if(I&&H.current!==k){const n=[...a];let t=n.findIndex(l=>l&&l.includes("player"));if(-1===t&&(null===M||void 0===M)){const a=Math.min(3,l-1);t=Math.min(3,e-1)*l+a,n[t]="player"}P(n),W([...u]),z([]),H.current=k}},[k,I,a,u,l,e,M]);const Z=(0,t.useCallback)(()=>{R(!0)},[]),$=(0,t.useCallback)(()=>{R(!1),D(l=>l+1),z([]),N&&(P([...N.objectMapData]),W([...N.secretMapData]),p({...N.objectMetadata}))},[N,p]),ll=(0,t.useCallback)((n,t)=>{if(n&&"object"===typeof n&&void 0!==n.x&&void 0!==n.y)h({x:n.x,y:n.y});else if("collectItem"===n&&void 0!==t)P(l=>{const e=[...l];return e[t]=null,e});else if("switchMap"===n&&void 0!==t){const{targetMapId:l,triggerId:e}=t;v&&l&&v(l,e)}else if("objectDamage"===n&&void 0!==t){const{index:l,damage:e}=t,n=Q[l],a=c.find(l=>l.id===n);if(!a)return;p(n=>{const t=n[l]||{},u=a.maxHealth||100,r=Math.max(0,(void 0!==t.health?t.health:u)-e);return"crack_block"===a.type&&r<=(a.passableHealthThreshold||0)&&S&&S(e=>{const n=[...e];return n[l]=null,n}),{...n,[l]:{...t,health:r}}})}else if("shiftTile"===n&&void 0!==t){const{index:n,dx:a,dy:u}=t;let r=n,i=a,o=u;const s=()=>{if(0===i&&0===o)return void P(l=>{const e=[...l];return e[r]=null,e});const n=i>0?1:i<0?-1:0,t=o>0?1:o<0?-1:0,a=r%l+n,u=Math.floor(r/l)+t;if(a>=0&&a<l&&u>=0&&u<e){const e=u*l+a;if(1===Math.abs(i)&&0===o||1===Math.abs(o)&&0===i){const l=Q[e],n=c.find(e=>e.id===l);if(n&&"wolf_secret"===n.type){const l=Math.abs(n.moveX||3),e=Math.abs(n.moveY||3);0!==i&&(i+=i>0?l:-l),0!==o&&(o+=o>0?e:-e)}}S&&S(l=>{const n=[...l];return n[e]=n[r],n[r]=null,n}),P(l=>{const n=[...l];return n[e]=n[r],n[r]=null,n}),p(l=>{const n={...l};return n[r]&&(n[e]=n[r],delete n[r]),n}),r=e,i-=n,o-=t,0!==i||0!==o?setTimeout(s,250):P(l=>{const e=[...l];return e[r]=null,e})}else P(l=>{const e=[...l];return e[r]=null,e})};s()}else if("updateWeather"===n&&t){const{type:l,value:e}=t;U(n=>({...n,[l]:e}));const n="weather"+l.charAt(0).toUpperCase()+l.slice(1);window.dispatchEvent(new CustomEvent("game-settings-update",{detail:{[n]:e}}))}else if("showMessage"===n&&t){const{text:l,duration:e}=t;Y.current&&clearTimeout(Y.current),V({text:l,isVisible:!0}),Y.current=setTimeout(()=>{V(l=>({...l,isVisible:!1})),Y.current=null},e||8e3)}else if("weatherEffectHit"===n&&t){const{type:l,data:e}=t;window.dispatchEvent(new CustomEvent("weather-effect-hit",{detail:{type:l,data:e}}))}},[Q,c,h,p,v]),el=(0,t.useCallback)(l=>{z(e=>[...e,l])},[]),nl=$e(I?X:null,I?n:ea,I?K:ea,I?q:ea,O,c,Z,ll,el,r);return{isPlayMode:I,setIsPlayMode:E,isGameOver:j,handlePlay:()=>{T({tileMapData:[...n],objectMapData:[...a],secretMapData:[...u],objectMetadata:{...r},playerPosition:{...d}});const t=[...a];let i=t.findIndex(l=>l&&l.includes("player"));if(-1===i){const n=Math.min(3,l-1);i=Math.min(3,e-1)*l+n,t[i]="player"}P(t),W([...u]),U({rain:g,snow:f,clouds:m,fog:A,thunder:b,lavaRain:x,radioactiveFog:_,meteorRain:w}),z([]),H.current=k,E(!0),R(!1)},handlePause:()=>{E(!1),R(!1)},handleReset:()=>{if(N){S&&S([...N.tileMapData]);const n=[...N.objectMapData];let t=n.findIndex(l=>l&&l.includes("player"));if(-1===t){const a=Math.min(3,l-1);t=Math.min(3,e-1)*l+a,n[t]="player"}P(n),W([...N.secretMapData]),p({...N.objectMetadata}),z([]),H.current=k}},handleReplay:$,handleStateUpdate:ll,playModeObjectData:K,playModeSecretData:q,playModeWeather:F,gameMessage:L,revealedSecrets:O,gameEngineState:nl}})(a,r,o,c,h,g,rl,cl,ol,l,jl,Rl,f,gl,ml,bl,_l,yl,vl,Sl,Il,Bl,Tl,Gl,Bl[Tl]?.spawnTriggerId,s),{handleSaveMap:Ce,handleLoadMap:Ie,handleLoadBuiltInMap:Ee,handleClearMap:je,openNewMapModal:Re,confirmNewMap:Be}=na(a,r,o,c,h,g,N,O,Q,G,rl,cl,ol,hl,jl,l,W,u,i,T,z,P,il,dl,sl,pl,Rl,s,d,p,f,V,X,$,el,gl,ml,bl,_l,yl,vl,Sl,Il,fl,Al,xl,wl,kl,Ml,Cl,El,Bl,Dl,Tl,Ol),{hoverIndex:De,setHoverIndex:Ne,bucketPreviewIndices:Te,setBucketPreviewIndices:Oe,handleGridMouseDown:ze,handleGridMouseMove:Pe,handleGridMouseUp:Ge,handleResizeStart:We,handleMoveStart:Fe,paintTile:Ue}=aa(a,r,o,c,h,s,d,p,S,v,E,m,te,ae,oe,ce,R,B,y,k,tl,U,0,l,g,f);(0,t.useEffect)(()=>{D.current={mapWidth:a,mapHeight:r,tileMapData:o,objectMapData:c,secretMapData:h,objectMetadata:g}},[a,r,o,c,h,g]),(0,t.useEffect)(()=>{s(Array(300).fill(null)),d(Array(300).fill(null)),p(Array(300).fill(null))},[]);const Le=l=>{tl(e=>e===l?null:l)},Ve=(0,t.useCallback)((l,e)=>{A(l),j(e),I("brush"),ae(null)},[]),Ye=(0,t.useCallback)(()=>{Ne(null),Oe(new Set)},[Ne,Oe]),He=a*r,Je=o.filter(l=>null!==l).length,Ke=He-Je,qe=c.filter(l=>null!==l).length;return(0,Nl.jsxs)("div",{className:"editor-wrapper",style:{position:"relative",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,Nl.jsx)(St,{isOpen:L,tempMapName:q,setTempMapName:X,tempCreatorName:Z,setTempCreatorName:$,tempMapDescription:ll,setTempMapDescription:el,confirmNewMap:Be,onClose:()=>V(!1)}),(0,Nl.jsx)(zt,{isOpen:Y,onClose:()=>H(!1),onSelect:Ee}),(0,Nl.jsxs)("div",{className:"editor-container",style:{display:"flex",flex:1,flexDirection:"row",filter:L||Y?"blur(4px) brightness(0.7)":"none",transition:"filter 0.2s ease",pointerEvents:L||Y?"none":"auto",overflow:"hidden"},children:[(0,Nl.jsx)($t,{mapName:N,creatorName:O,mapDescription:Q,setMapName:T,setCreatorName:z,setMapDescription:P,openNewMapModal:Re,openBuiltInModal:()=>H(!0),saveMap:Ce,loadMap:Ie,clearMap:je,isPlayMode:ge,handlePaletteSelect:Ve,selectedTile:m,blocks:Ll,liquids:Vl,entities:Yl,items:Jl,decorations:Hl,interactables:Kl,hazards:Xl,secrets:Zl,weather:$l,messages:le,alternativeSecrets:ee,obstacles:ne,totalTiles:He,filledBlocks:Je,emptyBlocks:Ke,objectsCount:qe,mapWidth:a,mapHeight:r,objectMapData:c,objectMetadata:g,setObjectMetadata:f,registryItems:l,highlightedIndex:F,setHighlightedIndex:U,activePanel:nl,setActivePanel:tl,togglePanel:Le,maps:Bl}),(0,Nl.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column",overflow:"hidden"},children:[(0,Nl.jsx)(la,{mapName:N,creatorName:O,activePanel:nl,togglePanel:Le,showGrid:b,setShowGrid:x,isPlayMode:ge,handlePlay:fe,handlePause:me,handleReset:Ae,activeTool:S,setActiveTool:I,brushSize:v,setBrushSize:M,activeLayer:E,selection:te,moveSelection:de,selectionMode:ue,setSelectionMode:re,commitSelection:he,cancelSelection:pe,selectedTile:m,handlePaletteSelect:Ve,selectedBackgroundColor:cl,setSelectedBackgroundColor:dl,showBackgroundImage:_,setShowBackgroundImage:w}),(0,Nl.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"row",overflow:"hidden"},children:[(0,Nl.jsx)(Ht,{handleMapResize:(l,e)=>{l===a&&e===r||(({newWidth:l,newHeight:e,stateRef:n,setMapWidth:t,setMapHeight:a,setTileMapData:u,setObjectMapData:r,setSecretMapData:i,setObjectMetadata:o})=>{const{mapWidth:s,mapHeight:c,tileMapData:d,objectMapData:h,secretMapData:p,objectMetadata:g}=n.current;if(l<1||e<1)return;if(l===s&&e===c)return;const f=n=>{const t=Array(l*e).fill(null);if(!n)return t;for(let a=0;a<Math.min(c,e);a++)for(let e=0;e<Math.min(s,l);e++)t[a*l+e]=n[a*s+e];return t};t(l),a(e),u(f(d)),r(f(h)),i(f(p)),o((n=>{const t={};if(!n)return t;for(let a=0;a<Math.min(c,e);a++)for(let e=0;e<Math.min(s,l);e++){const u=a*s+e,r=a*l+e;n[u]&&(t[r]=n[u])}return t})(g))})({newWidth:l,newHeight:e,stateRef:D,setMapWidth:u,setMapHeight:i,setTileMapData:s,setObjectMapData:d,setSecretMapData:p,setObjectMetadata:f})},isResizeWindowOpen:J,setIsResizeWindowOpen:K,mapWidth:a,mapHeight:r,tileMapData:o,objectMapData:c,objectMetadata:g,registryItems:l,backgroundOptions:al,selectedBackgroundImage:rl,setSelectedBackgroundImage:il,selectedBackgroundColor:cl,setSelectedBackgroundColor:dl,backgroundParallaxFactor:ol,setBackgroundParallaxFactor:sl,musicOptions:ul,selectedBackgroundMusic:hl,setSelectedBackgroundMusic:pl,weatherRain:gl,setWeatherRain:fl,weatherSnow:ml,setWeatherSnow:Al,weatherClouds:bl,setWeatherClouds:xl,weatherFog:_l,setWeatherFog:wl,weatherThunder:yl,setWeatherThunder:kl,weatherLavaRain:vl,setWeatherLavaRain:Ml,weatherRadioactiveFog:Sl,setWeatherRadioactiveFog:Cl,weatherMeteorRain:Il,setWeatherMeteorRain:El,maps:Bl,activeMapId:Tl,switchMap:Gl,createMap:Wl,deleteMap:Pl,updateMapData:Ql}),ge?(0,Nl.jsxs)("div",{style:{flex:1,position:"relative",backgroundColor:"#000"},children:[(0,Nl.jsx)(Qe,{mapWidth:a,mapHeight:r,tileSize:C,tileMapData:o,objectMapData:_e,secretMapData:we,revealedSecrets:ve||[],registryItems:l,playerState:Me,playerVisuals:e,projectiles:Me?.projectiles||[],objectMetadata:g,backgroundImage:_?rl:null,backgroundColor:cl,backgroundParallaxFactor:ol,weatherRain:ye.rain,weatherLavaRain:ye.lavaRain,weatherSnow:ye.snow,weatherMeteorRain:ye.meteorRain,weatherClouds:ye.clouds,weatherFog:ye.fog,weatherRadioactiveFog:ye.radioactiveFog,weatherThunder:ye.thunder,onWeatherEffectHit:(l,e)=>xe("weatherEffectHit",{type:l,data:e}),isEditor:!1,isEditorPlayMode:!0,showGrid:b}),Se&&(0,Nl.jsxs)(ia,{children:[(0,Nl.jsx)(oa,{children:"Game Over"}),(0,Nl.jsx)(sa,{onClick:be,children:"REPLAY \u21bb"})]}),ke.text&&(0,Nl.jsx)(ra,{$isVisible:ke.isVisible,children:(0,Nl.jsx)("h2",{children:ke.text})})]}):(0,Nl.jsx)(Hn,{mapWidth:a,mapHeight:r,selectedBackgroundUrl:Ul,selectedBackgroundColor:cl,selectedBackgroundImage:rl,showBackgroundImage:_,showGrid:b,activeLayer:E,activeTool:S,tileMapData:o,objectMapData:c,secretMapData:h,objectMetadata:g,registryItems:l,hoverIndex:De,highlightedIndex:F,brushSize:v,bucketPreviewIndices:Te,selection:te,previewPosition:ie,dragStart:R,isDragging:y,handleGridMouseDown:ze,handleGridMouseEnter:Pe,handleGridMouseUp:Ge,handleGridMouseLeave:Ye,handleResizeStart:We,handleMoveStart:Fe,setIsDragging:k,weatherRain:gl,weatherSnow:ml,weatherClouds:bl,weatherFog:_l,weatherThunder:yl,weatherLavaRain:vl,weatherRadioactiveFog:Sl,weatherMeteorRain:Il})]})]})]})]})};function da(){return(0,Nl.jsx)(Nl.Fragment,{children:(0,Nl.jsx)("p",{children:"Crystals"})})}function ha(){const l=ql(),e={border:"1px solid #ccc",borderRadius:"8px",padding:"10px",width:"200px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#f9f9f9"},n={width:"64px",height:"64px",objectFit:"contain",imageRendering:"pixelated",marginBottom:"10px",border:"1px dashed #aaa"},t={width:"100%",fontSize:"12px",textAlign:"left"};return(0,Nl.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",padding:"20px"},children:[l.map((l,a)=>(0,Nl.jsxs)("div",{style:e,children:[l.textures&&l.textures.length>0?(0,Nl.jsx)(Vn,{textures:l.textures,texture:l.texture,speed:l.animationSpeed,style:n,alt:l.name}):(0,Nl.jsx)("img",{src:l.texture,alt:l.name,style:n,onError:l=>{l.target.style.display="none"}}),(0,Nl.jsx)("div",{style:t,children:Object.entries(l).filter(([l])=>!["texture","textures","animationSpeed"].includes(l)).map(([l,e])=>(0,Nl.jsxs)("div",{style:{marginBottom:"4px",wordBreak:"break-all"},children:[(0,Nl.jsxs)("strong",{children:[l,":"]}),(0,Nl.jsx)("span",{style:{marginLeft:"5px",color:"#555"},children:"object"===typeof e?JSON.stringify(e):String(e)})]},l))})]},l.id||a)),0===l.length&&(0,Nl.jsx)("p",{children:"No items found in registry."})]})}a.createRoot(document.getElementById("root")).render((0,Nl.jsx)(r.Kq,{store:vl,children:(0,Nl.jsxs)(i.NP,{theme:Ml,children:[(0,Nl.jsx)(Sl,{}),(0,Nl.jsx)(u.Kd,{basename:"/element_masters",children:(0,Nl.jsx)(u.BV,{children:(0,Nl.jsxs)(u.qh,{path:"/",element:(0,Nl.jsx)(Zl,{}),children:[(0,Nl.jsx)(u.qh,{index:!0,element:(0,Nl.jsx)(ne,{})}),(0,Nl.jsx)(u.qh,{path:"game",element:(0,Nl.jsx)(Wn,{})}),(0,Nl.jsx)(u.qh,{path:"editor",element:(0,Nl.jsx)(ca,{})}),(0,Nl.jsx)(u.qh,{path:"crystals",element:(0,Nl.jsx)(da,{})}),(0,Nl.jsx)(u.qh,{path:"repository",element:(0,Nl.jsx)(ha,{})})]})})})]})}))}},l=>{l.O(0,[382,96],()=>{return e=9970,l(l.s=e);var e});l.O()}]);
//# sourceMappingURL=main.6c2b880c.js.map