kJ,SAAW,EAChBlJ,KAAKmJ,aAAenJ,KAAKoK,MAAM,IAAK,KACpCpK,KAAKqJ,MAAMrH,MAAQ,CACrB,CAEAwH,UAAAA,GACE,GAAKxJ,KAAKqJ,MAAV,CACArJ,KAAKiJ,WAAY,EACjBjJ,KAAKkJ,SAAW,EAChBlJ,KAAKmJ,aAAe,EACpB,IAAMnJ,KAAKqJ,MAAMxI,OAAS,CAAE,MAAO,CAJZ,CAKzB,CAEA0J,YAAAA,CAAaiB,EAAQC,GAEnB,MAAMC,EAAU1L,KAAKgB,KAAKkD,UAC1B,GAAuB,oBAAZwH,EAAwB,OAAO,KAC1C,IAAK,IAAI5iB,EAAI,EAAGA,EAAI2iB,EAAM3iB,GAAK,EAC7B,GAAI4iB,EAAQF,EAAQ1iB,GAClB,OAAOA,EAGX,OAAO,IACT,CAEAshB,KAAAA,CAAMlC,EAAGC,GAEP,YADU1gB,IAAN0gB,IAAmBA,EAAID,EAAGA,EAAI,GAC3BA,EAAItd,KAAKqX,UAAYkG,EAAID,EAClC,CAEA+B,KAAAA,CAAM/B,EAAGC,EAAGxR,GAAK,OAAOuR,GAAKC,EAAID,GAAKvR,CAAG,EClN5B,MAAMgV,GACnB5L,WAAAA,CAAYgB,GACVf,KAAKe,UAAYA,EACjBf,KAAK4L,KAAO,IAAIC,GAAAA,IAChB7L,KAAKe,UAAUqB,SAASpC,KAAK4L,MAC7B5L,KAAK8L,SAAW,GAChB9L,KAAK+L,MAAQ,GACb/L,KAAKgM,YAAc,GACnBhM,KAAKiM,SAAW,CAClB,CAEA1I,OAAAA,GACE,IAAMvD,KAAK4L,KAAKvI,QAAUrD,KAAK4L,KAAKvI,OAAOC,YAAYtD,KAAK4L,KAAO,CAAE,MAAO,CAC5E,IAAM5L,KAAK4L,KAAKrI,QAAQ,CAAEjM,UAAU,GAAS,CAAE,MAAO,CACtD0I,KAAK4L,KAAO,KACZ5L,KAAK8L,SAAW,GAChB9L,KAAK+L,MAAQ,EACf,CAEAtE,MAAAA,GAAU,CAEVyE,OAAAA,EAAQ,EAAErjB,EAAI,EAAC,EAAEC,EAAI,EAAC,SAAEU,EAAW,EAAC,OAAE2iB,GAAS,GAAU,CAAC,GACxD,MAAMC,EAAIxhB,KAAKC,IAAI,GAAKD,KAAKE,IAAI,EAAG4W,OAAOlY,IAAa,IAExD,GAAIwW,KAAK+L,MAAM3O,OAAS4C,KAAKiM,SAAU,CACrC,MAAMrK,EAAI,IAAIC,GAAAA,IACdD,EAAE/Y,EAAI,EAAG+Y,EAAE9Y,EAAI,EAAG8Y,EAAEI,MAAQ,GAC5BhC,KAAK4L,KAAKxJ,SAASR,GACnB5B,KAAK+L,MAAM7jB,KAAK,CAAE0Z,IAAG/Y,IAAGC,IAAGqU,EAAG,EAAI,EAAIiP,EAAGC,GAAI,IAAO,IAAOD,EAAGvH,KAAM,EAAGha,IAAK,IAAM,IAAMuhB,GAC1F,CAEA,MAAMvG,EAAQjb,KAAK2W,MAAM,EAAI,GAAK6K,GAClC,IAAK,IAAInJ,EAAI,EAAGA,EAAI4C,GAAS7F,KAAK8L,SAAS1O,OAAS4C,KAAKgM,YAAa/I,IAAK,CACzE,MAAMoI,EAAMc,EAAqB,KAAVvhB,KAAKyb,GAAYzb,KAAKqX,SAAWrX,KAAKyb,GAAK,GAAkB,GAAVzb,KAAKyb,IAAYzb,KAAKqX,SAAW,IAAOrX,KAAKyb,GAAK,GACtHiG,GAAO,IAAuB,IAAhB1hB,KAAKqX,WAAoBkK,EAAS,IAAM,IAAM,GAAM,GAAMC,GACxExK,EAAI,IAAIC,GAAAA,IACdD,EAAE/Y,EAAI,EAAG+Y,EAAE9Y,EAAI,EAAG8Y,EAAEI,MAAQ,EAC5BhC,KAAK4L,KAAKxJ,SAASR,GACnB5B,KAAK8L,SAAS5jB,KAAK,CAAE0Z,IAAG/Y,IAAGC,IAAGG,GAAI2B,KAAK4b,IAAI6E,GAAOiB,EAAKpjB,GAAI0B,KAAKqa,IAAIoG,GAAOiB,EAAKzH,KAAM,EAAGha,IAAK,IAAsB,IAAhBD,KAAKqX,UAC3G,CACF,CAEAM,MAAAA,CAAOC,GACL,MAAMgB,EAAK5Y,KAAKC,IAAI,EAAG6W,OAAOc,IAAS,OAEvC,IAAK,IAAIS,EAAIjD,KAAK8L,SAAS1O,OAAS,EAAG6F,GAAK,EAAGA,IAAK,CAClD,MAAMsJ,EAAIvM,KAAK8L,SAAS7I,GACxBsJ,EAAE1H,MAAQrB,EACV+I,EAAErjB,IAAM,MAASsa,EACjB+I,EAAE1jB,GAAK0jB,EAAEtjB,GAAKua,EACd+I,EAAEzjB,GAAKyjB,EAAErjB,GAAKsa,EACd,MAAM7M,EAAI/L,KAAKE,IAAI,EAAGyhB,EAAE1H,KAAO0H,EAAE1hB,KAC3BmX,EAAQ,EAAIrL,EACZ6V,EAAO,EAAI,KAAO,EAAI7V,GACtBiL,EAAI2K,EAAE3K,EAGZ,GAHeA,EAAEf,QACjBe,EAAE8C,OAAO6H,EAAE1jB,EAAG0jB,EAAEzjB,EAAG0jB,GACnB5K,EAAEG,KAAK,CAAEtH,MAAO,SAAUuH,MAAOpX,KAAKC,IAAI,EAAGmX,KACzCuK,EAAE1H,MAAQ0H,EAAE1hB,IAAK,CACnB,IAAM+W,EAAEyB,QAAUzB,EAAEyB,OAAOC,YAAY1B,EAAI,CAAE,MAAO,CACpD,IAAMA,EAAE2B,SAAW,CAAE,MAAO,CAC5BvD,KAAK8L,SAASxH,OAAOrB,EAAG,EAC1B,CACF,CAEA,IAAK,IAAIA,EAAIjD,KAAK+L,MAAM3O,OAAS,EAAG6F,GAAK,EAAGA,IAAK,CAC/C,MAAM9F,EAAI6C,KAAK+L,MAAM9I,GACrB9F,EAAE0H,MAAQrB,EACVrG,EAAEA,GAAKA,EAAEkP,GAAK7I,EACd,MACMxB,EAAQ,IAAO,EADXpX,KAAKE,IAAI,EAAGqS,EAAE0H,KAAO1H,EAAEtS,MAE3B+W,EAAIzE,EAAEyE,EAGZ,GAHeA,EAAEf,QACjBe,EAAE8C,OAAOvH,EAAEtU,EAAGsU,EAAErU,EAAGqU,EAAEA,GACrByE,EAAEmJ,OAAO,CAAEhiB,MAAO,IAAK0R,MAAO,SAAUuH,MAAOpX,KAAKC,IAAI,EAAGmX,KACvD7E,EAAE0H,MAAQ1H,EAAEtS,IAAK,CACnB,IAAM+W,EAAEyB,QAAUzB,EAAEyB,OAAOC,YAAY1B,EAAI,CAAE,MAAO,CACpD,IAAMA,EAAE2B,SAAW,CAAE,MAAO,CAC5BvD,KAAK+L,MAAMzH,OAAOrB,EAAG,EACvB,CACF,CACF,EC9Ea,MAAMwJ,GACnB1M,WAAAA,CAAYgB,EAAWC,EAAKC,GAC1BjB,KAAKe,UAAYA,EACjBf,KAAKgB,IAAMA,GAAO,CAAC,EACnBhB,KAAKiB,aAAeA,GAAgB,KAAO,GAC3CjB,KAAK4L,KAAO,IAAIC,GAAAA,IAChB7L,KAAKe,UAAUqB,SAASpC,KAAK4L,MAC7B5L,KAAKoB,UAAY,EACjBpB,KAAK/E,KAAO,EACZ+E,KAAK0M,SAAW,EAChB1M,KAAK2M,OAAS,GACd3M,KAAK4M,UAAY,GACjB5M,KAAK6M,SAAW,EAClB,CAEAtJ,OAAAA,GACE,IAAMvD,KAAK4L,KAAKvI,QAAUrD,KAAK4L,KAAKvI,OAAOC,YAAYtD,KAAK4L,KAAO,CAAE,MAAO,CAC5E,IAAM5L,KAAK4L,KAAKrI,QAAQ,CAAEjM,UAAU,GAAS,CAAE,MAAO,CACtD0I,KAAK2M,OAAS,GACd3M,KAAK6M,SAAW,EAClB,CAEArL,YAAAA,CAAaC,GACX,MAAMmE,EAAKhb,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4W,OAAOD,IAAM,IAClDzB,KAAKoB,UAAYwE,CACnB,CAEA6B,MAAAA,GAAU,CAEVqF,eAAAA,EAAgB,SAAE1mB,EAAQ,UAAEC,EAAS,SAAE6a,EAAQ,YAAEpb,EAAW,cAAEinB,IAC5D,MAAMC,EAAUhoB,GAAO2X,MAAMC,QAAQmQ,GAAiBA,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOA,GAAM,KACvFioB,EAAUC,MAAWA,GAAOA,EAAIC,OAASD,EAAIC,MAAMC,MACnDzG,EAAIvgB,EAAUqjB,EAAIpjB,EAAWgnB,EAAKnM,EAClCoM,EAAQ,GACd,IAAK,IAAIC,EAAK,EAAGA,EAAK9D,EAAG8D,IAAM,CAC7B,IAAIC,GAAY,EAChB,IAAK,IAAIC,EAAK,EAAGA,EAAK9G,EAAG8G,IAAM,CAC7B,MACMzoB,EAAKc,EADCynB,EAAK5G,EAAI8G,GAErB,IAAKzoB,EAAI,EAAoB,IAAdwoB,IAAmBA,GAAY,GAAK,QAAU,CAC7D,MAAMN,EAAMF,EAAOhoB,GAEb0oB,EAAYH,EAAK,GAAKN,EAAOD,EAAOlnB,GADxBynB,EAAK,GAAK5G,EAAI8G,KAIhC,GAFiBR,EAAOC,KACOQ,GAEX,IAAdF,IAAiBA,EAAWC,QAEhC,IAAkB,IAAdD,EAAiB,CACnB,MAAM1H,GAAK2H,EAAKD,GAAYH,EACxBvH,EAAI,GAAGwH,EAAMplB,KAAK,CAAEW,EAAG2kB,EAAWH,EAAIvkB,EAAGykB,EAAKF,EAAIvH,MACtD0H,GAAY,CACd,CAEJ,CACA,IAAkB,IAAdA,EAAiB,CACnB,MAAM1H,GAAKa,EAAI6G,GAAYH,EACvBvH,EAAI,GAAGwH,EAAMplB,KAAK,CAAEW,EAAG2kB,EAAWH,EAAIvkB,EAAGykB,EAAKF,EAAIvH,KACxD,CACF,CACA9F,KAAK6M,SAAWS,CAClB,CAEAK,SAAAA,GACE,IAAK3N,KAAK6M,SAASzP,OAAQ,OAC3B,GAAI4C,KAAK2M,OAAOvP,QAAU4C,KAAK4M,UAAW,OAC1C,MAAMR,EAAIpM,KAAK6M,SAASjiB,KAAK2W,MAAM3W,KAAKqX,SAAWjC,KAAK6M,SAASzP,SAC3DvU,EAAIujB,EAAEvjB,EAAI+B,KAAKqX,SAAWmK,EAAEtG,EAC5Bhd,EAAIsjB,EAAEtjB,EAAI,EACV8Y,EAAI,IAAIC,GAAAA,IACd7B,KAAK4L,KAAKxJ,SAASR,GACnB,MAAM3Y,EAA6B,KAAvB2B,KAAKqX,SAAW,IACtB/Y,GAAM,IAAuB,IAAhB0B,KAAKqX,SACFpX,EAAM,KAAuB,KAAhBD,KAAKqX,SACxCjC,KAAK2M,OAAOzkB,KAAK,CAAE0Z,IAAG/Y,IAAGC,IAAGG,KAAIC,KAAI2b,KADvB,EAC6Bha,MAAK+iB,MAAO,IACxD,CAEArL,MAAAA,CAAOC,GACL,MAAMgB,EAAK5Y,KAAKC,IAAI,EAAG6W,OAAOc,IAAS,OAEjCkE,EAAM9b,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKkV,KAAKiB,iBAE3C,GADAjB,KAAKwB,aAAakF,GACd1G,KAAKoB,WAAa,EAAG,OAGzB,MAAMyM,EAAW,MAAmB7N,KAAKoB,UAAY,IAA3B,MACpB0M,EAAOljB,KAAKC,IAAI,GAAKD,KAAKE,IAAI,EAAGkV,KAAK6M,SAASzP,OAAS,IAE9D,IADA4C,KAAK0M,UAAYlJ,EAAKqK,EAAWC,EAC1B9N,KAAK0M,UAAY,GACtB1M,KAAK2N,YACL3N,KAAK0M,UAAY,EAInB,IAAK,IAAIzJ,EAAIjD,KAAK2M,OAAOvP,OAAS,EAAG6F,GAAK,EAAGA,IAAK,CAChD,MAAM7d,EAAI4a,KAAK2M,OAAO1J,GACtB7d,EAAEyf,MAAQrB,EAEVpe,EAAE8D,IAAM,KAAUsa,EAClBpe,EAAEyD,GAAKzD,EAAE6D,GAAKua,EACdpe,EAAE0D,GAAK1D,EAAE8D,GAAKsa,EAEVpe,EAAEwoB,MAAMxQ,OAAS,IACdhY,EAAEwoB,MAAMG,QADU3oB,EAAEwoB,MAAM1lB,KAAK,CAAEW,EAAGzD,EAAEyD,EAAGC,EAAG1D,EAAE0D,IAGrD,MAAM6N,EAAI/L,KAAKE,IAAI,EAAG1F,EAAEyf,KAAOzf,EAAEyF,KAC3BmjB,EAAa,EAAIrX,EACjBsX,EAAY,EAAI,KAAO,EAAItX,GAC3BiL,EAAIxc,EAAEwc,EAAGA,EAAEf,QAEjB,IAAK,IAAIuF,EAAI,EAAGA,EAAIhhB,EAAEwoB,MAAMxQ,OAAQgJ,IAAK,CACvC,MAAM8H,EAAK9oB,EAAEwoB,MAAMxH,EAAI,GAAU+H,EAAK/oB,EAAEwoB,MAAMxH,GAC9CxE,EAAEiJ,OAAOqD,EAAGrlB,EAAGqlB,EAAGplB,GAClB8Y,EAAEkJ,OAAOqD,EAAGtlB,EAAGslB,EAAGrlB,EACpB,CAOA,GANA8Y,EAAEmJ,OAAO,CAAEhiB,MAAO,EAAG0R,MAAO,QAAUuH,MAAO,IAAOgM,IAGpDpM,EAAE8C,OAAOtf,EAAEyD,EAAGzD,EAAE0D,EAAGmlB,GACnBrM,EAAEG,KAAK,CAAEtH,MAAO,SAAUuH,MAAO,GAAMgM,IAEnC5oB,EAAEyf,MAAQzf,EAAEyF,IAAK,CACnB,IAAM+W,EAAEyB,QAAUzB,EAAEyB,OAAOC,YAAY1B,EAAI,CAAE,MAAO,CACpD,IAAMA,EAAE2B,SAAW,CAAE,MAAO,CAC5BvD,KAAK2M,OAAOrI,OAAOrB,EAAG,EACxB,CACF,CACF,ECjIa,MAAMmL,GACnBrO,WAAAA,CAAYgB,GACVf,KAAKe,UAAYA,EACjBf,KAAK4L,KAAO,IAAIC,GAAAA,IAChB7L,KAAKe,UAAUqB,SAASpC,KAAK4L,MAC7B5L,KAAKqO,MAAQ,GACbrO,KAAKsO,SAAW,EAClB,CAEA/K,OAAAA,GACE,IAAMvD,KAAK4L,KAAKvI,QAAUrD,KAAK4L,KAAKvI,OAAOC,YAAYtD,KAAK4L,KAAO,CAAE,MAAO,CAC5E,IAAM5L,KAAK4L,KAAKrI,QAAQ,CAAEjM,UAAU,GAAS,CAAE,MAAO,CACtD0I,KAAK4L,KAAO,KACZ5L,KAAKqO,MAAQ,EACf,CAEA5G,MAAAA,GAAU,CAEVyE,OAAAA,EAAQ,EAAErjB,EAAI,EAAC,EAAEC,EAAI,EAAC,SAAEU,EAAW,IAAQ,CAAC,GAC1C,MAAM4iB,EAAIxhB,KAAKC,IAAI,GAAKD,KAAKE,IAAI,IAAK4W,OAAOlY,IAAa,KACpDqc,EAAQjb,KAAKC,IAAI,EAAGD,KAAK2W,MAAM,EAAI,EAAI6K,IAC7C,IAAK,IAAInJ,EAAI,EAAGA,EAAI4C,GAAS7F,KAAKqO,MAAMjR,OAAS4C,KAAKsO,SAAUrL,IAAK,CACnE,MAAMrB,EAAI,IAAIC,GAAAA,IACd7B,KAAK4L,KAAKxJ,SAASR,GACnB,MAAM3Y,GAAM2B,KAAKqX,SAAW,KAAQ,IAAO,IAAOmK,GAC5CljB,IAAO,IAAuB,IAAhB0B,KAAKqX,WAAoB,GAAM,GAAMmK,GACnDjP,EAAI,IAAMvS,KAAKqX,UAAY,IAAMmK,GACjCvhB,EAAM,IAAsB,IAAhBD,KAAKqX,SACvBjC,KAAKqO,MAAMnmB,KAAK,CAAE0Z,IAAG/Y,IAAGC,EAAGA,EAAI,EAAGG,KAAIC,KAAI2b,KAAM,EAAGha,MAAKsS,KAC1D,CACF,CAEAoF,MAAAA,CAAOC,GACL,MAAMgB,EAAK5Y,KAAKC,IAAI,EAAG6W,OAAOc,IAAS,OACvC,IAAK,IAAIS,EAAIjD,KAAKqO,MAAMjR,OAAS,EAAG6F,GAAK,EAAGA,IAAK,CAC/C,MAAMvX,EAAIsU,KAAKqO,MAAMpL,GACrBvX,EAAEmZ,MAAQrB,EACV9X,EAAE7C,GAAK6C,EAAEzC,GAAKua,EACd9X,EAAE5C,GAAK4C,EAAExC,GAAKsa,EAEd,MAAM7M,EAAI/L,KAAKE,IAAI,EAAGY,EAAEmZ,KAAOnZ,EAAEb,KAC3BmX,EAAQ,KAAQ,EAAIrL,GACpB4X,EAAS7iB,EAAEyR,GAAK,EAAI,GAAMxG,GAC1BiL,EAAIlW,EAAEkW,EAIZ,GAJeA,EAAEf,QAEjBe,EAAE8C,OAAOhZ,EAAE7C,EAAG6C,EAAE5C,EAAGylB,GACnB3M,EAAEG,KAAK,CAAEtH,MAAO,SAAUuH,MAAOpX,KAAKC,IAAI,EAAGmX,KACzCtW,EAAEmZ,MAAQnZ,EAAEb,IAAK,CACnB,IAAM+W,EAAEyB,QAAUzB,EAAEyB,OAAOC,YAAY1B,EAAI,CAAE,MAAO,CACpD,IAAMA,EAAE2B,SAAW,CAAE,MAAO,CAC5BvD,KAAKqO,MAAM/J,OAAOrB,EAAG,EACvB,CACF,CACF,EChDa,MAAMuL,GACnBzO,WAAAA,CAAYgB,EAAW0N,EAAO,CAAC,GAC7BzO,KAAKe,UAAYA,EACjBf,KAAK5Z,SAAWqoB,EAAKroB,UAAY,EACjC4Z,KAAK3Z,UAAYooB,EAAKpoB,WAAa,EACnC2Z,KAAKkB,SAAWuN,EAAKvN,UAAY,GACjClB,KAAK0O,SAAW,GAChB1O,KAAK2O,UAAY,KACjB3O,KAAK4O,SAAW,KAChB5O,KAAK6O,MAAQ,EACb7O,KAAK8O,UAAY,KACjB9O,KAAK+O,aAAe,IACtB,CAEAC,cAAAA,CAAeC,GACbjP,KAAK+O,aAAeE,CACtB,CAEAC,oBAAAA,CAAqBC,GACnB,IAAKnP,KAAK+O,eAAiBI,IAAWA,EAAOvD,KAAM,OAAO,EAC1D,MAAMlgB,EAAIsU,KAAK+O,aACTK,EAAK1jB,EAAE7C,GAAK,EACZwmB,EAAK3jB,EAAE5C,GAAK,EACZwmB,EAAK5jB,EAAE3C,OAAS,GAChBwmB,EAAK7jB,EAAE1C,QAAU,GAEjBmf,EAAIgH,EAAOvD,KAAK4D,YACtB,OAAQJ,EAAKE,EAAKnH,EAAEtf,GAAKumB,EAAKjH,EAAEtf,EAAIsf,EAAEpf,OAASsmB,EAAKE,EAAKpH,EAAErf,GAAKumB,EAAKlH,EAAErf,EAAIqf,EAAEnf,MAC/E,CAGAymB,WAAAA,CAAYhhB,EAAM5F,GAChB,IAAK8T,MAAMC,QAAQoD,KAAK0O,WAAsC,IAAzB1O,KAAK0O,SAAStR,OAAc,OAAO,KACxE,MAAMsS,EAAI9kB,KAAKC,IAAI,EAAGD,KAAK2W,MAAMG,OAAO7Y,IAAM,IAC9C,IAAK,MAAMsU,KAAK6C,KAAK0O,SACnB,GAAIvR,EAAE1O,OAASA,GACVkO,MAAMC,QAAQO,EAAEwS,UACrB,IAAK,IAAI1M,EAAI,EAAGA,EAAI9F,EAAEwS,SAASvS,OAAQ6F,IAAK,CAC1C,MAAM7d,EAAI+X,EAAEwS,SAAS1M,GACrB,GAAIyM,GAAKtqB,EAAEyD,GAAK6mB,GAAKtqB,EAAEyD,EAAIzD,EAAE0gB,EAC3B,OAAO1gB,EAAE0D,CAEb,CAEF,OAAO,IACT,CAEAya,OAAAA,GACE,IACE,IAAK,MAAMpG,KAAK6C,KAAK0O,SAAU,CAC7B,IAAUvR,EAAEyO,MAAQzO,EAAEyO,KAAKvI,QAAQlG,EAAEyO,KAAKvI,OAAOC,YAAYnG,EAAEyO,KAAO,CAAE,MAAO,CAC/E,IAAMzO,EAAEyO,MAAMrI,QAAQ,CAAEjM,UAAU,GAAS,CAAE,MAAO,CACtD,CACF,CAAE,MAAO,CACT0I,KAAK0O,SAAW,GAChB,IAAM1O,KAAK2O,WAAWpL,SAAQ,EAAO,CAAE,MAAO,CAC9C,IAAMvD,KAAK4O,UAAUrL,SAAQ,EAAO,CAAE,MAAO,CAC7C,IAAMvD,KAAK8O,WAAWvL,SAAQ,EAAO,CAAE,MAAO,CAC9CvD,KAAK2O,UAAY,KACjB3O,KAAK4O,SAAW,KAChB5O,KAAK8O,UAAY,IACnB,CAEAjO,KAAAA,GACE,IAAK,MAAM1D,KAAK6C,KAAK0O,SAAU,CAC7B,IAAMvR,EAAEyO,MAAMvI,QAAUlG,EAAEyO,KAAKvI,OAAOC,YAAYnG,EAAEyO,KAAO,CAAE,MAAO,CACpE,IAAMzO,EAAEyO,MAAMrI,QAAQ,CAAEjM,UAAU,GAAS,CAAE,MAAO,CACtD,CACA0I,KAAK0O,SAAW,EAClB,CAEAjH,MAAAA,CAAOrhB,EAAUC,EAAW6a,GAC1B,MAAM0O,EAAKhlB,KAAKC,IAAI,EAAc,EAAXzE,GACjBypB,EAAKjlB,KAAKC,IAAI,EAAe,EAAZxE,GACjBypB,EAAKllB,KAAKC,IAAI,EAAc,EAAXqW,GACjB6O,EAAUH,IAAO5P,KAAK5Z,UAAYypB,IAAO7P,KAAK3Z,WAAaypB,IAAO9P,KAAKkB,SAE7E,GADAlB,KAAK5Z,SAAWwpB,EAAI5P,KAAK3Z,UAAYwpB,EAAI7P,KAAKkB,SAAW4O,EACrDC,EAAS,CAEX,IAAM/P,KAAK2O,WAAWpL,SAAQ,EAAO,CAAE,MAAO,CAC9C,IAAMvD,KAAK4O,UAAUrL,SAAQ,EAAO,CAAE,MAAO,CAC7CvD,KAAK2O,UAAY,KAAM3O,KAAK4O,SAAW,IACzC,CACF,CAEArM,MAAAA,CAAOC,GACL,MAAMgB,EAAK5Y,KAAKC,IAAI,EAAG6W,OAAOc,IAAS,OACvCxC,KAAK6O,OAASrL,EAEd,MAAMwM,EAAa,CAAEnnB,EAAG,IAAOC,EAAG,MAC5BmnB,EAAY,CAAEpnB,GAAI,KAAOC,EAAG,MAClC,IAAK,MAAMqU,KAAK6C,KAAK0O,SAAU,CAC7B,MAAMwB,EAAS/S,EAAE+S,OACjB,IAAKA,EAAQ,SACb,MAAMvL,EAAmB,SAAXxH,EAAE1O,KAAkBwhB,EAAYD,EAK9C,GAJAE,EAAOtI,aAAa/e,GAAK8b,EAAM9b,EAAI2a,EACnC0M,EAAOtI,aAAa9e,GAAK6b,EAAM7b,EAAI0a,EAGpB,UAAXrG,EAAE1O,KAAkB,CAEtB,MAAM0hB,EAAiBnQ,KAAKkP,qBAAqB/R,GAE/C+S,EAAOlO,MADLmO,EACa,GAEA,GAEnB,KAAO,CAEL,MAAMA,EAAiBnQ,KAAKkP,qBAAqB/R,GAE/C+S,EAAOlO,MADLmO,EACa,GAEA,GAEnB,CAcA,GAXIhT,EAAEiT,SACJjT,EAAEiT,OAAOxI,aAAa/e,GAAe,IAAV8b,EAAM9b,EAAU2a,EAC3CrG,EAAEiT,OAAOxI,aAAa9e,GAAe,IAAV6b,EAAM7b,EAAU0a,GAEzCrG,EAAEkT,SACJlT,EAAEkT,OAAOzI,aAAa/e,GAAgB,KAAV8b,EAAM9b,EAAU2a,EAC5CrG,EAAEkT,OAAOzI,aAAa9e,GAAe,GAAV6b,EAAM7b,EAAU0a,GAIxC7G,MAAMC,QAAQO,EAAEmT,SAAQnT,EAAEmT,MAAQ,IACnCnT,EAAEmT,MAAMlT,OACV,IAAK,IAAI6F,EAAI9F,EAAEmT,MAAMlT,OAAS,EAAG6F,GAAK,EAAGA,IAAK,CAC5C,MAAM6C,EAAI3I,EAAEmT,MAAMrN,GAClB6C,EAAEnP,GAAK6M,EAEP,MAAMqB,EAAkB,UAAX1H,EAAE1O,KAAmBqX,EAAEyK,YAAczK,EAAE0K,WACpD,GAAI1K,EAAEnP,GAAKkO,EAAM,CAAE1H,EAAEmT,MAAMhM,OAAOrB,EAAG,GAAI,QAAU,CAEnD6C,EAAEyI,OAASzI,EAAE2K,YAAc3K,EAAE5D,OAAS4D,EAAEnP,EAAI,KAE5C,MAAM+Z,EAAQ9lB,KAAK+lB,KAAK7K,EAAEnP,GAAgB,UAAXwG,EAAE1O,KAAmB,KAAO,MAC3DqX,EAAE8K,OAAS9K,EAAE+K,IAAMH,CACrB,CAIF,GAAe,UAAXvT,EAAE1O,MAAoB0O,EAAE2T,MAAQnU,MAAMC,QAAQO,EAAEwS,WAAaxS,EAAEwS,SAASvS,OAAQ,CAClF,MAAMwE,EAAIzE,EAAE2T,KACND,EAAMjmB,KAAKC,IAAI,EAAGD,KAAK2W,MAAsB,IAAhBvB,KAAKkB,WAClC0J,EAAYhgB,KAAKC,IAAI,EAAGD,KAAK2W,MAAsB,IAAhBvB,KAAKkB,WAC9CU,EAAEf,QACF,IAAK,IAAIoC,EAAI,EAAGA,EAAI9F,EAAEwS,SAASvS,OAAQ6F,IAAK,CAC1C,MAAM7d,EAAI+X,EAAEwS,SAAS1M,GAErB,IAAI8N,EAAKnmB,KAAKqa,IAAkB,KAAbjF,KAAK6O,MAAuB,IAANzpB,EAAEyD,IAAmB,GAANgoB,GAExD,GAAI1T,EAAEmT,OAASnT,EAAEmT,MAAMlT,OAAQ,CAE7B,MAAM4T,EAAU5rB,EAAEyD,EAAU,GAANzD,EAAE0gB,EACxB,IAAK,IAAIM,EAAI,EAAGA,EAAIjJ,EAAEmT,MAAMlT,OAAQgJ,IAAK,CACvC,MAAMN,EAAI3I,EAAEmT,MAAMlK,GACZ6K,EAAKD,EAAUlL,EAAES,GAEvB,GADa3b,KAAKwZ,IAAI6M,GACXnL,EAAEyI,OAAe,GAANnpB,EAAE0gB,EAAS,SACjC,MAAMoL,EAAQtmB,KAAKC,IAAI,EAAc,GAAXib,EAAEyI,QACtB4C,EAAQvmB,KAAK+lB,KAAMM,EAAKA,GAAO,EAAIC,EAAQA,IACjDH,GAAMjL,EAAE8K,OAASO,CACnB,CAEA,MAAMC,EAAUxmB,KAAKC,IAAI,EAAmB,IAAhBmV,KAAKkB,UAC7B6P,EAAKK,IAASL,EAAKK,GACnBL,GAAMK,IAASL,GAAMK,EAC3B,CACAxP,EAAEE,KAAK1c,EAAEyD,EAAGzD,EAAE0D,EAAI8hB,EAAYmG,EAAI3rB,EAAE0gB,EAAG8E,EACzC,CACAhJ,EAAEG,KAAK,CAAEtH,MAAO,SAAUuH,MAAO,KACnC,CACF,CACF,CAEAqP,KAAAA,EAAM,SAAEjrB,EAAQ,UAAEC,EAAS,SAAE6a,EAAQ,YAAEpb,EAAW,cAAEinB,IAClD,IAAKpQ,MAAMC,QAAQ9W,KAAiB6W,MAAMC,QAAQmQ,GAAgB,OAClE/M,KAAKyH,OAAOrhB,EAAUC,EAAW6a,GACjClB,KAAKa,QAEL,MAAM8F,EAAI3G,KAAK5Z,SACTqjB,EAAIzJ,KAAK3Z,UACTgnB,EAAKrN,KAAKkB,SACV2E,EAAQc,EAAI8C,EAGZ6H,EAAUrO,IACd,MAAMje,EAAKc,EAAYmd,GACvB,IAAKje,EAAI,OAAO,KAChB,MAAMkoB,EAJQloB,IAAO+nB,EAAc7P,KAAMC,GAAMA,EAAEnY,KAAOA,GAI5CgoB,CAAOhoB,GACnB,OAAKkoB,GAAQA,EAAIC,OAAUD,EAAIC,MAAMoE,OACjCrE,EAAIC,MAAMqE,MAAc,QACxBtE,EAAIC,MAAMC,KAAa,OACpB,SAH6C,MAMhDqE,EAAU,IAAIC,WAAW7L,GACzB8L,EAAO,CAAC,GAAI,EAAGhL,GAAIA,GAEzB,IAAK,IAAI1D,EAAI,EAAGA,EAAI4C,EAAO5C,IAAK,CAC9B,GAAIwO,EAAQxO,GAAI,SAChB,MAAMtM,EAAI2a,EAAOrO,GACjB,IAAKtM,EAAG,CAAE8a,EAAQxO,GAAK,EAAG,QAAU,CAGpC,MAAM2O,EAAc,GACdC,EAAQ,CAAC5O,GAEf,IADAwO,EAAQxO,GAAK,EACN4O,EAAMzU,QAAQ,CACnB,MAAMpV,EAAM6pB,EAAMzO,MAClBwO,EAAY1pB,KAAKF,GACjB,IAAK,IAAIukB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMjc,EAAItI,EAAM2pB,EAAKpF,GACrB,GAAIjc,EAAI,GAAKA,GAAKuV,EAAO,SACzB,GAAI4L,EAAQnhB,GAAI,SAEhB,GAAIic,EAAI,EAAG,CAGT,GAFY3hB,KAAK2W,MAAMvZ,EAAM2e,KAChB/b,KAAK2W,MAAMjR,EAAIqW,GACV,QACpB,CACW2K,EAAOhhB,KACPqG,GAAK8a,EAAQnhB,GAAK,EAAGuhB,EAAM3pB,KAAKoI,IACpCmhB,EAAQnhB,GAAKmhB,EAAQnhB,IAAM,CACpC,CACF,CAE2B,IAAvBshB,EAAYxU,QAChB4C,KAAK8R,WAAWnb,EAAGib,EAAajL,EAAG8C,EAAG4D,EACxC,CACF,CAEIyE,UAAAA,CAAWrjB,EAAMsjB,EAAa3rB,EAAUC,EAAW6a,GACjD,MAAM0K,EAAO,IAAIC,GAAAA,IACXmG,EAAO,IAAInQ,GAAAA,IAEXoQ,EAAS7rB,EAAW8a,EACpBgR,EAAS7rB,EAAY6a,EAE3B8Q,EAAKnR,QAEL,IAAK,IAAIuF,EAAI,EAAGA,EAAI2L,EAAY3U,OAAQgJ,IAAK,CAC3C,MAAMpe,EAAM+pB,EAAY3L,GAClBqH,EAAMzlB,EAAM5B,EACZmnB,EAAK3iB,KAAK2W,MAAMvZ,EAAM5B,GAC5B4rB,EAAKlQ,KACH2L,EAAKvM,EANK,EAOVqM,EAAKrM,EAPK,EAQVA,EAAWiR,EACXjR,EAAWiR,EAEf,CACAH,EAAKjQ,KAAK,CAAEtH,MAAO,SAAUuH,MAAO,IAEpC,MAAMzB,EAAe,SAAT9R,EAAmBuR,KAAK4O,WAAa5O,KAAK4O,SAAW5O,KAAKoS,mBAAmBlR,IACzDlB,KAAK2O,YAAc3O,KAAK2O,UAAY3O,KAAKqS,oBAAoBnR,IAGzFX,EAAI+R,QAAU/R,EAAI+R,OAAOnb,QAC3BoJ,EAAI+R,OAAOnb,MAAMob,YAAc,UAGjC,MAAMC,EAAS,IAAItL,GAAAA,IAAa,CAC9B1K,QAAS+D,EACTxX,MAAOkpB,EACPjpB,OAAQkpB,IAGVM,EAAOpL,UAAU1G,IAAI,EAAG,GACxB8R,EAAOxQ,MAAiB,SAATvT,EAAkB,IAAO,IACxCmd,EAAKxJ,SAASoQ,GAGd,MAAMzL,EAAW/G,KAAK8O,YAAc9O,KAAK8O,UAAY9O,KAAKgH,oBAAoB,IAAK,MAC/ED,EAASuL,QAAUvL,EAASuL,OAAOnb,QACrC4P,EAASuL,OAAOnb,MAAMob,YAAc,UAGtC,MAAMnC,EAAS,IAAIlJ,GAAAA,IAAa,CAAE1K,QAASuK,EAAUhe,MAAOkpB,EAAQjpB,OAAQkpB,IACtE7B,EAAS,IAAInJ,GAAAA,IAAa,CAAE1K,QAASuK,EAAUhe,MAAOkpB,EAAQjpB,OAAQkpB,IAa5E,GAXa,UAATzjB,GACF2hB,EAAOpO,MAAQ,IAAMqO,EAAOrO,MAAQ,KAEpCoO,EAAOpO,MAAQ,IAAMqO,EAAOrO,MAAQ,KAEtC4J,EAAKxJ,SAASgO,EAAQC,GAGtBzE,EAAKxJ,SAAS4P,GACdpG,EAAKoG,KAAOA,EAEC,UAATvjB,EAAkB,CACpB,MAAMqiB,EAAO,IAAIjP,GAAAA,IACjB+J,EAAKxJ,SAAS0O,GACd,MAAMnB,EAAW3P,KAAKyS,qBAAqBV,EAAa3rB,EAAU8a,GAElElB,KAAK0O,SAASxmB,KAAK,CAAEuG,OAAMmd,OAAMoG,OAAM9B,OAAQsC,EAAQpC,SAAQC,SAAQS,OAAMnB,WAAUW,MAAO,IAChG,MACEtQ,KAAK0O,SAASxmB,KAAK,CAAEuG,OAAMmd,OAAMoG,OAAM9B,OAAQsC,EAAQpC,SAAQC,SAAQC,MAAO,KAGhFtQ,KAAKe,UAAUqB,SAASwJ,EAC1B,CAEAyG,mBAAAA,CAAoBnR,GAClB,MAAMmH,EAASxO,SAASyO,cAAc,UAEtCD,EAAOtf,MADM,GACQsf,EAAOrf,OADf,GAEb,MAAMuf,EAAMF,EAAOG,WAAW,MAGxB5G,EAAI2G,EAAImK,qBAAqB,EAAG,EAAG,EAL5B,IAYb,OANA9Q,EAAE+Q,aAAa,EAAG,WAClB/Q,EAAE+Q,aAAa,GAAK,WACpB/Q,EAAE+Q,aAAa,EAAG,WAClBpK,EAAIqK,UAAYhR,EAChB2G,EAAIsK,SAAS,EAAG,EAVH,OAYNrS,GAAAA,IAAQC,KAAK4H,EACtB,CAEA+J,kBAAAA,CAAmBlR,GACjB,MAAMmH,EAASxO,SAASyO,cAAc,UAEtCD,EAAOtf,MADM,GACQsf,EAAOrf,OADf,GAEb,MAAMuf,EAAMF,EAAOG,WAAW,MAGxB5G,EAAI2G,EAAImK,qBAAqB,EAAG,EAAG,EAL5B,IAYb,OANA9Q,EAAE+Q,aAAa,EAAG,WAClB/Q,EAAE+Q,aAAa,GAAK,WACpB/Q,EAAE+Q,aAAa,EAAG,WAClBpK,EAAIqK,UAAYhR,EAChB2G,EAAIsK,SAAS,EAAG,EAVH,OAYNrS,GAAAA,IAAQC,KAAK4H,EAC1B,CAEArB,mBAAAA,CAAoBlB,EAAI,IAAKC,EAAI,KAC/B,MAAMsC,EAASxO,SAASyO,cAAc,UACtCD,EAAOtf,MAAQ+c,EAAGuC,EAAOrf,OAAS+c,EAClC,MAAMwC,EAAMF,EAAOG,WAAW,MAE9BD,EAAIqK,UAAY,UAChB,IAAI,IAAI3P,EAAE,EAAGA,EAAE,IAAKA,IAClBsF,EAAIuK,YAA8B,IAAhBloB,KAAKqX,SACvBsG,EAAIsK,SAASjoB,KAAKqX,SAAS6D,EAAGlb,KAAKqX,SAAS8D,EAAG,EAAG,GAGpD,OAAOvF,GAAAA,IAAQC,KAAK4H,EACtB,CAGAoK,oBAAAA,CAAqBV,EAAa3rB,EAAU8a,GAE1C,MAAMR,EAAM,IAAIqS,IAAIhB,GACdzE,EAAQ,GAER0F,EAAa,IAAI9S,IACvB,IAAK,MAAMlY,KAAO+pB,EAAa,CAC7B,MAAMxE,EAAK3iB,KAAK2W,MAAMvZ,EAAM5B,GACtBqnB,EAAKzlB,EAAM5B,EACX6sB,EAAQjrB,EAAM5B,EACpB,IAAKsa,EAAIJ,IAAI2S,GAAQ,CAEnB,MAAMC,EAAUF,EAAW7S,IAAIoN,IAAO,GACtC2F,EAAQhrB,KAAKulB,GACbuF,EAAWtS,IAAI6M,EAAI2F,EACrB,CACF,CAEA,IAAK,MAAO3F,EAAI4F,KAASH,EAAWI,UAAW,CAC7CD,EAAKE,KAAK,CAACnL,EAAGC,IAAMD,EAAIC,GACxB,IAAImL,EAAQ,KAAUC,EAAO,KAC7B,IAAK,MAAM9F,KAAM0F,EACD,OAAVG,EACA7F,IAAO8F,EAAO,GAElBjG,EAAMplB,KAAK,CAAEW,EAAGyqB,EAAQpS,EAAUpY,EAAGykB,EAAKrM,EAAU4E,GAAIyN,EAAOD,EAAQ,GAAKpS,IAC5EoS,EAAQ7F,EAAI8F,EAAO9F,GAHI8F,EAAO9F,GADR6F,EAAQ7F,EAAI8F,EAAO9F,GAM7B,OAAV6F,GACFhG,EAAMplB,KAAK,CAAEW,EAAGyqB,EAAQpS,EAAUpY,EAAGykB,EAAKrM,EAAU4E,GAAIyN,EAAOD,EAAQ,GAAKpS,GAEhF,CACA,OAAOoM,CACT,CAMAkG,OAAAA,CAAQ/kB,EAAM5F,EAAGW,EAAW,GAC1B,MAAMmN,EAAc,SAATlI,EAAmB,OAAS,QACjCihB,EAAI9kB,KAAKC,IAAI,EAAGD,KAAKE,IAAIkV,KAAK5Z,SAAW4Z,KAAKkB,SAAUQ,OAAO7Y,IAAM,IAE3E,IAAK,MAAMsU,KAAK6C,KAAK0O,SAAU,CAC7B,GAAIvR,EAAE1O,OAASkI,EAAG,SAClB,MAAM2W,EAAQnQ,EAAEwS,SAChB,GAAKhT,MAAMC,QAAQ0Q,IAA2B,IAAjBA,EAAMlQ,OACnC,IAAK,IAAI6F,EAAI,EAAGA,EAAIqK,EAAMlQ,OAAQ6F,IAAK,CACrC,MAAM7d,EAAIkoB,EAAMrK,GAChB,GAAIyM,GAAKtqB,EAAEyD,GAAK6mB,GAAKtqB,EAAEyD,EAAIzD,EAAE0gB,EAAG,CACzBnJ,MAAMC,QAAQO,EAAEmT,SAAQnT,EAAEmT,MAAQ,IAEnCnT,EAAEmT,MAAMlT,OAAS,IAAID,EAAEmT,MAAMvC,QACjC,MAAM+B,EAAK9P,KAAKkB,SACVkL,EAAIxhB,KAAKC,IAAI,IAAMD,KAAKE,IAAI,EAAG4W,OAAOlY,IAAa,IAEnDqnB,GADiB,UAANla,EAAsB,IAALmZ,EAAiB,GAALA,IACvB,GAAM,GAAMllB,KAAKE,IAAI,EAAKshB,IAC3ClK,EAAe,UAANvL,EAAkB,GAAK,GAAKyV,EAAM,GAAK,GAAKA,EACrDqE,EAAc7lB,KAAKC,IAAI,EAAQ,GAALilB,GAE1BS,EAAc,KAAO,IAAMnE,EAC3BoE,EAAa,IAAM,IAAMpE,EAE/B,OADAjP,EAAEmT,MAAMpoB,KAAK,CAAEqe,GAAImJ,EAAG/Y,EAAG,EAAGka,MAAKD,OAAQC,EAAK3O,QAAOqM,OAAQkC,EAAaA,cAAaF,cAAaC,gBAC7F,CACT,CACF,CACF,CACA,OAAO,CACT,EC9aK,MAAMiD,WAAkB5H,GAAAA,IAC7B9L,WAAAA,CAAY2T,EAAU,CAAC,GACrBC,QACA,MAAM,MACJ5qB,EAAQ,GAAE,OACVC,EAAS,EAAC,QACV4qB,EAAU,EAAC,QACXC,GAAU,EAAE,WACZC,EAAa,CAAExY,KAAM,IAAMvJ,OAAQ,KAAM,OACzCH,EAAS,CAAEmiB,GAAI,QAAUzY,KAAM,SAAUvJ,OAAQ,UAAU,WAE3DiiB,EAAa,QAAQ,YACrBC,EAAc,EAAQ,YACtBC,EAAc,IACZR,EAEJ1T,KAAKmU,GAAKvpB,KAAKC,IAAI,EAAGD,KAAK2W,MAAMxY,IACjCiX,KAAKoU,GAAKxpB,KAAKC,IAAI,EAAGD,KAAK2W,MAAMvY,IACjCgX,KAAKqU,MAAQ,EACbrU,KAAKsU,OAAS,SACdtU,KAAKuU,YAAcT,EACnB9T,KAAKwU,QAAU5iB,EACfoO,KAAKyU,YAAcT,EACnBhU,KAAK0U,aAAeT,EACpBjU,KAAK2U,aAAeT,EAEpBlU,KAAKnX,EAAI+qB,GAAW,EACpB5T,KAAKlX,EAAI+qB,GAAW,EAEpB7T,KAAK4U,OAAS,IAAI/S,GAAAA,IAClB7B,KAAK6U,MAAQ,IAAIhT,GAAAA,IACjB7B,KAAKoC,SAASpC,KAAK4U,QACnB5U,KAAKoC,SAASpC,KAAK6U,OAEnB7U,KAAK8U,YACP,CAEArN,MAAAA,CAAO1e,EAAOC,GACZ,MAAM8c,EAAIlb,KAAKC,IAAI,EAAGD,KAAK2W,MAAMxY,GAASiX,KAAKmU,KACzCpO,EAAInb,KAAKC,IAAI,EAAGD,KAAK2W,MAAMvY,GAAUgX,KAAKoU,KAC5CtO,IAAM9F,KAAKmU,IAAMpO,IAAM/F,KAAKoU,KAChCpU,KAAKmU,GAAKrO,EAAG9F,KAAKoU,GAAKrO,EACvB/F,KAAK8U,aACP,CAEAvS,MAAAA,CAAO7I,EAAS7O,GACd,MAAMwV,EAAIzV,KAAKC,IAAI,EAAG6W,OAAO7W,IAAQ,GACrC,GAAIwV,GAAK,IAAMqB,OAAOoC,SAASpK,GAE7B,YADAsG,KAAK+U,SAAU,GAGjB,MAAMC,EAAIpqB,KAAKC,IAAI,EAAGD,KAAKE,IAAIuV,EAAGqB,OAAOhI,KACnCub,EAAM5U,EAAI,EAAI2U,EAAI3U,EAAI,EAC5BL,KAAK+U,SAAU,EAEf,MAAMta,EAAQwa,EAAMjV,KAAKuU,YAAYxiB,OACjCiO,KAAKwU,QAAQziB,OACZkjB,EAAMjV,KAAKuU,YAAYjZ,KAAO0E,KAAKwU,QAAQlZ,KAAO0E,KAAKwU,QAAQT,IAGhEnpB,KAAKwZ,IAAI6Q,EAAMjV,KAAKqU,MAAQ,MAAS5Z,IAAUuF,KAAKsU,UACtDtU,KAAKqU,KAAOY,EACZjV,KAAKsU,OAAS7Z,EACduF,KAAKkV,cAET,CAEAJ,UAAAA,GAEE,MAAMhP,EAAI9F,KAAKmU,GAAIpO,EAAI/F,KAAKoU,GAC5BpU,KAAK4U,OAAO/T,QACZb,KAAK4U,OAAOO,UAAU,EAAG,EAAGrP,EAAGC,EAAGnb,KAAKE,IAAI,EAAO,GAAJib,IAC9C/F,KAAK4U,OAAO7S,KAAK,CAAEtH,MAAOuF,KAAKyU,YAAazS,MAAO,MAEnDhC,KAAKkV,aACP,CAEAA,WAAAA,GACE,MAAMpP,EAAI9F,KAAKmU,GAAIpO,EAAI/F,KAAKoU,GACtBgB,EAASxqB,KAAKC,IAAI,EAAGD,KAAK2W,MAAMuE,EAAIlb,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGkV,KAAKqU,SACjE9F,EAAS3jB,KAAKE,IAAI,EAAGF,KAAK2W,MAAMwE,EAAI,IAC1C/F,KAAK6U,MAAMhU,QACPuU,GAAU,IACdpV,KAAK6U,MAAMM,UAAU,EAAG,EAAGC,EAAQrP,EAAGwI,GACtCvO,KAAK6U,MAAM9S,KAAK,CAAEtH,MAAOuF,KAAKsU,OAAQtS,MAAO,IAC/C,EAGF,YC9EA,GAjBsBxc,OAAO6vB,OAAO,CAClCC,SAAU,GACVC,MAAO,GACPC,UAAW,GACXC,UAAW,GACXC,aAAc,GACd3kB,OAAQ,GACRhH,YAAa,GACb4rB,SAAU,GACVC,aAAc,GACdC,QAAS,GACTC,IAAK,GACLC,QAAS,GACTC,SAAU,IACVvjB,QAAS,MCbLwjB,GAAkB,IAAI/V,IAEfgW,GAAc9V,IACzB,IAAKA,EAEH,OADAlS,QAAQoN,KAAK,gCACN,KAET,GAAI2a,GAAgB3V,IAAIF,GACtB,OAAO6V,GAAgB9V,IAAIC,GAE7B,IACE,MAAMG,EAAMC,GAAAA,IAAQC,KAAKL,GACzB,OAAKG,GAIL0V,GAAgBvV,IAAIN,EAAKG,GAClBA,IAJLrS,QAAQoN,KAAK,kDAAmD8E,GACzD,KAIX,CAAE,MAAOhb,GAEP,OADA8I,QAAQ3H,MAAM,uCAAwC6Z,EAAKhb,GACpD,IACT,GAmDW+wB,GAAaC,IACxB,MAAM/V,EAAIqB,OAAO0U,GAGjB,OADY,KADO1U,OAAOoC,SAASzD,IAAMA,EAAI,EAAIA,EAAI,KAExC,IAIFgW,GAAaA,CAACtJ,EAAe/nB,IAAO+nB,EAAc7P,KAAMC,GAAMA,EAAEnY,KAAOA,GCIvEsxB,GAAcpJ,MAAWA,GAAOA,EAAIC,OAASD,EAAIC,MAAMqE,OACvD+E,GAAarJ,MAAWA,GAAOA,EAAIC,OAASD,EAAIC,MAAMC,MCrF5D,MAAMoJ,GACXzW,WAAAA,CAAYgB,EAAW0V,GACrBzW,KAAKe,UAAYA,EACjBf,KAAK0W,MAAQD,EACbzW,KAAK2W,SAAW,KAChB3W,KAAK4W,UAAY,KACjB5W,KAAK6W,QAAU,EACf7W,KAAK8W,QAAU,EACf9W,KAAK+W,aAAe,EACpB/W,KAAKgX,YAAc,IACrB,CAEA3F,KAAAA,EAAM,WAAE4F,EAAU,YAAEC,EAAW,IAAE9W,EAAG,MAAE3F,EAAK,OAAE0c,EAAS,GAAG,SAAEC,EAAW,EAAC,UAAEC,EAAY,IACnF,IAAKrX,KAAKe,UAAW,OACrBf,KAAKa,QAEL,MAAMiF,EAAIlb,KAAKC,IAAIosB,EAAYG,GACzBrR,EAAInb,KAAKC,IAAIqsB,EAAaG,GAEhCrX,KAAK6W,QAAUI,EACfjX,KAAK8W,QAAUI,EACflX,KAAKgX,YAAc5W,EAGnB,MAAMkX,EAAwB,kBAAV7c,GAAsBA,EAAMmB,WAAW,KACvD2b,SAAS9c,EAAM+c,MAAM,GAAI,IACxB9V,OAAOjH,IAAU,QAEhBgd,EAAQ,IAAIC,GAAAA,IAAOlX,GAAAA,IAAQmX,OACjCF,EAAMG,KAAON,EACbG,EAAM1uB,MAAQ+c,EACd2R,EAAMzuB,OAAS+c,EACf0R,EAAMzV,MAAQ,EACd,IACEyV,EAAMjS,QAAU,CAAC,IAAIC,GAAAA,IAAW,CAAEjc,SAAU,GAAKkc,QAAS,IAC5D,CAAE,MAAO,CAKT,GAJA1F,KAAKe,UAAUqB,SAASqV,GACxBzX,KAAK2W,SAAWc,EAGZrX,EAAK,CACP,MAAMyX,EAActX,IAClB,IAAKP,KAAKe,WAAaf,KAAKgX,cAAgB5W,EAAK,OAGjD,GAAIJ,KAAK4W,UAAW,CAClB,IAAM5W,KAAKe,UAAUuC,YAAYtD,KAAK4W,UAAY,CAAE,MAAO,CAC3D,IAAM5W,KAAK4W,UAAUrT,SAAW,CAAE,MAAO,CACzCvD,KAAK4W,UAAY,IACnB,CAEA,IAAKrW,EAEH,YADArS,QAAQoN,KAAK,0DAKXiF,EAAIuX,cAAavX,EAAIuX,YAAYC,SAAWC,GAAAA,IAAWC,QACvD1X,EAAI+R,SAAQ/R,EAAI+R,OAAOC,YAAc,UAEzC,MAAMrC,EAAS,IAAIhJ,GAAAA,IAAa,CAAE1K,QAAS+D,EAAKxX,MAAO+c,EAAG9c,OAAQ+c,IAC5DmS,EAAQ3X,EAAIvX,SAAWuX,EAAI+R,OAAS/R,EAAI+R,OAAOtpB,OAAS,IAAM,EAC9DmvB,EAASpS,EAAImS,EACnBhI,EAAO9I,UAAU1G,IAAI,EAAGyX,GACxBjI,EAAOlO,MAAQ,EACf,IACEkO,EAAO1K,QAAU,CAAC,IAAIC,GAAAA,IAAW,CAAEjc,SAAU,IAAKkc,QAAS,IAC7D,CAAE,MAAO,CAET1F,KAAKe,UAAUqB,SAAS8N,GACxBlQ,KAAK4W,UAAY1G,EACjBlQ,KAAKoY,UAAUpY,KAAK+W,cAAgB,EAAGI,IAIzC,IAAI5W,EAAM,KACV,IACEA,EAAM8X,GAAAA,GAAOlY,IAAIC,EACnB,CAAE,MAAOhb,GACPmb,EAAMP,KAAK0W,OAAOvW,IAAIC,IAAQI,GAAAA,IAAQC,KAAKL,EAC7C,CAEgBG,IACdA,EAAI+X,OACH/X,EAAIuX,aAAevX,EAAIuX,YAAYQ,OACnC/X,EAAI+R,QAAU/R,EAAI+R,OAAOvpB,MAAQ,IAIlCmF,QAAQyP,IAAI,8CACZka,EAAWtX,KAEXrS,QAAQyP,IAAI,sEACZ0a,GAAAA,GAAOE,KAAKnY,GAAKoY,KAAMC,IACrBvqB,QAAQyP,IAAI,uDACZka,EAAWY,KACVC,MAAMC,IACPzqB,QAAQ3H,MAAM,wDAAyD6Z,EAAKuY,KAGlF,CACF,CAEAP,SAAAA,CAAUQ,EAASzB,EAAS,IAC1BnX,KAAK+W,aAAe6B,EAChB5Y,KAAK4W,WAAa,iBAAkB5W,KAAK4W,YAC3C5W,KAAK4W,UAAUhP,aAAa/e,GAAK+vB,EAAUzB,EAC3CnX,KAAK4W,UAAUhP,aAAa9e,EAAI,EAEpC,CAEA2e,MAAAA,CAAOwP,EAAYC,EAAaE,EAAW,EAAGC,EAAY,GACxD,MAAMvR,EAAIlb,KAAKC,IAAIosB,EAAYG,GACzBrR,EAAInb,KAAKC,IAAIqsB,EAAaG,GAQhC,GANArX,KAAK6W,QAAUI,EACfjX,KAAK8W,QAAUI,EACXlX,KAAK2W,WACP3W,KAAK2W,SAAS5tB,MAAQ+c,EACtB9F,KAAK2W,SAAS3tB,OAAS+c,GAErB/F,KAAK4W,UAAW,CAClB5W,KAAK4W,UAAU7tB,MAAQ+c,EACvB9F,KAAK4W,UAAU5tB,OAAS+c,EACxB,MAAMxF,EAAMP,KAAK4W,UAAUpa,QACrB0b,EAAQ3X,GAAKvX,SAAWuX,GAAK+R,OAAS/R,EAAI+R,OAAOtpB,OAAS,IAAM,EACtE,GAAIgX,KAAK4W,UAAUxP,WAAa8Q,EAAO,EAAG,CACxC,MAAMC,EAASpS,EAAImS,EACnBlY,KAAK4W,UAAUxP,UAAU1G,IAAI,EAAGyX,EAClC,CACF,CACF,CAEAtX,KAAAA,GACE,GAAIb,KAAK2W,SAAU,CACjB,IAAM3W,KAAKe,UAAUuC,YAAYtD,KAAK2W,SAAW,CAAE,MAAO,CAC1D,IAAM3W,KAAK2W,SAASpT,SAAW,CAAE,MAAO,CACxCvD,KAAK2W,SAAW,IAClB,CACA,GAAI3W,KAAK4W,UAAW,CAClB,IAAM5W,KAAKe,UAAUuC,YAAYtD,KAAK4W,UAAY,CAAE,MAAO,CAC3D,IAAM5W,KAAK4W,UAAUrT,SAAW,CAAE,MAAO,CACzCvD,KAAK4W,UAAY,IACnB,CACF,CAEArT,OAAAA,GACEvD,KAAKa,QACLb,KAAKe,UAAY,KACjBf,KAAK0W,MAAQ,IACf,ECtJK,MCEMmC,GAAsB3L,IACjC,IAAKA,EAAK,OAAO,KAEjB,IAAI4L,EAAM,KACV,GAAInc,MAAMC,QAAQsQ,EAAIxQ,WAAawQ,EAAIxQ,SAASU,OAAS,EAAG,CAC1D,MAAM2b,EAAS7L,EAAIxQ,SAAS7X,IAAKujB,GAAM8N,GAAW9N,IAAI3c,OAAOutB,SACzDD,EAAO3b,OAAS,IAClB0b,EAAM,IAAIG,GAAAA,IAAeF,GACzBD,EAAIzb,eAAiB8Y,GAAUjJ,EAAI7P,gBACnCyb,EAAII,OAER,CAGA,IAAKJ,GAAO5L,EAAI1Q,QAAS,CACvB,MAAM+D,EAAM2V,GAAWhJ,EAAI1Q,SACvB+D,IACFuY,EAAM,IAAIpB,GAAAA,IAAOnX,GAErB,CAmCA,OAhCKuY,GAAO5L,EAAIiM,aACdL,EAAM,IAAIM,GAAAA,IAAK,CACX1mB,KAAMwa,EAAIiM,WACVhiB,MAAO,CACH1D,SAAU,GACVsO,KAAM,SACNpO,WAAY,OACZ0lB,YAAY,EACZC,gBAAiB,EACjBC,eAAgB,EAChBC,mBAAoB,KAI5BV,EAAIW,OAAO/Y,IAAI,GAAK,KAQjBoY,IACHA,EAAM,IAAIpB,GAAAA,IAAOlX,GAAAA,IAAQmX,QAGvBmB,aAAepB,GAAAA,IACjBoB,EAAIW,OAAO/Y,IAAI,EAAG,GACM0Y,GAAAA,IAInBN,GAIIY,GAAwBA,CAACC,EAAe5M,EAAekC,EAAa/N,KAC/E,MAAM0Y,EAAkB,IAAI/N,GAAAA,IAGtBgO,EAAaF,GAAiB,KAG9BG,EAAYnd,MAAMC,QAAQmQ,GAC3BA,EAAc7P,KAAKC,GAAc,sBAATA,EAAEnY,KAA+B+nB,EAAc7P,KAAKC,GAAc,kBAATA,EAAEnY,IACpF,KAEE+0B,EAAYlB,GAAmBgB,IAAe,IAAInC,GAAAA,IAAOlX,GAAAA,IAAQmX,OACjEqC,EAAYnB,GAAmBiB,IAAc,KAEnDF,EAAgBxX,SAAS2X,GACrBC,GAAWJ,EAAgBxX,SAAS4X,GAGxC,IAAIC,EAAY,KAChB,IACEA,EAAY,IAAIxG,GAAU,CACxB1qB,MAAQkmB,GAAalmB,OAAUmY,EAC/BlY,OAAQ,EACR4qB,QAAS,EACTC,SAAU,IAEZ+F,EAAgBxX,SAAS6X,EAC3B,CAAE,MAAO70B,GACP8I,QAAQoN,KAAK,+BAAgClW,EAC/C,CAMA,OAHA20B,EAAUhF,SAAU,EAChBiF,IAAWA,EAAUjF,SAAU,GAE5B,CACLhU,UAAW6Y,EACXM,QAAS,CAAEhN,IAAK6M,EAAWI,IAAKH,GAChCC,cCpFJ5B,GAAAA,GAAO+B,iBAAiB,CACtBC,oBAAoB,EACpBC,yBAAyB,IAG3B,MAAMC,GAAc,GACdC,GAAe,CAAC,EAEhBC,GAAYA,EAChBr0B,WACAC,YACA6a,WAAW,GACXpb,cAAcy0B,GACdx0B,gBAAgBw0B,GAChBv0B,gBAAgBu0B,GAChBr0B,kBAAkBq0B,GAClBxN,gBAAgBwN,GAChBtL,cACA0K,gBACAe,kBACApgB,kBACA/N,2BAA2B,GAC3BgD,gBAAgB,EAChB/C,cAAc,EACdC,cAAc,EACdC,gBAAgB,EAChB3C,cAAcwwB,GACdztB,oBAAmB,EACnB7G,iBAAiBu0B,GACjB7tB,aAAa,EACbC,iBAAiB,EACjBG,oBAAmB,EACnBC,kBAAiB,EACjBC,wBAAuB,EACvBC,qBAAoB,EACpBytB,YAAW,MAEX,MAAOC,EAAaC,IAAkB9hB,EAAAA,EAAAA,WAAS,GAEzC+hB,GAAWliB,EAAAA,EAAAA,QAAO,MAClBmiB,GAASniB,EAAAA,EAAAA,QAAO,MAChBoiB,GAAcpiB,EAAAA,EAAAA,QAAO,MACrBqiB,GAAqBriB,EAAAA,EAAAA,QAAO,MAC5BsiB,GAAkBtiB,EAAAA,EAAAA,QAAO,GACzBuiB,GAAoBviB,EAAAA,EAAAA,QAAO8I,OAAOnV,IAA6B,IAC/D6uB,GAAexiB,EAAAA,EAAAA,QAAO,CAAE/P,EAAG,EAAGC,EAAG,IACjCuyB,GAAQziB,EAAAA,EAAAA,QAAO,MACf0iB,GAAY1iB,EAAAA,EAAAA,QAAO,MACnB2iB,GAAa3iB,EAAAA,EAAAA,QAAO8hB,GACpBc,GAAa5iB,EAAAA,EAAAA,QAAO0B,GACpBmhB,GAAe7iB,EAAAA,EAAAA,QAAO,MACtB8iB,GAAc9iB,EAAAA,EAAAA,QAAO,MACrB+iB,GAAiB/iB,EAAAA,EAAAA,QAAO,MACxBgjB,GAAYhjB,EAAAA,EAAAA,QAAO,MACnBijB,GAAiBjjB,EAAAA,EAAAA,QAAO,MACxBkjB,GAAmBljB,EAAAA,EAAAA,QAAO,CAAEsU,IAAK,KAAMiN,IAAK,OAC5C4B,GAAqBnjB,EAAAA,EAAAA,QAAO,MAC5BojB,GAAiBpjB,EAAAA,EAAAA,QAAO,MACxBqjB,GAAkBrjB,EAAAA,EAAAA,QAAO,MACzBsjB,GAAiBtjB,EAAAA,EAAAA,QAAO,MACxBujB,GAAkBvjB,EAAAA,EAAAA,QAAO,MACzBwjB,GAAcxjB,EAAAA,EAAAA,QAAO,MACrByjB,IAAoBzjB,EAAAA,EAAAA,QAAO,CAAE0jB,KAAM,KAAMC,KAAM,KAAMC,OAAQ,KAAMC,QAAS,OAC5EC,IAAsB9jB,EAAAA,EAAAA,QAAO,MAC7B+jB,IAAuB/jB,EAAAA,EAAAA,QAAO,IAAIsH,KAClC0c,IAAmBhkB,EAAAA,EAAAA,QAAO,MAC1BikB,IAAmBjkB,EAAAA,EAAAA,QAAO,IAAIsH,KAC9B4c,IAAqBlkB,EAAAA,EAAAA,QAAO2hB,IAC5BwC,IAAsBnkB,EAAAA,EAAAA,QAAO,MAC7BokB,IAAepkB,EAAAA,EAAAA,SAA4B,IAArB9L,GACtBmwB,IAAgBrkB,EAAAA,EAAAA,SAA4B,IAArB7L,GACvBmwB,IAAiBtkB,EAAAA,EAAAA,SAA0B,IAAnB5L,GACxBmwB,IAAkBvkB,EAAAA,EAAAA,QAAO,MACzBwkB,IAAgBxkB,EAAAA,EAAAA,QAAO,CAAEgJ,EAAG,KAAM3G,KAAM,EAAGoiB,YAAa,EAAGC,aAAc,IAGzEC,KAFiB3kB,EAAAA,EAAAA,QAAO,OACRA,EAAAA,EAAAA,QAAO,OACRA,EAAAA,EAAAA,QAAO,OACtB4kB,IAAe5kB,EAAAA,EAAAA,QAAO,MACtB6kB,IAAa7kB,EAAAA,EAAAA,QAAO,MACpB8kB,IAAa9kB,EAAAA,EAAAA,QAAO,MACpB+kB,IAAgB/kB,EAAAA,EAAAA,QAAO,MACvBglB,IAAehlB,EAAAA,EAAAA,QAAO,MACtBilB,IAAqBjlB,EAAAA,EAAAA,SAAgC,IAAzB3L,GAC5B6wB,IAAmBllB,EAAAA,EAAAA,SAA6B,IAAtB1L,GAC1B6wB,IAAgBnlB,EAAAA,EAAAA,QAAO,CAAE5O,SAAS,EAAOg0B,WAAW,EAAO90B,GAAI,KAGrEqQ,EAAAA,EAAAA,WAAU,KAAQyiB,EAAetiB,QAAUuV,GAAgB,CAACA,KAC5D1V,EAAAA,EAAAA,WAAU,KAAQujB,GAAmBpjB,QAAUiD,MAAMC,QAAQ7S,GAAeA,EAAc,IAAO,CAACA,KAClGwP,EAAAA,EAAAA,WAAU,KAAQyjB,GAAatjB,SAA+B,IAArB5M,GAA+B,CAACA,KACzEyM,EAAAA,EAAAA,WAAU,KAAQ0jB,GAAcvjB,SAA+B,IAArB3M,GAA+B,CAACA,KAC1EwM,EAAAA,EAAAA,WAAU,KAAQ2jB,GAAexjB,SAA6B,IAAnB1M,GAA6B,CAACA,KACzEuM,EAAAA,EAAAA,WAAU,KAAQskB,GAAmBnkB,SAAmC,IAAzBzM,GAAmC,CAACA,KACnFsM,EAAAA,EAAAA,WAAU,KAAQukB,GAAiBpkB,SAAgC,IAAtBxM,GAAgC,CAACA,KAC9EqM,EAAAA,EAAAA,WAAU,KAAQ2hB,EAAgBxhB,QAAUgI,OAAOnS,IAAkB,GAAM,CAACA,KAC5EgK,EAAAA,EAAAA,WAAU,KAAQ4hB,EAAkBzhB,QAAUgI,OAAOnV,IAA6B,IAAQ,CAACA,KAC3FgN,EAAAA,EAAAA,WAAU,KAAQgiB,EAAW7hB,QAAUghB,GAAoB,CAACA,KAC5DnhB,EAAAA,EAAAA,WAAU,KAAQiiB,EAAW9hB,QAAUY,GAAoB,CAACA,IAG5D,MAAM2jB,IAAuBC,EAAAA,EAAAA,SAAQ,ILnFCC,MACtC,IAAIC,EACJ,IAGEA,EAAYjjB,EAAAA,KACd,CAAE,MAAO/V,GACPg5B,EAAY,IACd,CAEA,OAAQC,IACN,IAAKD,EAEH,OADAlwB,QAAQoN,KAAK,+CACN,KAET,IAAK+iB,EAAU,CACb,MAAM94B,EAAO64B,EAAU74B,OACvB,GAAIA,GAAQA,EAAK6X,OAAQ,CACvB,MAAMhB,EAAMgiB,EAAU74B,EAAK,IAC3B,OAAO6W,EAAIN,SAAWM,CACxB,CACA,OAAO,IACT,CACA,MACMH,EAAM,KADCoiB,EAASC,MAAM,KAAKlb,QAEjC,IACE,MAAMhH,EAAMgiB,EAAUniB,GACtB,OAAOG,EAAIN,SAAWM,CACxB,CAAE,MAAOhX,GAEP,MAAMG,EAAO64B,EAAU74B,OACvB,GAAIA,GAAQA,EAAK6X,OAAQ,CACvB,MAAMhB,EAAMgiB,EAAU74B,EAAK,IAC3B,OAAO6W,EAAIN,SAAWM,CACxB,CACA,OAAO,IACT,IK+CyC+hB,GAA4B,IACjEja,IAAYga,EAAAA,EAAAA,SAAQ,ILhCMK,EAACn4B,EAAUC,EAAW6a,EAAUpb,EAAainB,IACtE,CAACyR,EAAIC,KAGV,GAAIA,EAAK,EAAG,OAAO,EAEnB,GAAID,EAAK,EAAG,OAAO,EACnB,MAAM/Q,EAAK7iB,KAAK2W,MAAMid,EAAKtd,GACrBqM,EAAK3iB,KAAK2W,MAAMkd,EAAKvd,GAC3B,GAAIuM,EAAK,GAAKF,EAAK,GAAKE,GAAMrnB,GAAYmnB,GAAMlnB,EAAW,OAAO,EAClE,MACMrB,EAAKc,EADCynB,EAAKnnB,EAAWqnB,GAE5B,IAAKzoB,EAAI,OAAO,EAChB,MAAMkoB,EAAMmJ,GAAWtJ,EAAe/nB,GACtC,IAAKkoB,EAAK,OAAO,EACjB,MAAM8H,EAAI9H,EAAIwR,UACd,QAAK1J,KACK,IAANA,GACa,kBAANA,MACCA,EAAE2J,KAAO3J,EAAE4J,QAAU5J,EAAE6J,MAAQ7J,EAAE8J,SKafP,CAAmBn4B,EAAUC,EAAW6a,EAAUpb,EAAainB,GAAgB,CAAC3mB,EAAUC,EAAW6a,EAAUpb,EAAainB,IAGtJgS,IAAkBC,EAAAA,EAAAA,aAAY,KAClC,MAAMC,EAAQjE,EAAYthB,QAC1B,IAAKulB,EAAO,OACPlC,GAAoBrjB,UAASqjB,GAAoBrjB,QAAU,IAAIoG,IAC/Dmb,EAAmBvhB,UACtBuhB,EAAmBvhB,QF3HYwlB,EAACC,EAAeC,KACnD,IAAIC,EAAiB,KACjBC,EAAiB,KAqDrB,MAAO,CACLjO,MApDaqC,IACb,MAAM,WAAEuD,EAAU,YAAEC,EAAW,IAAE9W,EAAG,MAAE3F,EAAK,OAAE0c,EAAM,qBAAE8G,EAAoB,SAAE7G,EAAW,EAAC,UAAEC,EAAY,GAAM3D,EAEtG2L,IACHA,EAAiB,IAAI7I,GAAmB2I,EAAeC,IAIzD,IAAIG,EAAc,KACdnf,IACFmf,EAActB,EAAuBA,EAAqB7d,GAAOA,GAInEif,EAAehO,MAAM,CACnB4F,aACAC,cACA9W,IAAKmf,EACL9kB,MAAOA,GAAS,UAChB0c,OAAQA,GAAU,GAClBC,WACAC,cAGFiI,EAAiBD,EAAezI,WAAayI,EAAe1I,UA6B5DyB,UA1BgBA,CAACQ,EAASzB,KACtBkI,GACFA,EAAejH,UAAUQ,EAASzB,IAyBpC1P,OArBaA,CAACwP,EAAYC,EAAaE,EAAW,EAAGC,EAAY,KAC7DgI,GACFA,EAAe5X,OAAOwP,EAAYC,EAAaE,EAAUC,IAoB3D9T,QAhBcA,KACd,GAAI8b,EAAgB,CAClB,IACEA,EAAe9b,SACjB,CAAE,MAAOne,GACP,CAEFi6B,EAAiB,KACjBC,EAAiB,IACnB,GAQA,UAAIpP,GACF,OAAOmP,GAAgBzI,WAAayI,GAAgB1I,QACtD,EACA,UAAI6I,GACF,OAAOH,CACT,IE0D+BH,CAAsBD,EAAOlC,GAAoBrjB,UAGhF,MAAM+lB,EAAQlE,EAAW7hB,QACnBgmB,EAAUlE,EAAW9hB,QACrByd,EAASgE,EAAkBzhB,SAAW,GAE5CuhB,EAAmBvhB,QAAQ2X,MAAM,CAC/B4F,WAAY7wB,EAAW8a,EACvBgW,YAAa7wB,EAAY6a,EACzBd,IAAKqf,EACLhlB,MAAOilB,EACPvI,SACA8G,wBACA7G,SAAU2D,EAAOrhB,SAASimB,QAAQ52B,OAAS,EAC3CsuB,UAAW0D,EAAOrhB,SAASimB,QAAQ32B,QAAU,KAE9C,CAAC5C,EAAUC,EAAW6a,EAAU+c,KA6lBnC,OA1lBA1kB,EAAAA,EAAAA,WAAU,KACR,IAAIqmB,GAAY,EA4ZlB,MA1ZeC,WACX,GAAI9E,EAAOrhB,QAAS,OAEpB,MAAMomB,EAAM,IAAIC,GAAAA,IAChB,IAQE,SAPMD,EAAIxqB,KAAK,CACb0qB,SAAUlF,EAASphB,QACnBumB,gBAAiB,EACjBC,WAAW,EACXC,aAAa,IAGXP,EAEF,YADAE,EAAIvc,SAAQ,EAAM,CAAEjM,UAAU,EAAMkF,SAAS,IAI/C,IAAKsjB,EAAIM,SAAU,OAEnBrF,EAAOrhB,QAAUomB,EACjBA,EAAIO,MAAMC,kBAAmB,EAG/B,MAAMC,EAAK,IAAI1U,GAAAA,IACT2U,EAAS,IAAI3U,GAAAA,IACb4J,EAAY,IAAI5J,GAAAA,IAChB8J,EAAW,IAAI9J,GAAAA,IACf4U,EAAmB,IAAI5U,GAAAA,IACvB6U,EAAmB,IAAI7U,GAAAA,IACvB8U,EAAc,IAAI9U,GAAAA,IAClB+U,EAAgB,IAAI/U,GAAAA,IACpBgV,EAAe,IAAIhV,GAAAA,IACnBiV,EAAc,IAAIjV,GAAAA,IAClBkV,EAAgB,IAAIlV,GAAAA,IACpBmV,EAAW,IAAInV,GAAAA,IACfoV,EAAY,IAAIpV,GAAAA,IAChBqV,EAAe,IAAIrV,GAAAA,IAGnBsT,EAAgB,IAAItT,GAAAA,IAC1BsT,EAAc/qB,OAAS+sB,GAAO7L,SAC9BiL,EAAGnsB,OAAS+sB,GAAO5L,MACnBiL,EAAOpsB,OAAS+sB,GAAO3L,UACvBC,EAAUrhB,OAAS+sB,GAAO1L,UAC1BE,EAASvhB,OAAS+sB,GAAOxL,SACzB8K,EAAiBrsB,OAAS+sB,GAAOzL,aACjCgL,EAAiBtsB,OAAS+sB,GAAOvL,aACjC+K,EAAYvsB,OAAS+sB,GAAOpwB,OAC5B6vB,EAAcxsB,OAAS+sB,GAAOpwB,OAC9B8vB,EAAazsB,OAAS+sB,GAAOtL,QAC7BmL,EAAS5sB,OAAS+sB,GAAOrL,IACzBgL,EAAY1sB,OAAS+sB,GAAOpL,QAC5BgL,EAAc3sB,OAAS+sB,GAAOnL,SAC9BiL,EAAU7sB,OAAS+sB,GAAOp3B,YAC1Bm3B,EAAa9sB,OAAS+sB,GAAO1uB,QAE7B4oB,EAAM3hB,QAAU6mB,EAChBjF,EAAU5hB,QAAU8mB,EACpB/E,EAAa/hB,QAAU+b,EACvBiG,EAAYhiB,QAAUic,EACtBgG,EAAejiB,QAAU,CAAE0nB,MAAOX,EAAkBxN,MAAOyN,GAC3DzE,EAAgBviB,QAAUmnB,EAC1BhF,EAAeniB,QAAUinB,EACzBzE,EAAexiB,QAAUonB,EACzB1E,EAAY1iB,QAAUsnB,EACtBtE,GAAoBhjB,QAAUunB,EAC9BrE,GAAiBljB,QAAUknB,EAC3BzD,GAAgBzjB,QAAUwnB,EAC1BlG,EAAYthB,QAAUylB,EAGtBW,EAAIO,MAAMje,SAASme,EAAIC,EAAQrB,EAAe1J,EAAWgL,EAAkBE,EAAaC,EAAeK,EAAWtL,EAAU+K,EAAkBG,EAAcG,EAAUF,EAAaC,EAAeG,GAGlM,IACE,MAAMG,EAAS,IAAItO,IACbuO,EAAUlZ,IAAyB,kBAANA,GAAkBA,EAAEhL,QAAQikB,EAAOE,IAAInZ,IAC1E2E,EAAchlB,QAASmlB,IACrBoU,EAAOpU,GAAK1Q,SACRG,MAAMC,QAAQsQ,GAAKxQ,WAAWwQ,EAAIxQ,SAAS3U,QAAQu5B,KAErD3H,IACF2H,EAAO3H,EAAcnd,SACjBG,MAAMC,QAAQ+c,EAAcjd,WAAWid,EAAcjd,SAAS3U,QAAQu5B,IAE5E,MAAM7B,EAAQxB,GAAqB1C,EAAW7hB,SAC1C+lB,GAAO6B,EAAO7B,GAClB,MAAM+B,EAAO7kB,MAAM8D,KAAK4gB,GACpBG,EAAKpkB,SACPlP,QAAQyP,IAAI,yBAA0B6jB,EAAKpkB,OAAQ,qBAC7Cib,GAAAA,GAAOE,KAAKiJ,GAClBtzB,QAAQyP,IAAI,+CAEhB,CAAE,MAAOvY,GACP8I,QAAQoN,KAAK,yDAA0DlW,EACzE,CAGA,MAAMq8B,EAAmB/H,GAAsBC,EAAe5M,EAAekC,EAAa/N,GAC1Fyf,EAAYve,SAASqf,EAAiB1gB,WACtC6a,EAAUliB,QAAU+nB,EAAiB1gB,UACrC+a,EAAiBpiB,QAAU+nB,EAAiBvH,QAC5C6B,EAAmBriB,QAAU+nB,EAAiBxH,UAG1Ca,EAASphB,SAAWomB,EAAIM,UAAYN,EAAIzX,SAC1CyS,EAASphB,QAAQgoB,UAAY,GAC7B5G,EAASphB,QAAQioB,YAAY7B,EAAIzX,SAInC,MAAMzG,EAAI,IAAIC,GAAAA,IACdqf,EAAa9e,SAASR,GACtBwb,GAAc1jB,QAAQkI,EAAIA,EAC1B,MAAM+E,EAAIvgB,EAAW8a,EACfuI,EAAIpjB,EAAY6a,EACtBU,EAAEf,QACFe,EAAEE,KAAK,EAAG,EAAG6E,EAAG8C,GAChB7H,EAAEG,KAAK,CAAEtH,MAAO,QAAUuH,MAAO,IACjCJ,EAAEI,MAAQ,EACVJ,EAAEmT,SAAU,EAGZ,MAAM6M,EAAY,IAAInO,GAAU,CAAE1qB,MAAQkmB,GAAalmB,OAAUmY,EAAUlY,OAAQ,EAAG4qB,QAAS,EAAGC,QAAS,IAC3G+N,EAAU7M,SAAU,EACpBmM,EAAa9e,SAASwf,GACtBrE,GAAa7jB,QAAUkoB,EAEvB,MAAMC,EAAY,CAAE9N,GAAI,QAAUzY,KAAM,QAAUvJ,OAAQ,SACpD+vB,EAAS,IAAIrO,GAAU,CAAE1qB,MAAQkmB,GAAalmB,OAAUmY,EAAUlY,OAAQ,EAAG4qB,QAAS,EAAGC,QAAS,EAAGjiB,OAAQiwB,IACnHC,EAAO/M,SAAU,EACjBmM,EAAa9e,SAAS0f,GACtBtE,GAAa9jB,QAAUooB,EAEvB,MAAMC,EAAa,CAAEhO,GAAI,SAAUzY,KAAM,SAAUvJ,OAAQ,UACrDiwB,GAAQ,IAAIvO,GAAU,CAAE1qB,MAAQkmB,GAAalmB,OAAUmY,EAAUlY,OAAQ,EAAG4qB,QAAS,EAAGC,QAAS,EAAGjiB,OAAQmwB,IAClHC,GAAMjN,SAAU,EAChBmM,EAAa9e,SAAS4f,IACtBvE,GAAW/jB,QAAUsoB,GAGjBlC,EAAIzX,QAAUyX,EAAIM,WACpBN,EAAIzX,OAAOvO,iBAAiB,mBAAqB1U,IAC/CA,EAAE68B,iBACF/zB,QAAQoN,KAAK,wBAEfwkB,EAAIzX,OAAOvO,iBAAiB,uBAAwB,KAClD5L,QAAQgE,KAAK,6BAOjB,IACMiqB,EAAgBziB,SAASyiB,EAAgBziB,QAAQ6J,UACjD2Y,EAAexiB,UACjByiB,EAAgBziB,QAAU,IAAI8U,GAAmB0N,EAAexiB,QAAS,CAAEtT,WAAUC,YAAW6a,aAEpG,CAAE,MAAO9b,GAAK8I,QAAQoN,KAAK,kCAAmClW,EAAI,CAGlE,IAAMs4B,GAAWhkB,QAAU,IAAIiS,GAAcoV,EAAgB,CAAE,MAAO,CACtE,IAAMnD,GAAalkB,QAAU,IAAI0U,GAAY2S,EAAgB,CAAE,MAAO,CACtE,IACEpD,GAAcjkB,QAAU,IAAI+S,GAAWyP,EAAexiB,QAAS,CAAEtT,WAAUC,YAAW6a,YAAY,IAAO4c,GAAiBpkB,QAAU,IAAM,EAC5I,CAAE,MAAO,CAETqlB,KAIAhE,EAAOrhB,QAAUomB,EACjBjF,GAAe,GACfiF,EAAIoC,OAAOX,IAAI,KACb,MAAMnV,EAAI4P,EAAetiB,QACrB0S,GAAKwP,EAAUliB,SD3NOyoB,EAACC,EAAMnT,EAAa/N,EAAUpU,KAC9D,MAAM,UAAEiU,EAAS,QAAEmZ,EAAO,UAAED,GAAcmI,EAC1C,IAAKnT,IAAgBlO,EAAW,OAEhC,MAAM,IAAEmM,EAAG,IAAEiN,GAAQD,GAAW,CAAC,EAajC,GAVIhN,IACE+B,EAAYlmB,QAAOmkB,EAAInkB,MAAQkmB,EAAYlmB,OAC3CkmB,EAAYjmB,SAAQkkB,EAAIlkB,OAASimB,EAAYjmB,SAE/CmxB,IACElL,EAAYlmB,QAAOoxB,EAAIpxB,MAAQkmB,EAAYlmB,OAC3CkmB,EAAYjmB,SAAQmxB,EAAInxB,OAASimB,EAAYjmB,SAI/CixB,EAAW,CACb,MAAM/tB,GAA+B,IAArBY,EACV9C,IAAYilB,EAAYjlB,QACxBq4B,EAAoC,SAA3BpT,EAAY9kB,WAC3B,GAAK+B,EAEE,CAEL+tB,EAAUlF,UAAY/qB,GAAWq4B,GACjC,MAAMC,EAAiBrT,EAAYlmB,OAAUmkB,GAAKnkB,OAAUmY,EAC5D+Y,EAAUxS,OAAO6a,EAAgB,GACjCrI,EAAUnxB,GAAK8B,KAAKC,IAAI,EAAGD,KAAK2W,MAAwD,KAAjD0N,EAAYjmB,QAAUkkB,GAAKlkB,QAAUkY,KAC5E+Y,EAAU1X,OAAO0M,EAAY3lB,OAASoY,OAAOuN,EAAY1lB,YAAc,IACzE,MARE0wB,EAAUlF,SAAU,CASxB,CAGA,MAAMwN,EAAQ7gB,OAAOuN,EAAY7kB,YAAc,KAAO+vB,EAClDjN,IAAKA,EAAI6H,SAAWwN,GACpBpI,IAAKA,EAAIpF,QAAUwN,GAGvB,MAAMC,EAAMvT,EAAY7lB,WAAa,EAC/Bq5B,EAAM73B,KAAKwZ,IAAIrD,EAAU2hB,MAAM75B,GAAK,GAC1CkY,EAAU2hB,MAAM75B,EAAI25B,GAAO,EAAIC,GAAOA,EAGtC,MAAMH,EAAiBrT,EAAYlmB,OAAUmkB,GAAKnkB,OAAUmY,EAC5DH,EAAUlY,EAAI25B,GAAO,EAAKvT,EAAYpmB,GAAK,GAAOomB,EAAYpmB,GAAK,GAAKy5B,EACxEvhB,EAAUjY,EAAImmB,EAAYnmB,GAAK,GC8KvBq5B,CACE,CAAEphB,UAAW6a,EAAUliB,QAASwgB,QAAS4B,EAAiBpiB,QAASugB,UAAW8B,EAAmBriB,SACjG0S,EACAlL,EACA8b,GAAatjB,SAKjB,MAAMipB,EAAK7C,EAAIH,OAAO52B,MAChB65B,EAAK9C,EAAIH,OAAO32B,OAChBipB,EAAS7rB,EAAW8a,EACpBgR,EAAS7rB,EAAY6a,EAE3B,GAAIkL,EAAG,CAIL,IAAIyW,GAHazW,EAAEvjB,GAAK,IAAMujB,EAAErjB,OAASmY,GAAY,EAGhCyhB,EAAK,EACtBG,GAHa1W,EAAEtjB,GAAK,IAAMsjB,EAAEpjB,QAAUkY,GAAY,EAGjC0hB,EAAK,EAIxBC,EADE5Q,EAAS0Q,GACH1Q,EAAS0Q,GAAM,EAEhB/3B,KAAKC,IAAI,EAAGD,KAAKE,IAAI+3B,EAAM5Q,EAAS0Q,IAI3CG,EADE5Q,EAAS0Q,GACH1Q,EAAS0Q,GAAM,EAEhBh4B,KAAKC,IAAI,EAAGD,KAAKE,IAAIg4B,EAAM5Q,EAAS0Q,IAG7CxH,EAAa1hB,QAAU,CAAE7Q,EAAGg6B,EAAM/5B,EAAGg6B,GACrChD,EAAIO,MAAM0C,MAAMriB,IAAImiB,EAAMC,GAEtB9H,EAAYthB,SACdshB,EAAYthB,QAAQspB,SAAStiB,IAAImiB,EAAMC,GAGzC,MAAM9d,EAAImW,EAAkBzhB,QACxBuhB,EAAmBvhB,UACrBuhB,EAAmBvhB,QAAQ+N,OAAOwK,EAAQC,EAAQyQ,EAAIC,GACtD3H,EAAmBvhB,QAAQ0e,UAAUyK,EAAM7d,GAE/C,CAGA,MAAMxB,EAAKsc,EAAIoC,QAAQe,SAAW,MAC5BC,EAAU7G,GAAkB3iB,QAC9BwpB,EAAQ5G,MAAM4G,EAAQ5G,KAAK/Z,OAAOiB,GAClC0f,EAAQ3G,MAAM2G,EAAQ3G,KAAKha,OAAOiB,GAClC0f,EAAQ1G,QAAQ0G,EAAQ1G,OAAOja,OAAOiB,GACtC0f,EAAQpN,KAAKoN,EAAQpN,IAAIvT,OAAOiB,GAChC0f,EAAQzG,SAASyG,EAAQzG,QAAQla,OAAOiB,GAG5C,IACM2Y,EAAgBziB,SAAW0S,GAC7B+P,EAAgBziB,QAAQsV,eAAe5C,GAEzC+P,EAAgBziB,SAAS6I,OAAOiB,EAClC,CAAE,MAAO,CAGT,IAAMma,GAAcjkB,SAAS6I,OAAOiB,EAAK,CAAE,MAAO,CAClD,IAAMka,GAAWhkB,SAAS6I,OAAOiB,EAAK,CAAE,MAAO,CAC/C,IAAMoa,GAAalkB,SAAS6I,OAAOiB,EAAK,CAAE,MAAO,CAGjD,IACE,MAAM4E,EAAIgV,GAAc1jB,QAClBypB,EAAOnH,EAAetiB,SAAW,CAAC,EAGxC,GAAI0O,KAAOA,EAAExG,GAAKwG,EAAExG,EAAEge,WAAY,CAChC,MAAMwD,EAAWjG,GAAgBzjB,QACjC,GAAI0pB,EAAU,CACZ,MAAMxhB,EAAI,IAAIC,GAAAA,IACduhB,EAAShhB,SAASR,GAClBwG,EAAExG,EAAIA,EACNwG,EAAEkV,aAAe,EACjBlV,EAAEiV,YAAc,EAChBjV,EAAEnN,KAAO,CACX,CACF,CAEA,GAAImN,GAAKA,EAAExG,EAAG,CAEZ,MAAMzX,EAAag5B,EAAKh5B,WAClBk5B,KAAcF,IAAQA,EAAKn5B,SAA2B,UAAfG,GAAyC,SAAfA,GAGvE,IAAIm5B,EAAe,QAKnB,GAJmB,SAAfn5B,IACFm5B,EAAe,SAGbD,EAAU,CACZjb,EAAEnN,MAAQuI,EAEV,MAAM+f,EAAY,IAAO,IAAO34B,KAAKqa,IAAa,MAATmD,EAAEnN,MAC3CmN,EAAEiV,YAAckG,EAGhB,MAAMC,EAAY,IACZC,EAAYrb,EAAEiV,YAAcjV,EAAEkV,aACpClV,EAAEkV,cAAgBmG,EAAY74B,KAAKE,IAAI,EAAG0Y,EAAKggB,GAG1Cpb,EAAExG,EAAEmT,SAAW3M,EAAEsb,iBAAmBv5B,IACvCie,EAAExG,EAAEf,QACJuH,EAAExG,EAAEE,KAAK,EAAG,EAAG1b,EAAW8a,EAAU7a,EAAY6a,GAChDkH,EAAExG,EAAEG,KAAK,CAAEtH,MAAO6oB,EAActhB,MAAO,IACvCoG,EAAEsb,eAAiBv5B,GAGrBie,EAAExG,EAAEmT,SAAU,EACd3M,EAAExG,EAAEI,MAAQoG,EAAEkV,YAChB,KAAO,CAELlV,EAAEiV,YAAc,EAChB,MAAMsG,EAAe,KACfF,EAAYrb,EAAEiV,YAAcjV,EAAEkV,aACpClV,EAAEkV,cAAgBmG,EAAY74B,KAAKE,IAAI,EAAG0Y,EAAKmgB,GAC/Cvb,EAAExG,EAAEI,MAAQoG,EAAEkV,aAEVlV,EAAEkV,aAAe,MACnBlV,EAAEkV,aAAe,EACjBlV,EAAExG,EAAEI,MAAQ,EACZoG,EAAExG,EAAEmT,SAAU,EACd3M,EAAEnN,KAAO,EAEb,CACF,CAGA,IACE,MAAMsY,EAAOwK,GAAcrkB,SAAW,CAAE1P,SAAS,EAAOg0B,WAAW,EAAO90B,GAAI,GACxE06B,IAAeT,EAAKn5B,QACpB65B,EAAYV,EAAKh5B,WACjB6mB,GAAWmS,EAAKt6B,GAAK,GAAgC,IAA1Bs6B,EAAKp6B,OAASmY,GAE/C,GAAI2c,GAAmBnkB,SAAyB,UAAdmqB,GAAyBD,IAAerQ,EAAKvpB,QAAS,CACtF,MAAM85B,EAAK3H,EAAgBziB,SAAS+V,cAAc,QAASuB,GACrD9nB,EAAKwY,OAAOyhB,EAAKj6B,KAAO,EACxBM,EAAWoB,KAAKE,IAAI,EAAGF,KAAKC,IAAI,GAAoB,IAAfD,KAAKwZ,IAAIlb,KACpDw0B,GAAWhkB,SAASwS,QAAQ,CAAErjB,EAAGmoB,EAASloB,EAAI4Y,OAAOoC,SAASggB,GAAMA,EAAMX,EAAKr6B,GAAK,EAAKU,WAAU2iB,QAAQ,IAC3G,IAAMgQ,EAAgBziB,SAAS8Z,UAAU,QAASxC,EAASpmB,KAAKE,IAAI,IAAK,GAAqB,IAAfF,KAAKwZ,IAAIlb,IAAc,CAAE,MAAO,CACjH,CACA,GAAI20B,GAAmBnkB,SAAW6Z,EAAKvpB,UAAY45B,EAAY,CAC7D,MAAME,EAAK3H,EAAgBziB,SAAS+V,cAAc,QAASuB,GACrD9nB,EAAKwY,OAAOyhB,EAAKj6B,KAAO,EACxBM,EAAWoB,KAAKE,IAAI,EAAGF,KAAKC,IAAI,GAAoB,IAAfD,KAAKwZ,IAAIlb,KACpDw0B,GAAWhkB,SAASwS,QAAQ,CAAErjB,EAAGmoB,EAASloB,EAAI4Y,OAAOoC,SAASggB,GAAMA,EAAMX,EAAKr6B,GAAK,EAAKU,WAAU2iB,QAAQ,IAC3G,IAAMgQ,EAAgBziB,SAAS8Z,UAAU,QAASxC,EAASpmB,KAAKE,IAAI,EAAK,GAAqB,IAAfF,KAAKwZ,IAAIlb,IAAc,CAAE,MAAO,CACjH,CACA60B,GAAcrkB,QAAU,CAAE1P,QAAS45B,EAAY5F,YAAamF,EAAKl5B,eAAgBf,GAAIwY,OAAOyhB,EAAKj6B,KAAO,EAC1G,CAAE,MAAO,CACX,CAAE,MAAO,CAGT,IACE,MAAM66B,EAAK/H,EAAetiB,SAAW,CAAC,EAChCsqB,EAAQD,EAAGh7B,OAASmY,EACpB+iB,EAAQF,EAAG/6B,QAAUkY,EACrBgjB,EAAct5B,KAAKC,IAAI,EAAGD,KAAK2W,MAAa,IAAP0iB,IACrCE,EAASJ,EAAGl7B,GAAK,EACjBu7B,GAASL,EAAGj7B,GAAK,GAAKo7B,EAEtBG,EAAM9G,GAAa7jB,QACzB,GAAI2qB,EAAK,CACP,MACMC,GADmC,IAAzBtH,GAAatjB,YACFqqB,EAAG/5B,SAA6B,SAAlB+5B,EAAG55B,YAC5Ck6B,EAAItP,UAAYuP,EACZA,IACFD,EAAIx7B,EAAIs7B,EACRE,EAAIv7B,EAAIs7B,EACRC,EAAI5c,OAAOuc,EAAM,GACjBK,EAAI9hB,OAAOwhB,EAAGz6B,OAASoY,OAAOqiB,EAAGx6B,YAAc,KAEnD,CAEA,IAAIg7B,EAAWH,EACXC,GAAOA,EAAItP,UAASwP,GAAY,GAEpC,MAAMzC,EAAStE,GAAa9jB,QAC5B,GAAIooB,EAAQ,CACV,MAAM51B,GAAoC,IAA1B+wB,GAAcvjB,QACxB8qB,EAAS55B,KAAKC,IAAI,EAAG6W,OAAOqiB,EAAGn6B,YAAc,KAC7C66B,EAAS75B,KAAKC,IAAI,EAAG6W,OAAOqiB,EAAGp6B,SAC/B26B,EAAOp4B,IAA+B,UAAlB63B,EAAG55B,YAA0B45B,EAAG/5B,SAAay6B,EAASD,GAChF1C,EAAO/M,UAAYuP,EACfA,IACFxC,EAAOj5B,EAAIs7B,EACXrC,EAAOh5B,EAAIy7B,EACXzC,EAAOra,OAAOuc,EAAM,GACpBlC,EAAOvf,OAAQb,OAAOoC,SAAS2gB,GAAUA,EAASD,EAASA,GAC3DD,GAAY,EAEhB,CAEA,MAAMvC,EAAQvE,GAAW/jB,QACzB,GAAIsoB,EAAO,CACT,MAAM91B,GAAqC,IAA3BgxB,GAAexjB,QACzBgrB,EAAQ95B,KAAKC,IAAI,EAAG6W,OAAOqiB,EAAGj6B,gBAAkB,KAChD66B,EAAQ/5B,KAAKC,IAAI,EAAG6W,OAAOqiB,EAAGl6B,aAC9By6B,EAAOp4B,IAA8B,SAAlB63B,EAAG55B,YAA0Bw6B,EAAQD,GAC9D1C,EAAMjN,UAAYuP,EACdA,IACFtC,EAAMn5B,EAAIs7B,EACVnC,EAAMl5B,EAAIy7B,EACVvC,EAAMva,OAAOuc,EAAM,GACnBhC,EAAMzf,OAAQb,OAAOoC,SAAS6gB,GAASA,EAAQD,EAAQA,GAE3D,CACF,CAAE,MAAO,CC3hBcE,EAACC,EAAkBC,EAAsBC,EAAiBhY,EAAe7L,KACtG,IAAK2jB,EAAkB,OAEvB,MAAMhgC,EAAMigC,EACNE,EAAOD,GAAmB,GAC1BE,EAAO,IAAIlS,IAGjB,IAAK,IAAI9P,EAAI,EAAGA,EAAI+hB,EAAK5nB,OAAQ6F,IAAK,CACpC,MAAMvX,EAAIs5B,EAAK/hB,GACTrU,EAAMlD,EAAE1G,GACdigC,EAAK1D,IAAI3yB,GAET,IAAIkqB,EAAMj0B,EAAIsb,IAAIvR,GAClB,IAAKkqB,EAAK,CAER,MAAM5L,EAAMmJ,GAAWtJ,EAAerhB,EAAEw5B,OACxC,GAAIhY,GAAOvQ,MAAMC,QAAQsQ,EAAIxQ,WAAawQ,EAAIxQ,SAASU,OAAS,EAAG,CACjE,MAAM2b,EAAS7L,EAAIxQ,SAAS7X,IAAKujB,GAAM8N,GAAW9N,IAAI3c,OAAOutB,SACzDD,EAAO3b,OAAS,IAClB0b,EAAM,IAAIG,GAAAA,IAAeF,GACzBD,EAAIzb,eAAiB8Y,GAAUjJ,EAAI7P,gBACnCyb,EAAII,OAER,CACA,IAAKJ,EAAK,CACR,MAAMvY,EAAM2V,GAAWG,GAAWtJ,EAAerhB,EAAEw5B,QAAQ1oB,UAAYgE,GAAAA,IAAQmX,MAC/EmB,EAAM,IAAIpB,GAAAA,IAAOnX,EACnB,CACAuY,EAAIW,OAAO/Y,IAAI,GAAK,IACpBoY,EAAI/vB,MAAQ6B,KAAKC,IAAI,EAAGa,EAAEoa,GAAgB,IAAX5E,GAC/B4X,EAAI9vB,OAAS4B,KAAKC,IAAI,EAAGa,EAAEqa,GAAgB,IAAX7E,GAChC2jB,EAAiBziB,SAAS0W,GAC1Bj0B,EAAI6b,IAAI9R,EAAKkqB,EACf,CAGAA,EAAIjwB,EAAI6C,EAAE7C,GAAK6C,EAAE82B,IAAW,GAC5B1J,EAAIhwB,EAAI4C,EAAE5C,EACV,MAAM25B,EAAM73B,KAAKwZ,IAAI0U,EAAI4J,MAAM75B,GAAK,GACpCiwB,EAAI4J,MAAM75B,EAAI6C,EAAE82B,KAAO,EAAIC,GAAOA,CACpC,CAGA,IAAK,MAAO7zB,EAAKkqB,KAAQj0B,EAAIuuB,UAC3B,IAAK6R,EAAK3kB,IAAI1R,GAAM,CAClB,IACEkqB,EAAIzV,QAAUyV,EAAIzV,OAAOC,YAAYwV,EACvC,CAAE,MAAO1zB,GACP,CAEF,IACE0zB,EAAIvV,SAAWuV,EAAIvV,SACrB,CAAE,MAAOne,GACP,CAEFP,EAAI+b,OAAOhS,EACb,GDqeIg2B,CAAgBlI,GAAoBhjB,QAASijB,GAAqBjjB,QAASojB,GAAmBpjB,QAASqT,EAAe7L,GAGtH,MAAMiiB,EAAOnH,EAAetiB,SAAW,CAAC,EE1hBpByrB,EAACvE,EAAewE,EAAkBC,EAActY,EAAe7L,KACzF,IAAK0f,EAAe,OAEpB,MAAMqE,EAAO,IAAIlS,IACXiS,EAAOK,GAAgB,GAE7B,IAAK,MAAMC,KAAON,EAAM,CACtB,MAAMp2B,EAAM02B,EAAItgC,GAChBigC,EAAK1D,IAAI3yB,GAET,IAAIkqB,EAAMsM,EAAiBjlB,IAAIvR,GAC/B,MAAMse,EAAMoY,EAAIpY,KAAO,CAAC,EAEnB4L,IAEHA,EAAM,IAAIpB,GAAAA,IAAOlX,GAAAA,IAAQmX,OACzBmB,EAAIW,OAAO/Y,IAAI,EAAG,GAClBkgB,EAAcxe,SAAS0W,GACvBsM,EAAiB1kB,IAAI9R,EAAKkqB,GAC1BA,EAAIyM,iBAAmB,GAIzB,MAAMzN,EAAc5B,GAAWhJ,EAAI1Q,SAC7B8V,EAASwF,GAAaxF,OACtBkT,EAAiBlT,GAAUA,EAAOvpB,MAAQ,EAEhD,GAAImkB,EAAIuY,aAAevY,EAAIuY,YAAYv5B,SAAWs5B,EAAgB,CAChE,MAAME,EAAUxY,EAAIuY,YAAYC,SAAW,EACrCC,OAAwCl+B,IAA3B69B,EAAIM,mBAAmCN,EAAIM,mBAAqB,EAEnF,GAAI9M,EAAIyM,kBAAoBI,EAAY,CACtC,MAAME,EAAWvT,EAAOvpB,MAClB+8B,EAAYxT,EAAOtpB,OACnB+8B,EAAe7Y,EAAIuY,YAAYM,cAAgB,EAGrD,IAAIC,EAAmBN,IAClBM,GAAoBA,GAAoB,KACzCA,EAAmBp7B,KAAK2W,MAAMskB,GAAY3Y,EAAIuY,YAAYQ,YAAc,MAAQ,GAGpF,MAAMA,EAAaJ,EAAWG,EACxBE,EAAcJ,EAAYl7B,KAAKmY,KAAKgjB,EAAeC,GAEnDG,EAAMR,EAAaK,EACnBI,EAAMx7B,KAAK2W,MAAMokB,EAAaK,GAE9BlkB,EAAO,IAAIukB,GAAAA,IAAUF,EAAMF,EAAYG,EAAMF,EAAaD,EAAYC,GAE5E,IACIpN,EAAItc,QAAU,IAAIgE,GAAAA,IAAQ,CACxB8R,OAAQA,EACRgU,MAAOxkB,IAETgX,EAAIyM,gBAAkBI,CAC1B,CAAE,MAAOvgC,GACL8I,QAAQoN,KAAK,uCAAuC1M,WAAa+2B,IAAcvgC,GAC/E0zB,EAAItc,QAAUsb,CAClB,CACF,CACF,MAAW0N,EACL1M,EAAItc,UAAYsb,IAClBgB,EAAItc,QAAUsb,EACdgB,EAAIyM,iBAAmB,GAEhBrY,EAAIiM,YAEPL,EAAItc,UAAYgE,GAAAA,IAAQmX,QAAOmB,EAAItc,QAAUgE,GAAAA,IAAQmX,OAK7D,MAAM4O,EAAcjB,EAAIv8B,OAASmY,EAC3BslB,EAAelB,EAAIt8B,QAAUkY,EAEnC4X,EAAI/vB,MAAQw9B,EACZzN,EAAI9vB,OAASw9B,EAGR1N,EAAI4J,MAAM75B,IAAK49B,MAAM3N,EAAI4J,MAAM75B,KAAIiwB,EAAI4J,MAAM75B,EAAI,GACjDiwB,EAAI4J,MAAM55B,IAAK29B,MAAM3N,EAAI4J,MAAM55B,KAAIgwB,EAAI4J,MAAM55B,EAAI,GAGtD,MAAMM,OAA8B3B,IAAlB69B,EAAIl8B,UAA0Bk8B,EAAIl8B,UAAY,EAC1Ds9B,EAAY97B,KAAKwZ,IAAI0U,EAAI4J,MAAM75B,GACrCiwB,EAAI4J,MAAM75B,EAAIO,GAAa,EAAIs9B,GAAaA,EAG5C5N,EAAIjwB,EAAIy8B,EAAIz8B,GAAKO,EAAY,EAAIm9B,EAAc,GAC/CzN,EAAIhwB,EAAIw8B,EAAIx8B,CACd,CAGA,IAAK,MAAO8F,EAAKkqB,KAAQsM,EAAiBhS,UACnC6R,EAAK3kB,IAAI1R,KACRkqB,EAAIzV,QAAQyV,EAAIzV,OAAOC,YAAYwV,GACvCA,EAAIvV,QAAQ,CAAEjM,UAAU,EAAMkF,SAAS,IACvC4oB,EAAiBxkB,OAAOhS,KFybtBu2B,CAAavI,GAAiBljB,QAASmjB,GAAiBnjB,QAASypB,EAAKwD,SAAU5Z,EAAe7L,IAEnG,CAAE,MAAO3a,GACP2H,QAAQ3H,MAAM,yBAA0BA,EAC1C,GAGF+O,GAEO,KAEL,GADAsqB,GAAY,EACR7E,EAAOrhB,QAAS,CAClB,MAAMktB,EAAe7L,EAAOrhB,QAC5BqhB,EAAOrhB,QAAU,KACjBktB,EAAarjB,SAAQ,EAAM,CAAEjM,UAAU,EAAMkF,SAAS,GACxD,CACA,IAAM2f,EAAgBziB,SAAS6J,SAAW,CAAE,MAAO,CACnD,IAAMma,GAAWhkB,SAAS6J,SAAW,CAAE,MAAO,CAC9C,IAAMoa,GAAcjkB,SAAS6J,SAAW,CAAE,MAAO,CACjD,IAAMqa,GAAalkB,SAAS6J,SAAW,CAAE,MAAO,CAChD,IAAM0X,EAAmBvhB,SAAS6J,SAAW,CAAE,MAAO,CACtD0X,EAAmBvhB,QAAU,KAC7B,IAAMqjB,GAAoBrjB,SAASmH,SAAW,CAAE,MAAO,CACvD,IACEwb,GAAkB3iB,QAAQ4iB,MAAM/Y,UAChC8Y,GAAkB3iB,QAAQ6iB,MAAMhZ,UAChC8Y,GAAkB3iB,QAAQoc,KAAKvS,SACjC,CAAE,MAAO,CC/fsBuhB,KACjC,IACE,IAAK,MAAMhM,KAAOgM,EAAqB+B,SAAU,CAC/C,IACE/N,EAAIzV,QAAUyV,EAAIzV,OAAOC,YAAYwV,EACvC,CAAE,MAAO1zB,GACP,CAEF,IACE0zB,EAAIvV,SAAWuV,EAAIvV,SACrB,CAAE,MAAOne,GACP,CAEJ,CACA0/B,EAAqBjkB,OACvB,CAAE,MAAOzb,GACP,GDgfA0hC,CAAmBnK,GAAqBjjB,SE7cZ0rB,KAC9B,IAAK,MAAMtM,KAAOsM,EAAiByB,SAC7B/N,EAAIzV,QAAQyV,EAAIzV,OAAOC,YAAYwV,GACvCA,EAAIvV,QAAQ,CAAEjM,UAAU,EAAMkF,SAAS,IAEzC4oB,EAAiBvkB,SFycfkmB,CAAgBlK,GAAiBnjB,SLviBnCuc,GAAgBluB,QAAS4O,GAAMA,EAAE4M,SAAW5M,EAAE4M,SAAQ,IACtD0S,GAAgBpV,UKyiBb,KAGHtH,EAAAA,EAAAA,WAAU,KACR,MAAMumB,EAAM/E,EAAOrhB,QACnB,IAAKomB,EAAK,OAEV,IAAIkH,GAAS,EAwEb,MAtEmBnH,WAEf,MAAMwB,EAAS,IAAItO,IACbuO,EAAUlZ,IAAyB,kBAANA,GAAkBA,EAAEhL,QAAQikB,EAAOE,IAAInZ,IAC1E2E,EAAchlB,QAASmlB,IACnBoU,EAAOpU,GAAK1Q,SACRG,MAAMC,QAAQsQ,GAAKxQ,WAAWwQ,EAAIxQ,SAAS3U,QAAQu5B,KAEvD3H,IACA2H,EAAO3H,EAAcnd,SACjBG,MAAMC,QAAQ+c,EAAcjd,WAAWid,EAAcjd,SAAS3U,QAAQu5B,IAG9E,MAAME,EAAO7kB,MAAM8D,KAAK4gB,GAKxB,GAJIG,EAAKpkB,cACCib,GAAAA,GAAOE,KAAKiJ,GAGjBwF,GAAWjM,EAAOrhB,SAEnB2hB,EAAM3hB,SAAW+hB,EAAa/hB,SAAWgiB,EAAYhiB,QAAS,CG5lB7CutB,EAAC7E,EAAM1O,KAClC,MAAM,SACJttB,EAAQ,UACRC,EAAS,SACT6a,EAAQ,YACRpb,EAAW,cACXC,EAAa,cACbC,EAAa,gBACbE,EAAe,cACf6mB,EAAa,eACb9mB,EAAc,SACd00B,GACEjH,GAEE,MAAE2H,EAAK,aAAEI,EAAY,YAAEC,EAAW,eAAEC,GAAmByG,EAE7D,IAAK/G,IAAUI,IAAiBC,EAAa,OAG7C,MAAMwL,EAAenmB,IACdA,GACYA,EAAUomB,iBAClBp/B,QAAQq/B,IACf,IAEEA,EAAM7jB,QAAQ,CAAEjM,UAAU,EAAMkF,SAAS,GAC3C,CAAE,MAAOpX,GAAI,KAIjB8hC,EAAY7L,GACZ6L,EAAYzL,GACZyL,EAAYxL,GACZwL,EAAYvL,GAAgByF,OAC5B8F,EAAYvL,GAAgB1I,OAI5B,MAAMoU,EAA0B,IAAInnB,IAC9BonB,EAA0B,IAAIpnB,IAG9B8M,EAAUhoB,GAAOqxB,GAAWtJ,EAAe/nB,GAMjD,IAAK,IAAIie,EAAI,EAAGA,EAAI7c,EAAWC,EAAW4c,IAAK,CAC7C,MAAMje,EAAKc,EAAYmd,GACvB,IAAKje,EAAI,SACT,MAAMkoB,EAAMF,EAAOhoB,GACnB,IAAKkoB,EAAK,SAGV,MAAMqa,EAAWvhC,IAAgBid,GAC3BukB,EAAYD,EAAWva,EAAOua,GAAY,KAC1CE,EAAgBD,GAAWE,QAC3BC,EAAiC,SAAlBF,GAA8C,UAAlBA,EAC3CG,EAAmC,WAAlBH,GAAgD,UAAlBA,EAC/CI,EAAmB3hC,GAAmBA,EAAgB+B,SAASgb,GAKrE,GAAI2kB,GAAkBC,EAAkB,CACtC,MAAMC,EAAcN,GAAWO,mBAAqBP,GAAWM,aAAe,qBACxEE,EAAcR,GAAWS,kBAC3BD,EACFV,EAAwB5mB,IAAIuC,EAAG6kB,GAE/BT,EAAwB3mB,IAAIuC,EAAG6kB,EAEnC,CAGA,IAaI5X,EAbAgY,GAAsB,GACtBP,GAIOC,GAAkBC,KAF3BK,GAAsB,GAWxB,IAAInP,EAAS,KACb,GAAIzC,GAAWpJ,IAAQqJ,GAAUrJ,IAAqB,WAAbA,EAAIze,MAAqC,aAAhBye,EAAIwa,QAGpE,SAKA,GAHI/qB,MAAMC,QAAQsQ,EAAIxQ,WAAawQ,EAAIxQ,SAASU,OAAS,IACvD2b,EAAS7L,EAAIxQ,SAAS7X,IAAKujB,GAAM8N,GAAW9N,IAAI3c,OAAOutB,UAErDD,GAAUA,EAAO3b,OAAS,EAC5B8S,EAAS,IAAI+I,GAAAA,IAAeF,GAC5B7I,EAAO7S,eAAiB8Y,GAAUjJ,EAAI7P,gBACtC6S,EAAOgJ,WACF,CACL,MAAM3Y,EAAM2V,GAAWhJ,EAAI1Q,UAAY,KACvC,IAAK+D,EAAK,SACV2P,EAAS,IAAIwH,GAAAA,IAAOnX,EACtB,CAGF,MAAM1X,EAAKoa,EAAI7c,EAAY8a,EACrBpY,EAAI8B,KAAK2W,MAAM0B,EAAI7c,GAAY8a,EAOrC,GANAgP,EAAOrnB,EAAIA,EACXqnB,EAAOpnB,EAAIA,EACXonB,EAAOnnB,MAAQmY,EACfgP,EAAOlnB,OAASkY,EAGZgnB,EAAqB,CAIvB,MAAMC,EAAU,IAAItmB,GAAAA,IACpBsmB,EAAQrmB,KAAKjZ,EAAGC,EAAGoY,EAAUA,GAC7BinB,EAAQpmB,KAAK,CAAEtH,MAAO,EAAUuH,MAAO,KACvCqZ,EAAMjZ,SAAS+lB,GAEfjY,EAAOlO,MAAQ,GAEX2Z,GAAgByF,MAClBzF,EAAeyF,MAAMhf,SAAS8N,GAE9BmL,EAAMjZ,SAAS8N,EAEnB,MAEEmL,EAAMjZ,SAAS8N,EAEnB,CAGA,IAAK,IAAIjN,EAAI,EAAGA,EAAI7c,EAAWC,EAAW4c,IAAK,CAC7C,MAAMje,EAAKe,EAAckd,GACzB,IAAKje,GAAMA,EAAGiD,SAAS,UAAW,SAClC,MAAMilB,EAAMF,EAAOhoB,GACnB,IAAKkoB,GAAoB,WAAbA,EAAIze,MAAqC,aAAhBye,EAAIwa,SAA0C,aAAhBxa,EAAIwa,SAA0Bxa,EAAIkb,WAAY,SAEjH,MAAMjhC,EAAQlB,GAAkBA,EAAegd,IAAO,CAAC,EACjDwI,EAAOyB,EAAI3jB,WAAa,IACxBD,OAAyB7B,IAAhBN,EAAKmC,OAAuBnC,EAAKmC,OAASmiB,EAEzD,IAAI4c,EACJ,GAAInb,EAAIuY,aAAevY,EAAIuY,YAAYv5B,QAAS,CAC9C,MAAM65B,EAAe7Y,EAAIuY,YAAYM,cAAgB,EAC/CL,EAAUxY,EAAIuY,YAAYC,SAAWK,EAErCuC,EAAgB19B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAMxB,EAASmiB,EAAQ,MAClE,IAAIka,EAAa/6B,KAAK2W,OAAO,EAAI+mB,EAAgB,MAAQvC,EAAe,IACxEJ,EAAa/6B,KAAKC,IAAI,EAAGD,KAAKE,IAAIi7B,EAAe,EAAGJ,IAEpD,MAAM7N,EAAc5B,GAAWhJ,EAAI1Q,SAC7B8V,EAASwF,GAAaxF,OAC5B,GAAIA,GAAUA,EAAOvpB,MAAQ,EAAG,CAC9B,MAGMk9B,EAHW3T,EAAOvpB,MAGM28B,EACxBQ,EAHY5T,EAAOtpB,OAGO4B,KAAKmY,KAAKgjB,EAAeL,GAEnDS,EAAMR,EAAaD,EACnBU,EAAMx7B,KAAK2W,MAAMokB,EAAaD,GAE9B5jB,EAAO,IAAIukB,GAAAA,IAAUF,EAAMF,EAAYG,EAAMF,EAAaD,EAAYC,GAEtEqC,EAAe,IAAI/nB,GAAAA,IAAQ,CAC7B8R,OAAQA,EACRgU,MAAOxkB,IAEXumB,EAAgB,IAAI3Q,GAAAA,IAAO6Q,EAC7B,MACEF,EAAgBxP,GAAmB3L,EAEvC,MACEmb,EAAgBxP,GAAmB3L,GAGrC,IAAKmb,EAAe,SAEpB,MAAMx/B,EAAKoa,EAAI7c,EAAY8a,EACrBpY,EAAI8B,KAAK2W,MAAM0B,EAAI7c,GAAY8a,EAGjCmnB,EAAc5O,QAAqC,KAA3B4O,EAAc5O,OAAO5wB,GAC/Cw/B,EAAcx/B,EAAIqY,EAAW,EAC7BmnB,EAAcv/B,EAAIoY,EAAW,IAE7BmnB,EAAcx/B,EAAI,EAClBw/B,EAAcv/B,EAAI,GAGpBu/B,EAAct/B,MAAQmY,EACtBmnB,EAAcr/B,OAASkY,EAGvB,MAAMH,EAAY,IAAI8K,GAAAA,IACtB9K,EAAUlY,EAAIA,EACdkY,EAAUjY,EAAIA,EAIVokB,EAAIsb,iBAAmB7N,IACvB5Z,EAAUgU,SAAU,GAIxB,MAAMwS,EAAWvhC,IAAgBid,GAC3BukB,EAAYD,EAAWva,EAAOua,GAAY,KAC1CE,EAAgBD,GAAWE,QAC3BE,EAAmC,WAAlBH,GAAgD,UAAlBA,EAC/CI,EAAmB3hC,GAAmBA,EAAgB+B,SAASgb,GAUrE,IARI2kB,GAAmBC,GAAqBlN,IAE1C5Z,EAAUgU,SAAU,GAGtBhU,EAAUqB,SAASimB,GAGfnb,EAAIub,gBAAkBn/B,EAASmiB,GAAQniB,EAAS,EAClD,IACE,MAAMo/B,EAAK,IAAIjV,GAAU,CACvB1qB,MAAOmY,EACPlY,OAAQ,EACR4qB,QAAS,EACTC,SAAU,IAEZ6U,EAAGnmB,OAAOjZ,EAAQmiB,GAClB1K,EAAUqB,SAASsmB,EACrB,CAAE,MAAOtjC,GAAI,CAGO8nB,EAAI+a,kBAExBvM,EAAYtZ,SAASrB,GAErB0a,EAAarZ,SAASrB,EAE1B,CAIA,GAAIsmB,EAAwB7a,KAAO,GAAKmP,GAAgByF,MAAO,CAC7D,MAAM3uB,EAAU,IAAIoP,GAAAA,IACpBwlB,EAAwBt/B,QAAQ,CAAC+/B,EAAa9/B,KAC5C,MAAMa,EAAKb,EAAM5B,EAAY8a,EACvBpY,EAAI8B,KAAK2W,MAAMvZ,EAAM5B,GAAY8a,EAEjCynB,EAAQb,EAAYa,MAAM,qDAChC,GAAIA,EAAO,CACT,MAAMxrB,EAAIoa,SAASoR,EAAM,IACnB/mB,EAAI2V,SAASoR,EAAM,IACnBxgB,EAAIoP,SAASoR,EAAM,IACnBzgB,EAAIygB,EAAM,GAAKC,WAAWD,EAAM,IAAM,EAE5Cl2B,EAAQqP,KAAKjZ,EAAGC,EAAGoY,EAAUA,GAC7BzO,EAAQsP,KAAK,CAAEtH,MAAQ0C,GAAK,GAAOyE,GAAK,EAAKuG,EAAGnG,MAAOkG,GACzD,IAEFyT,EAAeyF,MAAMhf,SAAS3P,EAChC,CAGA,GAAI60B,EAAwB9a,KAAO,GAAKmP,GAAgB1I,MAAO,CAC7D,MAAMxgB,EAAU,IAAIoP,GAAAA,IACpBylB,EAAwBv/B,QAAQ,CAAC+/B,EAAa9/B,KAC5C,MAAMa,EAAKb,EAAM5B,EAAY8a,EACvBpY,EAAI8B,KAAK2W,MAAMvZ,EAAM5B,GAAY8a,EAEjCynB,EAAQb,EAAYa,MAAM,qDAChC,GAAIA,EAAO,CACT,MAAMxrB,EAAIoa,SAASoR,EAAM,IACnB/mB,EAAI2V,SAASoR,EAAM,IACnBxgB,EAAIoP,SAASoR,EAAM,IACnBzgB,EAAIygB,EAAM,GAAKC,WAAWD,EAAM,IAAM,EAE5Cl2B,EAAQqP,KAAKjZ,EAAGC,EAAGoY,EAAUA,GAC7BzO,EAAQsP,KAAK,CAAEtH,MAAQ0C,GAAK,GAAOyE,GAAK,EAAKuG,EAAGnG,MAAOkG,GACzD,IAEFyT,EAAe1I,MAAM7Q,SAAS3P,EAChC,GH0TUw0B,CACI,CAAE5L,MAAOA,EAAM3hB,QAAS+hB,aAAcA,EAAa/hB,QAASgiB,YAAaA,EAAYhiB,QAASiiB,eAAgBA,EAAejiB,SAC7H,CAAEtT,WAAUC,YAAW6a,WAAUpb,cAAaC,gBAAeC,gBAAeE,kBAAiB6mB,gBAAe9mB,iBAAgB00B,aAIhI,MAAMkO,EAAShN,EAAeniB,QAC9B,GAAImvB,EAAQ,CACR,GAAIjN,EAAUliB,QAAS,CACnBmvB,EAAOvlB,YAAYsY,EAAUliB,SAC7B,IAAMkiB,EAAUliB,QAAQ6J,QAAQ,CAAEjM,UAAU,GAAS,CAAE,MAAO,CAClE,CAEA,MAAMmqB,EAAmB/H,GAAsBC,EAAe5M,EAAeiP,EAAetiB,QAASwH,GACrG2nB,EAAOzmB,SAASqf,EAAiB1gB,WACjC6a,EAAUliB,QAAU+nB,EAAiB1gB,UACrC+a,EAAiBpiB,QAAU+nB,EAAiBvH,QAC5C6B,EAAmBriB,QAAU+nB,EAAiBxH,SAClD,CAIA,MAAM6O,EAAiB96B,KAAKM,UAAUxI,GAChCijC,EAAqB5M,EAAgBziB,SAASsvB,cACpD,GAAIF,IAAmBC,EAAoB,CACvC,IACQ5M,EAAgBziB,SAASyiB,EAAgBziB,QAAQ6J,UACjD2Y,EAAexiB,UACfyiB,EAAgBziB,QAAU,IAAI8U,GAAmB0N,EAAexiB,QAAS,CAAEtT,WAAUC,YAAW6a,aAChGib,EAAgBziB,QAAQ2X,MAAM,CAAEjrB,WAAUC,YAAW6a,WAAUpb,cAAainB,kBAC5EoP,EAAgBziB,QAAQsvB,cAAgBF,EAEhD,CAAE,MAAO1jC,GAAK8I,QAAQoN,KAAK,qCAAsClW,EAAI,CACrE,IAAMu4B,GAAcjkB,SAASoT,gBAAgB,CAAE1mB,WAAUC,YAAW6a,WAAUpb,cAAainB,iBAAkB,CAAE,MAAO,CAC1H,CAGA,GAAI+S,EAAIM,UAAYN,EAAIM,SAAS6I,QAC7B,UACUnJ,EAAIM,SAAS6I,QAAQC,OAAOpJ,EAAIO,MAC1C,CAAE,MAAOj7B,GACL,CAGZ,GAGJ+jC,GAEO,KAAQnC,GAAS,IACvB,CAAClhC,EAAaC,EAAegnB,EAAe3mB,EAAUC,EAAW6a,EAAUlb,EAAeE,EAAiBD,EAAgB0zB,EAAeiB,KAG7IrhB,EAAAA,EAAAA,WAAU,KACR,MAAMumB,EAAM/E,EAAOrhB,QACbmnB,EAAe5E,EAAgBviB,QAC/BsnB,EAAW5E,EAAY1iB,QAC7B,IAAKomB,IAAQe,IAAiBG,EAAU,OAExC,MAAMhgB,EAAM,CACVkD,aACA9d,WACAC,YACA6a,WACA0C,kBAAmBA,CAACnV,EAAM5F,KACxB,IAAM,OAAOszB,EAAgBziB,SAAS+V,cAAchhB,EAAM5F,EAAI,CAAE,MAAQ,OAAO,IAAM,GAEvFkb,cAAeA,EAAGlb,IAAGW,WAAW,OAC9B,IACE,MAAMs6B,EAAK3H,EAAgBziB,SAAS+V,cAAc,QAAS5mB,GACvD6Y,OAAOoC,SAASggB,IAAKpG,GAAWhkB,SAASwS,QAAQ,CAAErjB,IAAGC,EAAGg7B,EAAIt6B,SAAUoB,KAAKC,IAAI,GAAKD,KAAKE,IAAI,EAAGtB,IAAY2iB,QAAQ,IACzH,IAAMgQ,EAAgBziB,SAAS8Z,UAAU,QAAS3qB,EAAG+B,KAAKC,IAAI,GAAKD,KAAKE,IAAI,IAAKtB,IAAa,CAAE,MAAO,CACzG,CAAE,MAAO,GAEXya,aAAcA,EAAGpb,IAAGC,IAAGU,WAAW,OAChC,IACE,MAAMs6B,EAAK3H,EAAgBziB,SAAS+V,cAAc,OAAQ5mB,GACpDugC,EAAK1nB,OAAOoC,SAAShb,GAAKA,EAAK4Y,OAAOoC,SAASggB,GAAMA,EAAK,KACtD,MAANsF,GAAYxL,GAAalkB,SAASwS,QAAQ,CAAErjB,IAAGC,EAAGsgC,EAAI5/B,YAC5D,CAAE,MAAO,IAIP6/B,EAAmBA,IAAMz+B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4W,OAAOlV,IAAgB,IAC1E88B,EAAmBA,IAAM1+B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4W,OAAOjV,IAAgB,IAC1E88B,EAAqBA,IAAM3+B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4W,OAAOhV,IAAkB,IAC9E88B,EAAsBA,IAAM5+B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK4W,OAAO9U,IAAmB,IAGtF,IAAMyvB,GAAkB3iB,QAAQ4iB,MAAM/Y,SAAW,CAAE,MAAO,CAC1D,IAAM8Y,GAAkB3iB,QAAQ6iB,MAAMhZ,SAAW,CAAE,MAAO,CAC1D,IAAM8Y,GAAkB3iB,QAAQ8iB,QAAQjZ,SAAW,CAAE,MAAO,CAC5D,IAAM8Y,GAAkB3iB,QAAQoc,KAAKvS,SAAW,CAAE,MAAO,CACzD,IAAM8Y,GAAkB3iB,QAAQ+iB,SAASlZ,SAAW,CAAE,MAAO,CAC7D8Y,GAAkB3iB,QAAQ4iB,KAAO,KACjCD,GAAkB3iB,QAAQ6iB,KAAO,KACjCF,GAAkB3iB,QAAQ8iB,OAAS,KACnCH,GAAkB3iB,QAAQoc,IAAM,KAChCuG,GAAkB3iB,QAAQ+iB,QAAU,KAGhC4M,IAAqB,IACvBhN,GAAkB3iB,QAAQ4iB,KAAO,IAAIxb,GAAY+f,EAAc7f,EAAKqoB,GACpEhN,GAAkB3iB,QAAQ4iB,KAAK9a,aAAa6nB,MAI1CC,IAAqB,IACvBjN,GAAkB3iB,QAAQ6iB,KAAO,IAAIhY,GAAYsc,EAAc7f,EAAKsoB,GACpEjN,GAAkB3iB,QAAQ6iB,KAAK/a,aAAa8nB,MAI1CC,IAAuB,IACzBlN,GAAkB3iB,QAAQ8iB,OAAS,IAAInX,GAAc2b,EAAUhgB,EAAKuoB,GACpElN,GAAkB3iB,QAAQ8iB,OAAOhb,aAAa+nB,MAI5C7nB,OAAO/U,GAAc,IACvB0vB,GAAkB3iB,QAAQoc,IAAM,IAAIhP,GAAWka,EAAUhgB,EAAK,IAAMU,OAAO/U,IAAe,GAC1F0vB,GAAkB3iB,QAAQoc,IAAItU,aAAaE,OAAO/U,IAAe,IAI/D68B,IAAwB,IAC1BnN,GAAkB3iB,QAAQ+iB,QAAU,IAAI7T,GAAeoY,EAAUhgB,EAAKwoB,GACtEnN,GAAkB3iB,QAAQ+iB,QAAQjb,aAAagoB,OAEhD,CAACh9B,EAAaC,EAAaC,EAAeC,EAAYC,EAAgBxG,EAAUC,EAAW6a,EAAUgD,MAGxG3K,EAAAA,EAAAA,WAAU,KACRwlB,MACC,CAACrE,EAAiBpgB,EAAiBykB,MAE/BxnB,EAAAA,GAAAA,KAAA,OAAKyC,IAAK8gB,EAAU3jB,MAAO,CAAEpO,MAAO,OAAQC,OAAQ,WAG7DyxB,GAAUgP,UAAY,CACpBrjC,SAAUsjC,KAAAA,OAAiBC,WAC3BtjC,UAAWqjC,KAAAA,OAAiBC,WAC5BzoB,SAAUwoB,KAAAA,OACV5jC,YAAa4jC,KAAAA,MACb3jC,cAAe2jC,KAAAA,MACf1jC,cAAe0jC,KAAAA,MACfxjC,gBAAiBwjC,KAAAA,MACjB3c,cAAe2c,KAAAA,MACfza,YAAaya,KAAAA,OACb/P,cAAe+P,KAAAA,OACfhP,gBAAiBgP,KAAAA,OACjBpvB,gBAAiBovB,KAAAA,OACjBn9B,yBAA0Bm9B,KAAAA,OAC1Bn6B,cAAem6B,KAAAA,OACfl9B,YAAak9B,KAAAA,OACbj9B,YAAai9B,KAAAA,OACbh9B,cAAeg9B,KAAAA,OACf3/B,YAAa2/B,KAAAA,MACb58B,iBAAkB48B,KAAAA,KAClBzjC,eAAgByjC,KAAAA,OAChB/8B,WAAY+8B,KAAAA,OACZ98B,eAAgB88B,KAAAA,OAChB38B,iBAAkB28B,KAAAA,KAClB18B,eAAgB08B,KAAAA,KAChBz8B,qBAAsBy8B,KAAAA,KACtBx8B,kBAAmBw8B,KAAAA,MAGrB,YI9vBO,SAASE,GAAoBC,EAAY7jC,EAAeI,EAAUC,EAAW0mB,GAClF,MAAM+c,EAAgB9jC,EAAc6jC,GACpC,IAAKC,EAAe,MAAO,GAE3B,MAAMC,EAAWhd,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAO8kC,GAClD,IAAKC,GAA8B,WAAlBA,EAASt7B,KAAmB,MAAO,GAEpD,MAAMgjB,EAAU,IAAIsB,IACdiX,EAAS,GACTnY,EAAQ,CAACgY,GAEf,KAAOhY,EAAMzU,OAAS,GAAG,CACvB,MAAMpV,EAAM6pB,EAAM9D,QAClB,GAAI0D,EAAQnR,IAAItY,GAAM,SACtB,GAAIA,EAAM,GAAKA,GAAOhC,EAAcoX,OAAQ,SAE5CqU,EAAQ8P,IAAIv5B,GAEZ,MAAMu/B,EAAWvhC,EAAcgC,GAC/B,IAAKu/B,GAAYA,IAAauC,EAAe,SAE7CE,EAAO9hC,KAAKF,GAGZ,MAAMa,EAAIb,EAAM5B,EACV0C,EAAI8B,KAAK2W,MAAMvZ,EAAM5B,GAGvB0C,EAAI,GAAG+oB,EAAM3pB,MAAMY,EAAI,GAAK1C,EAAWyC,GAEvCC,EAAIzC,EAAY,GAAGwrB,EAAM3pB,MAAMY,EAAI,GAAK1C,EAAWyC,GAEnDA,EAAI,GAAGgpB,EAAM3pB,KAAKY,EAAI1C,GAAYyC,EAAI,IAEtCA,EAAIzC,EAAW,GAAGyrB,EAAM3pB,KAAKY,EAAI1C,GAAYyC,EAAI,GACvD,CAEA,OAAOmhC,CACT,CAOO,SAASC,IAAqB,SACnCC,EAAQ,SACRC,EAAQ,MACRphC,EAAK,OACLC,EAAM,cACNhD,EAAa,gBACbE,EAAe,SACfE,EAAQ,UACRC,EAAS,cACT0mB,EAAa,UACbtkB,IAEA,IAAKzC,GAA0C,IAAzBA,EAAcoX,OAAc,OAAO,KAGzD,MAAMgtB,EAAaF,EACbG,EAAcH,EAAWnhC,EACzBuhC,EAAYH,EACZI,EAAeJ,EAAWnhC,EAG1BwhC,EAAQ5/B,KAAK2W,MAAM6oB,EAAa3hC,GAChCgiC,EAAQ7/B,KAAK2W,OAAO8oB,EAAc,GAAK5hC,GACvCiiC,EAAQ9/B,KAAK2W,MAAM+oB,EAAY7hC,GAC/BkiC,EAAQ//B,KAAK2W,OAAOgpB,EAAe,GAAK9hC,GAG9C,IAAK,IAAI8kB,EAAKmd,EAAOnd,GAAMod,EAAOpd,IAChC,IAAK,IAAIE,EAAK+c,EAAO/c,GAAMgd,EAAOhd,IAAM,CACtC,GAAIA,EAAK,GAAKA,GAAMrnB,GAAYmnB,EAAK,GAAKA,GAAMlnB,EAAW,SAE3D,MAAM2B,EAAMulB,EAAKnnB,EAAWqnB,EACtB8Z,EAAWvhC,EAAcgC,GAC/B,IAAKu/B,EAAU,SAGf,GAAIrhC,GAAmBA,EAAgB+B,SAASD,GAAM,SAEtD,MAAMklB,EAAMH,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOuiC,GAC7C,IAAKra,GAAoB,WAAbA,EAAIze,KAAmB,SAInC,KADqC,WAAhBye,EAAIwa,SAAwC,UAAhBxa,EAAIwa,WAC/Bxa,EAAI0d,cAAe,SAIzC,MAAMC,EAAmBjB,GAAoB5hC,EAAKhC,EAAeI,EAAUC,EAAW0mB,GAGhF+d,EAAaD,EAAiBp/B,OAAOwX,IAAM/c,IAAoBA,EAAgB+B,SAASgb,IAa9F,OAXA/U,QAAQyP,IAAI,4BAA6B,CACvCotB,aAAc/iC,EACdgjC,gBAAiBzD,EACjB0D,eAAgB/d,EAAIwa,QACpBwD,eAAgBL,EAAiBztB,OACjC+tB,YAAaL,EAAW1tB,OACxBguB,aAAcN,EAAWtT,MAAM,EAAG,GAClC6T,mBAAoBP,EAAWtT,MAAM,EAAG,GAAG3yB,IAAIoe,GAAKjd,EAAcid,MAI7D6nB,EAAW1tB,OAAS,EAAI0tB,EAAa,IAC9C,CAGF,OAAO,IACT,CClGO,SAASQ,GAAa/iB,EAAKgjB,GAChC,IACE,MAAMC,EAAK37B,OAAO47B,cAAgB57B,OAAO67B,mBACzC,IAAKF,EAAI,OACT,IAAKjjB,GAAKojB,YAAa,OAClBpjB,EAAIojB,YAAYjyB,UAAS6O,EAAIojB,YAAYjyB,QAAU,IAAI8xB,GAC5D,MAAMI,EAAWrjB,EAAIojB,YAAYjyB,QACjC,IAAKkyB,EAAU,OACQ,cAAnBA,EAAS7kC,OAAuB6kC,EAASC,WAC7C,MAAM37B,EAAM07B,EAASE,YACfjlB,EAAM+kB,EAASG,mBACfC,EAAOJ,EAASK,aAEtBplB,EAAIpY,KAAO,SACXoY,EAAIqlB,UAAUC,eAAe,IAAKj8B,GAClC87B,EAAKA,KAAKG,eAAe,KAAQj8B,GACjC87B,EAAKA,KAAKI,6BAA6BxhC,KAAKC,IAAI,IAAqB,IAAd0gC,GAAO,KAAar7B,EAAM,KACjF87B,EAAKA,KAAKI,6BAA6B,KAAQl8B,EAAM,KACrD2W,EAAIwlB,QAAQL,GACZA,EAAKK,QAAQT,EAASU,aACtBzlB,EAAIyM,MAAMpjB,GACV2W,EAAI0lB,KAAKr8B,EAAM,IACjB,CAAE,MAAO,CACX,CC3CO,SAASs8B,IAAe,KAC7BjnC,EAAI,MACJwB,EAAK,WACL0lC,EAAU,UACVhkC,EAAS,SACTrC,EAAQ,UACRC,EAAS,eACTqmC,EAAc,SACdC,EAAW,GAAG,aACdC,EAAe,KAEf,IAAI,EAAE/jC,EAAC,GAAEI,EAAE,MAAEF,EAAK,UAAEK,GAAcrC,EAElC,MAAM8lC,EAAWtnC,GAAM2iB,GAAKukB,EAAclnC,GAAMgnB,EAAIkgB,EAAa,EAEhD,IAAbI,GAEF5jC,GAAM4jC,EAAWD,EACbhiC,KAAKwZ,IAAInb,GAAMwjC,IAAYxjC,EAAK2B,KAAKkiC,KAAK7jC,GAAMwjC,GACpDrjC,EAAYwB,KAAKkiC,KAAKD,KAGtB5jC,GAAM0jC,EACF/hC,KAAKwZ,IAAInb,GAAM,KAAKA,EAAK,IAG/B,MAAM8jC,EAAYlkC,EAAII,EAChBomB,EAAKtoB,EAAM+B,GAAK,EACtB,GAAI4jC,EAAeK,EAAW1d,EAAIjpB,EAAUC,GAAY,CAEtD,MAAM2mC,EAAO,GACPF,EAAOliC,KAAKkiC,KAAK7jC,GACvB,IAAIgkC,EAAQpkC,EAEZ,IAAK,IAAI0jB,EAAIygB,EAAMzgB,EAAI3hB,KAAKwZ,IAAInb,GAAKsjB,GAAKygB,EAAM,CAC9C,MAAME,EAAQrkC,EAAI0jB,EAAIugB,EACtB,GAAKJ,EAAeQ,EAAO7d,EAAIjpB,EAAUC,GAGvC,MAFA4mC,EAAQC,CAIZ,CACArkC,EAAIokC,EACJhkC,EAAK,CACP,MACEJ,EAAIkkC,EAGN,MAAO,CAAElkC,IAAGI,KAAIG,YAClB,CC9CO,SAAS+jC,IAAqB,KACnC5nC,EAAI,EACJsD,EAAC,EACDC,EAAC,GACDI,EAAE,WACFC,EAAU,UACVE,EAAS,QACT+jC,EAAO,kBACPC,EAAiB,WACjBC,EAAU,UACV7kC,EAAS,MACTM,EAAK,OACLC,EAAM,SACN5C,EAAQ,UACRC,EAAS,eACTqmC,EAAc,GACdzjC,EAAE,UACFskC,EAAS,YACTC,IAGA,MAEMC,EAAe7iC,KAAKC,IAAI,EAAGD,KAAK2W,MAA0B,GAApB8rB,IAG5C,IAAIrjC,GAAU,EACVC,GAAiB,EACjBC,GAAY,EAChB,GAAyB,oBAAdqjC,EAA0B,CACnC,MAAMhnB,EAAK1d,EAA2B,IAAtBE,GAASN,GACnBilC,EAAQ5kC,EAAI8B,KAAKE,IAAI,EAA2B,MAAvB9B,GAAUP,IAEnCklC,EAAS7kC,EAA4B,KAAvBE,GAAUP,GAC9BuB,KAAaujC,EAAUhnB,EAFTzd,GAAKE,GAAUP,GAAa,KAEL8kC,EAAUhnB,EAAIonB,IACnD1jC,IAAmBsjC,EAAUhnB,EAAImnB,GACjCxjC,EAAYF,IAAYC,CAC1B,CAGA,GAAI1E,GAAMqoC,OAASroC,GAAMugB,EACvB,GAAI9b,EAAS,CAEX,MAAM6jC,EAAcjjC,KAAKC,IAAI,EAAGD,KAAK2W,MAAmB,IAAb+rB,IAC3CpkC,EAAK0B,KAAKE,IAAI5B,EAAI,GAClBA,GAAoB,GAAd2kC,EACNxkC,EAAY,MACd,MAAWF,IACTD,GAAMokC,EACNnkC,GAAa,EACbE,EAAY,QA2ChB,OAtCIW,GAEGwjC,IACHtkC,GAAM,IAERA,GAAgB,GAAVkkC,GACNlkC,GAvCiB,KAwCRukC,IAAcvkC,EAAKukC,KAE5BvkC,GAAMkkC,GACGC,IAAmBnkC,EAAKmkC,GAI/BX,EAAe7jC,EAAGC,EAAII,EAAI9C,EAAUC,IAClC6C,EAAK,GAEPC,GAAa,EACbL,EAAI8B,KAAK2W,OAAOzY,EAAII,EAAKF,GAAUP,GAAaA,EAAYO,EAE1DK,EADEuB,KAAKwZ,IAAInb,GAAM,GAAK,EACV,MAEA,QAELC,EAAK,IAEdJ,EAAI8B,KAAKmY,MAAMja,EAAII,GAAMT,GAAaA,GAExCS,EAAK,IAGLC,GAAa,EACbL,GAAKI,EACDA,EAAK,IACPG,EAAY,SAIT,CAAEP,IAAGI,KAAIC,aAAYE,YAAWW,UAASC,iBAAgBC,YAClE,CC3FO,SAAS4jC,GAAiBtP,EAAIC,EAAIsP,EAAeC,EAAgBvlC,EAAWwlC,EAAUlhB,GAC3F,GAAI0R,EAAK,EAAG,OAAO,KACnB,MAAMhR,EAAK7iB,KAAK2W,MAAMid,EAAK/1B,GACrB8kB,EAAK3iB,KAAK2W,MAAMkd,EAAKh2B,GAC3B,GAAIglB,EAAK,GAAKF,EAAK,GAAKE,GAAMsgB,GAAiBxgB,GAAMygB,EAAgB,OAAO,KAC5E,MACMhpC,EAAKipC,EADC1gB,EAAKwgB,EAAgBtgB,GAEjC,IAAKzoB,EAAI,OAAO,KAChB,MAAMkoB,EAAMvQ,MAAMC,QAAQmQ,GAAiBA,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOA,GAAM,KAClF,IAAKkoB,IAAQA,EAAIC,QAAUD,EAAIC,MAAMoE,OAAQ,OAAO,KAqBpD,MAAO,CAAErE,MAAKze,KApBDye,EAAIC,MAAMqE,MAAQ,QAAWtE,EAAIC,MAAMC,KAAO,OAAS,SAoBhD8gB,OAnBL,CACbC,SAAUzsB,OAAOwL,GAAKqE,QAAQ4c,UAC9BC,MAAO1sB,OAAOwL,GAAKqE,QAAQ8c,MAAMxlC,GACjCylC,MAAO5sB,OAAOwL,GAAKqE,QAAQ8c,MAAMvlC,GACjC0J,UAAW0a,GAAKqE,QAAQ/e,QACxB+7B,WAAqC,IAA1BrhB,GAAKC,OAAOohB,YAAiD,IAA3BrhB,GAAKqE,QAAQgd,UAC1DC,IAAK9sB,OAAOwL,GAAKqE,QAAQkd,iBAEzB9kC,OAAQ,CACN+kC,eAAgBhtB,OAAOwL,GAAKqE,QAAQ5nB,QAAQ+kC,gBAC5CC,eAAgBjtB,OAAOwL,GAAKqE,QAAQ5nB,QAAQglC,gBAC5CC,4BAA6BltB,OAAOwL,GAAKqE,QAAQ5nB,QAAQilC,8BAE3DC,WAAY,CACVH,eAAgBhtB,OAAOwL,GAAKqE,QAAQsd,YAAYH,gBAChDC,eAAgBjtB,OAAOwL,GAAKqE,QAAQsd,YAAYF,gBAChDC,4BAA6BltB,OAAOwL,GAAKqE,QAAQsd,YAAYD,+BAInE,CAaO,SAASE,IAAoB,EAAEjmC,EAAC,EAAEC,EAAC,MAAEC,EAAK,OAAEC,EAAM,UAAEP,EAAS,SAAErC,EAAQ,UAAEC,EAAS,SAAE4nC,EAAQ,cAAElhB,IACnG,MAAMxG,EAAK1d,EAAY,GAARE,EACT2kC,EAAQ5kC,EAAI8B,KAAKE,IAAI,EAAY,KAAT9B,GACxB2kC,EAAS7kC,EAAa,IAATE,EAGb+lC,EAAOjB,GAAiBvnB,EAFhBzd,EAAIE,EAAS,EAEc5C,EAAUC,EAAWoC,EAAWwlC,EAAUlhB,GAC7EiiB,EAAQlB,GAAiBvnB,EAAIonB,EAAQvnC,EAAUC,EAAWoC,EAAWwlC,EAAUlhB,GAC/EkiB,EAAOnB,GAAiBvnB,EAAImnB,EAAOtnC,EAAUC,EAAWoC,EAAWwlC,EAAUlhB,GAE7EmiB,EAAYH,GAAQC,GAASC,EACnC,IAAKC,EACH,MAAO,CAAE7L,UAAU,EAAOrF,WAAW,EAAO9zB,WAAW,EAAOuE,KAAM,KAAMy/B,OAAQ,MAEpF,MAoBM7K,KAAc0L,IAAQC,GACtBhR,IAAciR,EAEpB,MAAO,CAAE5L,WAAUrF,YAAW9zB,UADZm5B,IAAarF,EACUvvB,KAvB5BygC,EAAUzgC,KAuBwBy/B,OArBrC,CACRC,SAAUzsB,OAAOoC,SAASorB,EAAUhB,OAAOC,UAAYe,EAAUhB,OAAOC,SAAW,GACnFC,MAAO1sB,OAAOoC,SAASorB,EAAUhB,OAAOE,OAASc,EAAUhB,OAAOE,MAAQ,IAC1EE,MAAO5sB,OAAOoC,SAASorB,EAAUhB,OAAOI,OAASY,EAAUhB,OAAOI,MAAQ,IAC1E97B,UAAW08B,EAAUhB,OAAO17B,QAC5B+7B,YAAaW,EAAUhB,OAAOK,UAC9BC,IAAK9sB,OAAOoC,SAASorB,EAAUhB,OAAOM,KAAO5jC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOM,KAAO,EACjF7kC,OAAQ,CACN+kC,eAAgBhtB,OAAOoC,SAASorB,EAAUhB,QAAQvkC,QAAQ+kC,gBAAkB9jC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOvkC,OAAO+kC,gBAAkB,GAClIC,eAAgBjtB,OAAOoC,SAASorB,EAAUhB,QAAQvkC,QAAQglC,gBAAkB/jC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOvkC,OAAOglC,gBAAkB,GAClIC,4BAA6BltB,OAAOoC,SAASorB,EAAUhB,QAAQvkC,QAAQilC,6BAA+BhkC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOvkC,OAAOilC,6BAA+B,IAE3KC,WAAY,CACVH,eAAgBhtB,OAAOoC,SAASorB,EAAUhB,QAAQW,YAAYH,gBAAkB9jC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOW,WAAWH,gBAAkB,GAC1IC,eAAgBjtB,OAAOoC,SAASorB,EAAUhB,QAAQW,YAAYF,gBAAkB/jC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOW,WAAWF,gBAAkB,GAC1IC,4BAA6BltB,OAAOoC,SAASorB,EAAUhB,QAAQW,YAAYD,6BAA+BhkC,KAAKC,IAAI,EAAGqkC,EAAUhB,OAAOW,WAAWD,6BAA+B,KAOvL,CAQO,SAASO,GAAiBvwB,EAAKwwB,EAASlB,GAC7C,MAAMM,EAAM5jC,KAAKC,IAAI,EAAG6W,OAAOwsB,GAAQM,MAAQ,GAC/C,GAAIA,GAAO,EAA6B,YAAxB5vB,EAAIywB,OAAO31B,QAAU,GACrCkF,EAAIywB,OAAO31B,SAAW9O,KAAKC,IAAI,EAAG6W,OAAO0tB,IAAY,GAErD,KAAOxwB,EAAIywB,OAAO31B,SADL,KACsB,CACjCkF,EAAIywB,OAAO31B,SAFA,IAGX,MAAMgN,EAAMhF,OAAO9C,EAAI0wB,UAAU51B,QAAQpQ,SAAW,EACpDsV,EAAI0wB,UAAU51B,QAAQpQ,OAASsB,KAAKC,IAAI,EAAG6b,EAAM8nB,GACjD,MAAMe,EAAe,IACfhc,EAAO7R,OAAO9C,EAAI0wB,UAAU51B,QAAQtP,aAAe,EACzDwU,EAAI0wB,UAAU51B,QAAQtP,WAAaQ,KAAKC,IAAI0oB,EAAMgc,EACpD,CACF,CCjGO,SAASC,GAAYjnB,EAAKpY,GAC/B,MAAM,QACJlJ,EAAO,WACPwoC,EAAU,MACVC,EAAK,KACLtN,EAAI,UACJuN,EAAS,QACTC,EAAO,QACPpnC,GACE+f,GAEE,UAAE+mB,EAAS,cAAEO,EAAa,YAAEC,EAAW,eAAEC,EAAc,YAAEC,EAAW,iBAAEC,EAAgB,2BAAEC,EAA0B,oBAAEC,EAAmB,kBAAEC,GAAsBhO,GAC/J,UAAE35B,EAAS,QAAE2kC,EAAO,kBAAEC,EAAiB,WAAEZ,EAAU,WAAEa,GAAeqC,GACpE,eAAEjD,EAAc,UAAEa,EAAS,gBAAE8C,GAAoBT,GACjD,YAAEU,EAAW,mBAAEC,EAAkB,kBAAEC,EAAiB,aAAEC,EAAY,gBAAEC,EAAe,QAAEC,EAAO,kBAAEC,EAAiB,UAAEC,EAAS,WAAEC,GAAetoC,EAGjJ,IAAKqnC,EAAcn2B,UAAYzS,EAC7B,MAAO,CAAE8pC,UAAU,GAIhBjB,EAAYp2B,UACfo2B,EAAYp2B,QAAUvJ,GAExB,MAAMi/B,EAAUj/B,EAAY2/B,EAAYp2B,QACxCo2B,EAAYp2B,QAAUvJ,EAGtB,IACE,GAAIN,OAAOC,uBACT,MAAO,CAAEihC,UAAU,EAEvB,CAAE,MAAO,CAET,MAAM3qC,EAAWa,EAAQE,MAAM4B,OAAS9B,EAAQ8B,OAAS,GACnD1C,EAAYY,EAAQE,MAAM6B,QAAU/B,EAAQ+B,QAAU,GACtDzD,EAAOmqC,EAAMh2B,QAEnB,IAAI,EACF7Q,EAAC,EACDC,EAAC,GACDG,EAAE,GACFC,EAAE,MACFH,EAAK,OACLC,EAAM,WACNG,EAAU,UACVC,EAAS,UACTC,EAAS,KACTK,EAAI,UACJsnC,EAAS,aACTC,GACE3B,EAAU51B,QAEd,MAAM8J,EAAK5Y,KAAKC,IAAI,EAAGukC,GAAW,GAI5B8B,EAAkB3oB,EAAIthB,QAAQkqC,OAAOj0B,KAAKk0B,GAAgB,eAAXA,EAAExqC,OAAwByV,MAAQ,GACjF7J,EAAUo9B,EAAQyB,qBAAuBzB,EAAQyB,qBAAqBxoC,EAAGC,EAAGC,EAAOC,EAAQ5C,EAAUC,EAAWoC,EAAWyoC,EAAiB3oB,EAAIwE,eAAiB,CAAE4f,SAAU,GAAKC,aAAc,IAEhM0E,GAAa9+B,EAAQm6B,UAAY,GACvC,IAAI4E,GAAgB7vB,OAAOsvB,GAC3B,MAAMQ,GAAS5mC,KAAKC,IAAI,EAAG6W,OAAOuvB,GAAgB,MAC7CvvB,OAAOoC,SAASytB,MAAgBA,GAAgBC,IAEjDF,GACFC,IAAkB,GAAK/tB,EAAM,IAE7B+tB,IAAkB,GAAK/tB,EAAM,IAE/B+tB,GAAgB3mC,KAAKC,IAAI,EAAGD,KAAKE,IAAI0mC,GAAQD,KAC7CjC,EAAU51B,QAAQs3B,UAAYO,GAE9B,IAAIE,GAAoBj/B,EAAQm6B,SAChC,GAAI2E,IAAcC,GAAgB,EAAG,CACjC,MAAMG,EAAQH,GAAgBC,GACxBG,EAAiB,GACvBF,GAAoBj/B,EAAQm6B,UAAYn6B,EAAQm6B,SAAWgF,GAAkBD,CACjF,CAGA,MAAME,GAAyBA,CAACluB,EAAIC,EAAIiM,EAAIC,EAAI/J,EAAGC,KAEjD,GAAI2mB,EAAehpB,EAAIC,EAAIiM,EAAIC,EAAI/J,EAAGC,GAAI,OAAO,EAGjD,GAAIiqB,EAAYt2B,QAAS,CACvB,MAAM4V,EAAKxJ,GAAK/c,EACVwmB,EAAKxJ,GAAK/c,EAGV2hB,EAAS,CACb,CAAE9hB,EAAG6a,EAAK,IAAM5a,EAAG6a,EAAK,KACxB,CAAE9a,EAAG6a,EAAK4L,EAAK,IAAMxmB,EAAG6a,EAAK,KAC7B,CAAE9a,EAAG6a,EAAK,IAAM5a,EAAG6a,EAAK4L,EAAK,KAC7B,CAAE1mB,EAAG6a,EAAK4L,EAAK,IAAMxmB,EAAG6a,EAAK4L,EAAK,MAGpC,IAAK,MAAM+V,KAAO0K,EAAYt2B,QAC5B,KAAI4rB,EAAIh8B,QAAU,GAAKg8B,EAAIuM,aAA+B,aAAhBvM,EAAIoC,SAE9C,IAAK,MAAMoK,KAAMnnB,EACf,GAAImnB,EAAGjpC,GAAKy8B,EAAIz8B,GAAKipC,EAAGjpC,GAAKy8B,EAAIz8B,EAAIy8B,EAAIv8B,OAAS+oC,EAAGhpC,GAAKw8B,EAAIx8B,GAAKgpC,EAAGhpC,GAAKw8B,EAAIx8B,EAAIw8B,EAAIt8B,OACrF,OAAO,CAIf,CACA,OAAO,GAGH6mB,GAAK2c,GAAe,CACxBjnC,OACAwB,MAAO,CAAE8B,IAAGC,IAAGG,KAAIF,QAAOK,aAC1BqjC,aACAhkC,YACArC,WACAC,YACAqmC,eAAgBkF,GAChBjF,SAAU8E,GACV7E,aAAc0E,IAAcC,GAAgB,EAAI,IAA+B/+B,EAAQo6B,eAEzF/jC,EAAIgnB,GAAGhnB,EAAGI,EAAK4mB,GAAG5mB,GAAIG,EAAYymB,GAAGzmB,UAGrC,IAAI2oC,IAAY,EACZC,GAAa,KAEjB,MAAMC,GAAkB3C,EAAU51B,QAAQlQ,UAAY,GAChD0oC,GAAiBD,IAAmB,GACpCE,GAAe7C,EAAU51B,QAAQy4B,cAAgB,EAGvD,GAAInC,EAAYt2B,QAAS,CAGvB,MAAM04B,EAAWF,GAAiB,GAAK,EACjCG,EAAcH,GAAiB,GAAK,EAE1C,IAAK,MAAM5M,KAAO0K,EAAYt2B,QAC5B,GAAoB,aAAhB4rB,EAAIoC,SAA0BpC,EAAIpY,KAAKkb,WAAY,CAErD,MAAMkK,EAAgBzpC,EAAIE,EAAQqpC,EAAW9M,EAAIz8B,GAAOA,EAAIE,GAASu8B,EAAIz8B,EAAIwpC,GAAiBvpC,EAAIE,EAASs8B,EAAIx8B,EAAI,GAAOA,EAAIw8B,EAAIx8B,EAAIw8B,EAAIt8B,OAAS,EAC7IupC,EAAiB1pC,EAAIupC,EAAW9M,EAAIz8B,EAAIy8B,EAAIv8B,OAAWF,GAAKy8B,EAAIz8B,EAAIy8B,EAAIv8B,MAAQspC,GAAiBvpC,EAAIE,EAASs8B,EAAIx8B,EAAI,GAAOA,EAAIw8B,EAAIx8B,EAAIw8B,EAAIt8B,OAAS,EAE5J,GAAKspC,GAAgB/sC,EAAKgnB,GAAOgmB,GAAiBhtC,EAAK2iB,EAAI,CACzD6pB,IAAY,EACZC,GAAa1M,EACb,KACF,CACF,CAEJ,CAEA,GAAIyM,IAEF,GADAzC,EAAU51B,QAAQlQ,SAAWoB,KAAKE,IAAI,IAAKmnC,GAAmB,GAAKzuB,EAAM,KACrE8rB,EAAU51B,QAAQlQ,UAAY,KAAOwoC,GAAY,CAEnD,MAAMQ,EAAY,EAClBR,GAAW/oC,IAAMJ,EAAImpC,GAAWnpC,EAAI,GAAK,GAAK2pC,EAC9ClD,EAAU51B,QAAQy4B,aAAehiC,EAG7B6hC,GAAW9kB,KAAKulB,QAAQvqC,QAAU8pC,GAAWU,mBAAqBviC,EAAY6hC,GAAWU,kBAAoB,OAC/G/B,EAAQqB,GAAW9kB,IAAIulB,OAAOvqC,KAAM,IACpC8pC,GAAWU,kBAAoBviC,EAEnC,MACK,CAEiBA,EAAYgiC,GAvChB,MA0Cd7C,EAAU51B,QAAQlQ,SADhByoC,GAAkB,GACSrnC,KAAKC,IAAI,GAAIonC,GAAmB,GAAKzuB,EAAM,KAE3C,GAGnC,CAGA,MAAMmvB,GAAKxF,GAAqB,CAC9B5nC,OACAsD,IACAC,IACAI,KACAC,aACAE,YACA+jC,UACAC,oBACAC,aACA7kC,YACAM,QACAC,SACA5C,WACAC,YACAqmC,eAAgBkF,GAChB3oC,KACAskC,UAAWA,CAAC/O,EAAIC,KACd,IAAM,MAA4B,oBAAd8O,KAA6BA,EAAU/O,EAAIC,EAAa,CAAE,MAAQ,OAAO,CAAO,GAEtG+O,cAAe8B,EAAU51B,QAAQ1P,UAEnClB,EAAI6pC,GAAG7pC,EAAGI,EAAKypC,GAAGzpC,GAAIC,EAAawpC,GAAGxpC,WAAYE,EAAYspC,GAAGtpC,UACjE,MAAMW,KAAY2oC,GAAG3oC,QACfC,KAAmB0oC,GAAG1oC,eACtBC,KAAcyoC,GAAGzoC,UAGvB,IAAIC,GAAa,KACbyoC,GAAe,KACnB,GAA+B,oBAApBvC,EACT,IACE,MAAMwC,EAASxC,EAAgB,CAAExnC,IAAGC,IAAGC,QAAOC,SAAQP,YAAWrC,WAAUC,cACvEwsC,GAAUA,EAAOxP,WACnBl5B,GAAa0oC,EAAOpkC,MAAQ,KAC5BmkC,GAAeC,EAAO3E,QAAU,MAG7B2E,GAAWA,EAAOxP,UACjB6M,IAA4BA,EAA2Bx2B,QAAU,EAEzE,CAAE,MAAO,EAIP1P,IAAWG,MAEXlB,GADiB,SAAfkB,GACI,IAEA,KAQV,IAEE,MAAMq6B,EAAS55B,KAAKC,IAAI,EAAG6W,OAAO4tB,EAAU51B,QAAQ9P,WAAa,MAC3DkpC,EAAUloC,KAAKC,IAAI,EAAG6W,OAAO4tB,EAAU51B,QAAQ5P,eAAiB,MACtE,IAAIipC,EAAMrxB,OAAO4tB,EAAU51B,QAAQ/P,QAC/BqpC,EAAUtxB,OAAO4tB,EAAU51B,QAAQ7P,YAClC6X,OAAOoC,SAASivB,KAAMA,EAAMvO,GAC5B9iB,OAAOoC,SAASkvB,KAAUA,EAAUF,GAEzC,MAAMG,EAAYL,IAAcjpC,QAAU,CAAE+kC,eAAgB,GAAIC,eAAgB,GAAIC,4BAA6B,IAC3GsE,EAAaN,IAAc/D,YAAc,CAAEH,eAAgB,GAAIC,eAAgB,GAAIC,4BAA6B,IAGlH3kC,KAAkC,UAAfE,IAA0BH,IAC/C+oC,GAAQnoC,KAAKC,IAAI,EAAG6W,OAAOuxB,EAAUvE,iBAAmB,GAAKlrB,EAAM,IAEnEuvB,GAAQnoC,KAAKC,IAAI,EAAG6W,OAAOuxB,EAAUtE,iBAAmB,GAAKnrB,EAAM,IAGrEuvB,EAAMnoC,KAAKC,IAAI,EAAGD,KAAKE,IAAI05B,EAAQuO,IACnCzD,EAAU51B,QAAQ/P,OAASopC,EAC3BzD,EAAU51B,QAAQ9P,UAAY46B,EAGX,SAAfr6B,GACF6oC,GAAYpoC,KAAKC,IAAI,EAAG6W,OAAOwxB,EAAWxE,iBAAmB,GAAKlrB,EAAM,IAExEwvB,GAAYpoC,KAAKC,IAAI,EAAG6W,OAAOwxB,EAAWvE,iBAAmB,GAAKnrB,EAAM,IAE1EwvB,EAAUpoC,KAAKC,IAAI,EAAGD,KAAKE,IAAIgoC,EAASE,IACxC1D,EAAU51B,QAAQ7P,WAAampC,EAC/B1D,EAAU51B,QAAQ5P,cAAgBgpC,EAmB7B7oC,KAAkC,UAAfE,IAA0BH,KAAa+oC,GAAO,EAhB/CI,EAAC9D,EAAQ+D,KAC9B,MAAM3xB,EAAI7W,KAAKC,IAAI,EAAG6W,OAAO0xB,IAAa,GAC1C,GAAI3xB,GAAK,EAAyB,YAApB4tB,EAAO31B,QAAU,GAC/B21B,EAAO31B,SAAW8J,EAElB,KAAO6rB,EAAO31B,SADJ,KACkB,CAC1B21B,EAAO31B,SAFC,IAGR41B,EAAU51B,QAAQpQ,OAASsB,KAAKC,IAAI,GAAI6W,OAAO4tB,EAAU51B,QAAQpQ,SAAW,GAAKmY,GAEjF,MAAM8tB,EAAe,IACfhc,EAAO7R,OAAO4tB,EAAU51B,QAAQtP,aAAe,EACrDklC,EAAU51B,QAAQtP,WAAaQ,KAAKC,IAAI0oB,EAAMgc,EAChD,GAKA4D,CAAehD,EAAqB8C,EAAUrE,6BACrCuB,IACTA,EAAoBz2B,QAAU,GAK1B02B,IAAmBA,EAAkB12B,QAAU,EAIvD,CAAE,MAAO,CAGT,GAAIvP,IAAcyoC,IAAgBlxB,OAAOkxB,GAAapE,KAAO,EAC3D,IACE,GAAmB,SAAfrkC,GAAuB,CACVS,KAAKC,IAAI,EAAG6W,OAAO4tB,EAAU51B,QAAQ7P,cACtC,EACZslC,GAAiB,CAAEE,OAAQa,EAA4BZ,aAAaF,EAASwD,IAEzE1C,IAA4BA,EAA2Bx2B,QAAU,EAEzE,MAEEy1B,GAAiB,CAAEE,OAAQa,EAA4BZ,aAAaF,EAASwD,GAEjF,CAAE,MAAO,MAEL1C,IAA4BA,EAA2Bx2B,QAAU,GAKvE41B,EAAU51B,QAAQ7Q,EAAIA,EACtBymC,EAAU51B,QAAQ5Q,EAAIA,EACtBwmC,EAAU51B,QAAQzQ,GAAKA,EACvBqmC,EAAU51B,QAAQxQ,GAAKA,EACvBomC,EAAU51B,QAAQvQ,WAAaA,EAC/BmmC,EAAU51B,QAAQrQ,UAAYA,EAE9BinC,EAAYznC,EAAGC,EAAG1C,EAAUqpC,GAG5B,IAAMc,EAAmB1nC,EAAGC,EAAG1C,EAAUqpC,EAAa,CAAE,MAAO,CAG/D,IAAMe,EAAkB3nC,EAAGC,EAAG1C,EAAUqpC,EAAYL,EAAU,CAAE,MAAO,CAGvEvmC,EAAIymC,EAAU51B,QAAQ7Q,EACtBC,EAAIwmC,EAAU51B,QAAQ5Q,EACtBG,EAAKqmC,EAAU51B,QAAQzQ,GACvBC,EAAKomC,EAAU51B,QAAQxQ,GAGvB,IAAUunC,GAAcA,EAAa5nC,EAAGC,EAAGC,EAAOC,EAAQ5C,EAAUC,EAAY,CAAE,MAAO,CAIrF4pC,EAAiBv2B,QAAU,IAAGu2B,EAAiBv2B,QAAU9O,KAAKC,IAAI,EAAGolC,EAAiBv2B,QAAU01B,IAEpG,MAAMiE,GAAczoC,KAAKC,IAAI,EAAG6W,OAAO4tB,EAAU51B,QAAQhQ,OAAS,GAClE,GAAInE,GAAM+tC,WAAarD,EAAiBv2B,SAAW,GAAK25B,GAAc,EAAG,CAGvE3C,EAFgB7nC,GAAKO,GAAa,EAAIL,EAAQ,GAAK,GACnCD,EAAIE,EAAS,EACKI,GAAa,EAAI,GAAK,EAAG,UAC3D6mC,EAAiBv2B,QAAU,IAC3B41B,EAAU51B,QAAQhQ,KAAOkB,KAAKC,IAAI,EAAGwoC,GAAc,EACrD,CAEA,IAAMzC,EAAkBxB,EAAShpC,EAAUC,EAAY,CAAE,MAAO,CAGhE,KCzXK,SAAwBkiB,EAAK6mB,GAClC,MAAM,YACJY,EAAW,UACXV,EAAS,SACTlpC,EAAQ,UACRC,EAAS,UACToC,EAAS,eACTikC,EAAc,UACda,EAAS,gBACT8C,EAAe,gBACfK,EAAe,QACfC,EAAO,UACPhB,EAAS,WACTF,EAAU,QACVxoC,EAAO,cACP8lB,GACExE,EAEJ,IAAKynB,EAAYt2B,SAA0C,IAA/Bs2B,EAAYt2B,QAAQ0D,OAAc,OAE9D,MAAM,QAAEgwB,EAAO,kBAAEC,GAAsBsC,EACjC4D,EAAUjE,EAAU51B,QAAQ7Q,EAC5B2qC,EAAUlE,EAAU51B,QAAQ5Q,EAGlCknC,EAAYt2B,QAAUs2B,EAAYt2B,QAAQ7U,IAAI4uC,IAE5C,GAAIA,EAAOnqC,QAAU,EAAG,CACjBmqC,EAAO5B,cACV4B,EAAO5B,aAAc,EACrB4B,EAAOpqC,UAAY,UACnBoqC,EAAOC,UAAY,EACnBD,EAAOE,UAAY,EACnBF,EAAOxqC,GAAK,EACZwqC,EAAOvqC,GAAK,EACZuqC,EAAOtqC,YAAa,GAGtB,MAAM+jB,EAAMumB,EAAOvmB,IAEb0mB,GADc1mB,EAAIuY,aAAaoO,YAAYC,SAAW,IAC5B12B,OAC1B22B,EAAgB,IAUtB,OARAN,EAAOE,WAAavE,EAChBqE,EAAOE,WAAaI,IACtBN,EAAOE,UAAY,EACnBF,EAAOC,YACHD,EAAOC,WAAaE,IACtBH,EAAOO,cAAe,IAGnBP,CACT,CAEA,MAAMvmB,EAAMumB,EAAOvmB,IAGnB,GAAuB,aAAnBumB,EAAO/L,SAA0Bxa,GAAKkb,WAAY,CAEpD,MAAM6L,EAAe5D,EAAkBA,EAAgB,CACrDxnC,EAAG4qC,EAAO5qC,EACVC,EAAG2qC,EAAO3qC,EACVC,MAAO0qC,EAAO1qC,MACdC,OAAQyqC,EAAOzqC,OACfP,YACArC,WACAC,cACG,CAAEg9B,UAAU,GAEXA,EAAW4Q,EAAa5Q,SACxBl5B,EAAa8pC,EAAaxlC,KAahC,GAVI40B,IAAaoQ,EAAOS,eACH,UAAf/pC,GAA0B+iB,EAAIulB,QAAQ0B,aACxCxD,EAAQzjB,EAAIulB,OAAO0B,aAAc,IACT,SAAfhqC,GAAyB+iB,EAAIulB,QAAQ2B,aAC9CzD,EAAQzjB,EAAIulB,OAAO2B,YAAa,KAGpCX,EAAOS,aAAe7Q,EAGlBz4B,KAAKwZ,IAAIqvB,EAAOxqC,IAAM,IAAM,CAC9B,MAAM0jC,EAAWtJ,EAAW,GAAM,IAClCoQ,EAAOxqC,IAAM0jC,EAEb,MAAMO,EAAQuG,EAAO5qC,EAAI4qC,EAAOxqC,GAC3ByjC,EAAeQ,EAAOuG,EAAO3qC,EAAG1C,EAAUC,EAAWotC,EAAO1qC,MAAO0qC,EAAOzqC,QAG7EyqC,EAAOxqC,GAAK,EAFZwqC,EAAO5qC,EAAIqkC,CAIf,MACEuG,EAAOxqC,GAAK,EAId,GAAIo6B,GAA2B,SAAfl5B,EAAuB,CAErC,MAAMkqC,EAAennB,EAAImnB,cAAgB,GACzCZ,EAAOvqC,GAAKmrC,EACZZ,EAAO3qC,GAAK2qC,EAAOvqC,GACnBuqC,EAAOtqC,YAAa,EAGhBujC,EAAe+G,EAAO5qC,EAAG4qC,EAAO3qC,EAAG1C,EAAUC,EAAWotC,EAAO1qC,MAAO0qC,EAAOzqC,UAE9EyqC,EAAO3qC,GAAK2qC,EAAOvqC,GACnBuqC,EAAOvqC,GAAK,EACZuqC,EAAOtqC,YAAa,EAEzB,KAAO,CAEL,MAAMwpC,EAAKxF,GAAqB,CAC9B5nC,KAAM,CAAC,EACPsD,EAAG4qC,EAAO5qC,EACVC,EAAG2qC,EAAO3qC,EACVI,GAAIuqC,EAAOvqC,IAAM,EACjBC,WAAYsqC,EAAOtqC,WACnBE,UAAW,OACX+jC,QAAS/J,EAAqB,GAAV+J,EAAgBA,EACpCC,oBACAC,WAAY,EACZ7kC,YACAM,MAAO0qC,EAAO1qC,MACdC,OAAQyqC,EAAOzqC,OACf5C,WACAC,YACAqmC,iBACAa,YACAtkC,GAAIwqC,EAAOxqC,KAEbwqC,EAAO3qC,EAAI6pC,EAAG7pC,EACd2qC,EAAOvqC,GAAKypC,EAAGzpC,GACfuqC,EAAOtqC,WAAawpC,EAAGxpC,UACzB,CAMA,OAHAsqC,EAAOpqC,UAAY,OACnBoqC,EAAO7N,mBAAqB1Y,EAAIuY,aAAaoO,YAAYS,OAAO,IAAM,EAE/Db,CACT,CAGA,GAAuB,aAAnBA,EAAO/L,QAAwB,CACjC,MAAMxlB,EAAQgL,EAAIhL,OAAS,IACrBqyB,EAAOnuC,EACPouC,EAAOnuC,EAGPskB,EAAS,CACb,CAAE9hB,EAAG4qC,EAAO5qC,EAAI4qC,EAAO1qC,MAAQ,EAAGD,EAAG2qC,EAAO3qC,EAAI2qC,EAAOzqC,OAAS,GAChE,CAAEH,EAAG4qC,EAAO5qC,EAAI,EAAGC,EAAG2qC,EAAO3qC,EAAI2qC,EAAOzqC,OAAS,GACjD,CAAEH,EAAG4qC,EAAO5qC,EAAI4qC,EAAO1qC,MAAQ,EAAGD,EAAG2qC,EAAO3qC,EAAI2qC,EAAOzqC,OAAS,IAGlE,IAAIyrC,EAAU,KACVC,EAAgB,KAEpB,IAAK,MAAMhpC,KAAKif,EAAQ,CACtB,MAAMgqB,EAAK/pC,KAAK2W,MAAM7V,EAAE7C,EAAIJ,GACtBmsC,EAAKhqC,KAAK2W,MAAM7V,EAAE5C,EAAIL,GAE5B,GAAIksC,EAAK,GAAKA,GAAMJ,GAAQK,EAAK,GAAKA,GAAMJ,EAAM,SAClD,MAAMxsC,EAAM4sC,EAAKL,EAAOI,EAGlBE,EAActsB,EAAIthB,SAASkqC,QAAQj0B,KAAKk0B,GAAgB,WAAXA,EAAExqC,MAAgC,WAAXwqC,EAAExqC,OAAoByV,KAChG,IAAIrX,EAAK6vC,EAAcA,EAAY7sC,GAAO,KAO1C,IAJKhD,GAAMujB,EAAIknB,aACbzqC,EAAKujB,EAAIknB,WAAWznC,IAGlBhD,EAAI,CACN,MAAM8vC,EAAOvsB,EAAIwE,cAAc7P,KAAKC,GAAKA,EAAEnY,KAAOA,GAClD,GAAI8vC,GAAyB,UAAjBA,EAAKpN,QAAqB,CACpC+M,EAAUzvC,EACV0vC,EAAgBI,EAChB,KACF,CACF,CACF,CAEIJ,IAE8B,OAA5BA,EAActrC,WAAsBqqC,EAAOxqC,GAAK,EAAGwqC,EAAOvqC,IAAMgZ,GAC/B,SAA5BwyB,EAActrC,WAAwBqqC,EAAOxqC,GAAK,EAAGwqC,EAAOvqC,GAAKgZ,GACrC,SAA5BwyB,EAActrC,WAAwBqqC,EAAOxqC,IAAMiZ,EAAOuxB,EAAOvqC,GAAK,GAC1C,UAA5BwrC,EAActrC,YAAyBqqC,EAAOxqC,GAAKiZ,EAAOuxB,EAAOvqC,GAAK,IAI/D,IAAduqC,EAAOxqC,IAA0B,IAAdwqC,EAAOvqC,KAC5BuqC,EAAOxqC,GAAKiZ,GAId,IAAIgrB,EAAQuG,EAAO5qC,EAAI4qC,EAAOxqC,IAAMmmC,EAAU,MAC1C2F,EAAQtB,EAAO3qC,EAAI2qC,EAAOvqC,IAAMkmC,EAAU,MAG9C,MAAMnd,EAAS7rB,EAAWqC,EACpBypB,EAAS7rB,EAAYoC,EAEvBykC,EAAQ,GACVA,EAAQ,EACRuG,EAAOxqC,GAAK2B,KAAKwZ,IAAIqvB,EAAOxqC,KACnBikC,EAAQuG,EAAO1qC,MAAQkpB,IAChCib,EAAQjb,EAASwhB,EAAO1qC,MACxB0qC,EAAOxqC,IAAM2B,KAAKwZ,IAAIqvB,EAAOxqC,KAG3B8rC,EAAQ,GACVA,EAAQ,EACRtB,EAAOvqC,GAAK0B,KAAKwZ,IAAIqvB,EAAOvqC,KACnB6rC,EAAQtB,EAAOzqC,OAASkpB,IACjC6iB,EAAQ7iB,EAASuhB,EAAOzqC,OACxByqC,EAAOvqC,IAAM0B,KAAKwZ,IAAIqvB,EAAOvqC,KAG/BuqC,EAAO5qC,EAAIqkC,EACXuG,EAAO3qC,EAAIisC,EAGX,MAAMhkC,EAASu+B,EAAU51B,QAsBzB,OApBE3I,EAAOlI,EAAIkI,EAAOhI,MAAQ0qC,EAAO5qC,GACjCkI,EAAOlI,EAAI4qC,EAAO5qC,EAAI4qC,EAAO1qC,OAC7B6B,KAAKwZ,IAAKrT,EAAOjI,EAAIiI,EAAO/H,OAAUyqC,EAAO3qC,GAAK,GAClDiI,EAAO7H,IAAM,IAIb6H,EAAOlI,GAAK4qC,EAAOxqC,IAAMmmC,EAAU,MACnCr+B,EAAOjI,EAAI2qC,EAAO3qC,EAAIiI,EAAO/H,OAC7B+H,EAAO7H,GAAK,EACZ6H,EAAO5H,YAAa,EAGhByB,KAAKwZ,IAAIrT,EAAO9H,IAAM,GACxB8H,EAAO1H,UAAY,MAEnB0H,EAAO1H,UAAY,QAIhBoqC,CACT,CAEA,MAAMuB,EAAK9nB,EAAI8nB,IAAM,CAAC,EAChBC,GAAgBD,EAAGE,kBAAoB,IAAMzsC,EAC7C0sC,GAAaH,EAAGI,eAAiB,GAAK3sC,EACtCyZ,EAAQgL,EAAIhL,OAAS,IAErB+O,EAAKsiB,EAAUE,EAAO5qC,EACtBkoB,EAAKyiB,EAAUC,EAAO3qC,EACtBwd,EAAO1b,KAAKyqC,KAAKpkB,EAAKA,EAAKF,EAAKA,GAEtC,IAAIxrB,EAAO,CAAE2iB,GAAG,EAAOqE,GAAG,EAAOzG,GAAG,GAGpC,GAAIQ,EAAO2uB,EAAc,CAWvB,GATIhkB,EAAiB,GAAZxoB,GACLlD,EAAKgnB,GAAI,EACTknB,EAAOrqC,UAAY,GACZ6nB,EAAkB,IAAZxoB,IACblD,EAAK2iB,GAAI,EACTurB,EAAOrqC,WAAa,GAIpB4rC,EAAGM,SAAW7B,EAAOtqC,WAAY,CACjC,MAAM+jC,EAAQuG,EAAO5qC,EAAuB,GAAnB4qC,EAAOrqC,UAC5BsjC,EAAeQ,EAAOuG,EAAO3qC,EAAG1C,EAAUC,EAAWotC,EAAO1qC,MAAO0qC,EAAOzqC,UAC1EzD,EAAKugB,GAAI,EAEjB,CAGA,GAAIQ,EAAO6uB,GACL1B,EAAO8B,eAAiB,IACHtkB,EAAK,GAAKwiB,EAAOrqC,UAAY,GAAO6nB,EAAK,GAAKwiB,EAAOrqC,UAAY,GAEnEkd,EAAmB,EAAZ7d,KACzBgrC,EAAO+B,YAAa,EACpB/B,EAAO8B,cAAgBP,EAAGO,eAAiB,IAGZ,oBAApB7E,GAAgC,CAExC,MAAM+E,EAAShC,EAAO5qC,EAAK4qC,EAAO1qC,MAAQ,EAAM0qC,EAAOrqC,WAAaqqC,EAAO1qC,MAAQ,EAAI,IACjF2sC,EAASjC,EAAO3qC,EAAqB,GAAhB2qC,EAAOzqC,OAElC0nC,EACE+E,EACAC,EACAjC,EAAOrqC,UACPqqC,EAAOzuC,GAEZ,CAIT,MAAO,GAAIgwC,EAAGW,OAAQ,CAEhBlC,EAAOrqC,UAAY,EAAG7D,EAAKgnB,GAAI,EAC9BhnB,EAAK2iB,GAAI,EAGhB,MAAMglB,EAAQuG,EAAO5qC,EAAuB,GAAnB4qC,EAAOrqC,UAChC,IAAIwsC,EAAelJ,EAAeQ,EAAOuG,EAAO3qC,EAAG1C,EAAUC,EAAWotC,EAAO1qC,MAAO0qC,EAAOzqC,QAG7F,IAAK4sC,GAAmC,SAAnBnC,EAAO/L,QAAoB,CAE9C,MAAMh8B,EAAI4jC,EAAU51B,QAMpB,GALIwzB,EAAQxhC,EAAE7C,EAAI6C,EAAE3C,OAASmkC,EAAQuG,EAAO1qC,MAAQ2C,EAAE7C,GAAK4qC,EAAO3qC,EAAI4C,EAAE5C,EAAI4C,EAAE1C,QAAUyqC,EAAO3qC,EAAI2qC,EAAOzqC,OAAS0C,EAAE5C,IACnH8sC,GAAe,IAIZA,EACH,IAAK,MAAMC,KAAS7F,EAAYt2B,QAC9B,KAAIm8B,IAAUpC,GAAUoC,EAAMvsC,QAAU,GAAKusC,EAAMhE,cAC7B,SAAlBgE,EAAMnO,SAENwF,EAAQ2I,EAAMhtC,EAAIgtC,EAAM9sC,OAASmkC,EAAQuG,EAAO1qC,MAAQ8sC,EAAMhtC,GAAK4qC,EAAO3qC,EAAI+sC,EAAM/sC,EAAI+sC,EAAM7sC,QAAUyqC,EAAO3qC,EAAI2qC,EAAOzqC,OAAS6sC,EAAM/sC,EAAG,CAC9I8sC,GAAe,GAEVnC,EAAOrqC,UAAY,GAAKysC,EAAMzsC,UAAY,GAAOqqC,EAAOrqC,UAAY,GAAKysC,EAAMzsC,UAAY,KAC7FysC,EAAMzsC,YAAc,GAEvB,KACF,CAGN,CAOE,GALEwsC,IACFnC,EAAOrqC,YAAc,GAIjB4rC,EAAGc,gBAAkBrC,EAAOtqC,WAAY,CACxC,MAAM4sC,EAAUtC,EAAO5qC,GAAK4qC,EAAOrqC,UAAY,EAAIqqC,EAAO1qC,MAAQ,GAAwB,EAAnB0qC,EAAOrqC,UACxE4sC,EAAUvC,EAAO3qC,EAAI2qC,EAAOzqC,OAAS,EACtC0jC,EAAeqJ,EAASC,EAAS5vC,EAAUC,EAAW,EAAG,KAC1DotC,EAAOrqC,YAAc,EAE7B,CACF,CAGIqqC,EAAO8B,cAAgB,IACzB9B,EAAO8B,eAAiBnG,EAEpBqE,EAAO8B,eAAiBP,EAAGO,eAAiB,KAAQ,MACtD9B,EAAO+B,YAAa,IAKxB,MAAMS,EAAa/zB,GAASktB,EAAU,OAEhC8G,EAAuBA,CAACxyB,EAAIC,KAE9B,GAAI+oB,EAAehpB,EAAIC,EAAIvd,EAAUC,EAAWotC,EAAO1qC,MAAO0qC,EAAOzqC,QAAS,OAAO,EAGrF,GAAuB,SAAnByqC,EAAO/L,QAAoB,CAC3B,MAAMh8B,EAAI4jC,EAAU51B,QACpB,GAAIgK,EAAKhY,EAAE7C,EAAI6C,EAAE3C,OAAS2a,EAAK+vB,EAAO1qC,MAAQ2C,EAAE7C,GAAK8a,EAAKjY,EAAE5C,EAAI4C,EAAE1C,QAAU2a,EAAK8vB,EAAOzqC,OAAS0C,EAAE5C,EAAG,OAAO,EAE7G,IAAK,MAAM+sC,KAAS7F,EAAYt2B,QAC5B,KAAIm8B,IAAUpC,GAAUoC,EAAMvsC,QAAU,GAAKusC,EAAMhE,cAC7B,SAAlBgE,EAAMnO,SACNhkB,EAAKmyB,EAAMhtC,EAAIgtC,EAAM9sC,OAAS2a,EAAK+vB,EAAO1qC,MAAQ8sC,EAAMhtC,GAAK8a,EAAKkyB,EAAM/sC,EAAI+sC,EAAM7sC,QAAU2a,EAAK8vB,EAAOzqC,OAAS6sC,EAAM/sC,EAAG,OAAO,CAE7I,CACA,OAAO,GAGL+mB,EAAK2c,GAAe,CACxBjnC,OACAwB,MAAO,CACL8B,EAAG4qC,EAAO5qC,EACVC,EAAG2qC,EAAO3qC,EACVG,GAAIwqC,EAAOxqC,IAAM,EACjBF,MAAO0qC,EAAO1qC,MACdK,UAAWqqC,EAAOrqC,WAEpBqjC,WAAYwJ,EACZxtC,YACArC,WACAC,YACAqmC,eAAgBwJ,IAElBzC,EAAO5qC,EAAIgnB,EAAGhnB,EACd4qC,EAAOxqC,GAAK4mB,EAAG5mB,GACfwqC,EAAOrqC,UAAYymB,EAAGzmB,UAEtB,MAAMupC,EAAKxF,GAAqB,CAC9B5nC,OACAsD,EAAG4qC,EAAO5qC,EACVC,EAAG2qC,EAAO3qC,EACVI,GAAIuqC,EAAOvqC,GACXC,WAAYsqC,EAAOtqC,WACnBE,UAAWoqC,EAAOpqC,UAClB+jC,UACAC,oBACAC,WAAY0H,EAAGM,QAAU,EAAI,EAC7B7sC,YACAM,MAAO0qC,EAAO1qC,MACdC,OAAQyqC,EAAOzqC,OACf5C,WACAC,YACAqmC,eAAgBwJ,EAChB3I,UAAWhlB,EAAIglB,UACftkC,GAAIwqC,EAAOxqC,KAkBb,GAhBAwqC,EAAO3qC,EAAI6pC,EAAG7pC,EACd2qC,EAAOvqC,GAAKypC,EAAGzpC,GACfuqC,EAAOtqC,WAAawpC,EAAGxpC,WAGnBsqC,EAAO+B,WACT/B,EAAOpqC,UAAY,QACVoqC,EAAOnqC,QAAmC,IAAxB4jB,EAAI3jB,WAAa,KAC5CkqC,EAAOpqC,UAAY,eACI,IAAdoqC,EAAOxqC,IAAYwqC,EAAOtqC,WACnCsqC,EAAOpqC,UAAY,OAEnBoqC,EAAOpqC,UAAY,OAIhBoqC,EAAO5B,YAmBL,CACH,MAAMsE,EAAcjpB,EAAIuY,aAAaoO,YAAYC,SAAW,CAAC,IAE7DL,EAAO7N,mBAAqBuQ,EAAYvrC,KAAKE,IAAI2oC,EAAOC,UAAWyC,EAAY/4B,OAAS,GAC5F,KAvByB,CACrB,MAAMg5B,EAAQlpB,EAAIuY,aAAaoO,YAAc,CAAC,EAC9C,IAAIwC,EAAcD,EAAM3C,EAAOpqC,WAG1BgtC,GAAgB15B,MAAMC,QAAQy5B,IAAuC,IAAvBA,EAAYj5B,SAC3Di5B,EAAcD,EAAY,MAAKA,EAAY,MAAK,CAAC,IAGrD3C,EAAOE,WAAaF,EAAOE,WAAa,GAAKvE,EAC7C,MAAMkH,EAAW,IACb7C,EAAOE,WAAa2C,IACpB7C,EAAOE,UAAY,EACnBF,EAAOC,WAAaD,EAAOC,WAAa,GAAK,EACzCD,EAAOC,WAAa2C,EAAYj5B,SAChCq2B,EAAOC,UAAY,IAG3BD,EAAO7N,mBAAqByQ,EAAY5C,EAAOC,UAAY2C,EAAYj5B,OAC3E,CAMA,OAAOq2B,IACNhoC,OAAOrG,IAAMA,EAAE4uC,aACpB,CD1FIuC,CAAe,CACbvG,cACAV,YACAroC,UACAwoC,aACArpC,WACAC,YACAoC,YACAikC,iBACAa,YACA8C,kBACAK,kBACAC,UACAhB,YACA5iB,cAAexE,EAAIwE,eAClBniB,KAAKE,IAAI0Y,EAAI,MAGhB3a,EAAIymC,EAAU51B,QAAQ7Q,EACtBC,EAAIwmC,EAAU51B,QAAQ5Q,EACtBG,EAAKqmC,EAAU51B,QAAQzQ,GACvBC,EAAKomC,EAAU51B,QAAQxQ,GACvBC,EAAammC,EAAU51B,QAAQvQ,WAC/BE,EAAYimC,EAAU51B,QAAQrQ,UAG9B,MAAM0H,EAASu+B,EAAU51B,QACzB,GAAIs2B,EAAYt2B,SAAWs2B,EAAYt2B,QAAQ0D,OAAS,EACtD,IAAK,MAAMkoB,KAAO0K,EAAYt2B,QAAS,CACrC,GAAI4rB,EAAIh8B,QAAU,GAAKg8B,EAAIuM,YAAa,SAUxC,GANE9gC,EAAOlI,EAAIy8B,EAAIz8B,EAAIy8B,EAAIv8B,OACvBgI,EAAOlI,EAAIkI,EAAOhI,MAAQu8B,EAAIz8B,GAC9BkI,EAAOjI,EAAIw8B,EAAIx8B,EAAIw8B,EAAIt8B,QACvB+H,EAAOjI,EAAIiI,EAAO/H,OAASs8B,EAAIx8B,GAGtB4Y,OAAO3Q,EAAO3G,aAAe,EAAG,CAEzC,MAAMosC,EAAezlC,EAAOlI,EAAIkI,EAAOhI,MAAQ,EAAIu8B,EAAIz8B,EAAIy8B,EAAIv8B,MAAQ,GAAK,EAAI,EAChFumC,EAAU51B,QAAQzQ,GAAoB,EAAfutC,EACvBlH,EAAU51B,QAAQxQ,IAAM,EAGxBomC,EAAU51B,QAAQtP,WAAa,IAG/BklC,EAAU51B,QAAQpQ,OAASsB,KAAKC,IAAI,GAAI6W,OAAO4tB,EAAU51B,QAAQpQ,SAAW,GAAK,IAE7Ed,EAAQiuC,eACVjuC,EAAQiuC,cAAc,eAAgB,CAAEC,OAAQ,IAEpD,CACF,CAEJ,CAAE,MAAOtxC,IACP8I,QAAQ3H,MAAM,wBAAyBnB,GACzC,CAGA,MAAMuxC,GAAOvwC,EAAWqC,EAAYM,EAapC,GAZAF,EAAI+B,KAAKC,IAAI,EAAGD,KAAKE,IAAI6rC,GAAM9tC,IAG3BymC,EAAU51B,QAAQrP,YACpBilC,EAAU51B,QAAQpP,YAAcglC,EAAU51B,QAAQpP,YAAc,IAAMglC,EAAU51B,QAAQk9B,eAAiB,KAAOxH,EAAU,KACtHE,EAAU51B,QAAQpP,YAAc,MAClCglC,EAAU51B,QAAQpP,WAAa,IAE3B9B,EAAQiuC,eAAejuC,EAAQiuC,cAAc,eAIhD/0B,OAAO4tB,EAAU51B,QAAQpQ,SAAW,IAAM,EAC7C,IAAMwnC,GAAcA,GAAc,CAAE,MAAO,CAI7C,IACMpvB,OAAO4tB,EAAU51B,QAAQtP,YAAc,IACzCklC,EAAU51B,QAAQtP,WAAaQ,KAAKC,IAAI,EAAG6W,OAAO4tB,EAAU51B,QAAQtP,YAAcglC,GAEtF,CAAE,MAAO,CAsBT,OAnBAE,EAAU51B,QAAU,IACf41B,EAAU51B,QACb7Q,IACAC,IACAG,KACAC,KACAH,QACAC,SACAG,aACAC,YACAC,YACAW,WACAC,kBACAC,aACAC,WAAYA,IAAc,KAC1B0sC,MAAOvF,IAETT,EAAU,IAAKvB,EAAU51B,QAAS3P,YAAagmC,EAAer2B,SAAW,GAAIitB,SAAUqJ,EAAYt2B,SAAW,KAEvG,CAAEq3B,UAAU,EACrB,CEjeO,SAAS+F,GAAetY,EAAIC,EAAIsP,EAAeC,EAAgBvlC,EAAWwlC,EAAUlhB,EAAegqB,EAAYtH,EAAYxpC,GAEhI,GAAIw4B,EAAK,EAAG,OAAO,EACnB,MAAMhR,EAAK7iB,KAAK2W,MAAMid,EAAK/1B,GACrB8kB,EAAK3iB,KAAK2W,MAAMkd,EAAKh2B,GAE3B,GAAIglB,EAAK,GAAKF,EAAK,GAAKE,GAAMsgB,GAAiBxgB,GAAMygB,EAAgB,OAAO,EAC5E,MAAM1mC,EAAQimB,EAAKwgB,EAAgBtgB,EAGnC,GAAIspB,GAAcA,EAAWzvC,GAC3B,OAAO,EAIT,GAAImoC,GAAcA,EAAWnoC,GAAQ,CACnC,MAAM0vC,EAAQvH,EAAWnoC,GACnB2vC,EAASlqB,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOgyC,GAI1CE,EAAWD,IACC,WAAhBA,EAAOxoC,MACY,SAAnBwoC,EAAOvP,SACY,aAAnBuP,EAAOvP,SACY,aAAnBuP,EAAOvP,SACPuP,EAAO7O,YACN6O,EAAOrwC,MAAQqwC,EAAOrwC,KAAKuwC,cAAclvC,SAAS,cAGrD,GAAIgvC,GAAUA,EAAOvY,YAAcwY,EAAU,CAE3C,GAAID,EAAOxO,gBAAkBxiC,GAAkBA,EAAeqB,GAAQ,CAGpE,SAFgDG,IAAjCxB,EAAeqB,GAAOgC,OAAuBrD,EAAeqB,GAAOgC,OAAS2tC,EAAO1tC,aAChF0tC,EAAOG,yBAA2B,GAElD,OAAO,CAEX,CACA,OAAO,CACT,CACF,CAGA,MAAMC,EAASpJ,EAAS3mC,GACxB,IAAK+vC,EAAQ,OAAO,EACpB,MAAMC,EAAUvqB,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOqyC,GACjD,SAAKC,IAAYA,EAAQ5Y,cACC,IAAtB4Y,EAAQ5Y,WACqB,kBAAtB4Y,EAAQ5Y,cAEf4Y,EAAQ5Y,UAAUC,KAClB2Y,EAAQ5Y,UAAUE,QAClB0Y,EAAQ5Y,UAAUG,MAClByY,EAAQ5Y,UAAUI,OAIxB,CAGO,SAAS4N,GAAe6K,EAAMC,EAAMzJ,EAAeC,EAAgBvlC,EAAWwlC,EAAUlhB,EAAehkB,EAAOC,EAAQ+tC,EAAYtH,EAAYxpC,GACnJ,MAAM0kB,EAAS,CACb,CAAE9hB,EAAG0uC,EAAMzuC,EAAG0uC,GACd,CAAE3uC,EAAG0uC,EAAOxuC,EAAQ,IAAMD,EAAG0uC,GAC7B,CAAE3uC,EAAG0uC,EAAMzuC,EAAG0uC,EAAOxuC,EAAS,KAC9B,CAAEH,EAAG0uC,EAAOxuC,EAAQ,IAAMD,EAAG0uC,EAAOxuC,EAAS,MAG/C,IAAK,IAAI0C,KAAKif,EAAQ,CACpB,MAAM8C,EAAK7iB,KAAK2W,MAAM7V,EAAE7C,EAAIJ,GACtB8kB,EAAK3iB,KAAK2W,MAAM7V,EAAE5C,EAAIL,GAI5B,GAAIglB,EAAK,GAAKA,GAAMsgB,GAAiBxgB,EAAK,EAAG,OAAO,EAEpD,GAAIupB,GAAeprC,EAAE7C,EAAG6C,EAAE5C,EAAGilC,EAAeC,EAAgBvlC,EAAWwlC,EAAUlhB,EAAegqB,EAAYtH,EAAYxpC,GACtH,OAAO,CAEX,CACA,OAAO,CACT,CAKO,SAASorC,GAAqBxoC,EAAGC,EAAGC,EAAOC,EAAQ+kC,EAAeC,EAAgBvlC,EAAWwlC,EAAUlhB,GAC5G,MAAMxG,EAAK1d,EAAIE,EAAQ,EACjB0uC,EAAQ3uC,EAAIE,EAAS,EACrBykB,EAAK7iB,KAAK2W,MAAMgF,EAAK9d,GACrB8kB,EAAK3iB,KAAK2W,MAAMk2B,EAAQhvC,GAE9B,GAAIglB,EAAK,GAAKF,EAAK,GAAKE,GAAMsgB,GAAiBxgB,GAAMygB,EACnD,MAAO,CAAErB,SAAU,GAAKC,aAAc,IAGxC,MACMyK,EAASpJ,EADD1gB,EAAKwgB,EAAgBtgB,GAEnC,IAAK4pB,EAAQ,MAAO,CAAE1K,SAAU,GAAKC,aAAc,IAEnD,MAAM0K,EAAUvqB,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOqyC,GACjD,IAAKC,EAAS,MAAO,CAAE3K,SAAU,GAAKC,aAAc,IAGpD,MAAM8K,OAAwCjwC,IAAzB6vC,EAAQI,aAA6BJ,EAAQI,aAAe,GAEjF,MAAO,CACL/K,SAAU+K,EAEV9K,kBAAuCnlC,IAAzB6vC,EAAQI,aAAkD,GAApB,EAAIA,GAAoB,IAAO,GAEvF,CC0CA,MAEA,GAFqB,IAjKrB,MACE33B,WAAAA,GACEC,KAAK23B,eAAiB,GACtB33B,KAAK43B,SAAmD,OAC1D,CAKAC,WAAAA,CAAYC,GACV93B,KAAK43B,SAAWE,CAClB,CAMAC,WAAAA,CAAYC,GACVh4B,KAAK23B,eAAezvC,KAAK8vC,EAC3B,CAMAC,cAAAA,CAAeD,GACbh4B,KAAK23B,eAAiB33B,KAAK23B,eAAelsC,OAAOysC,GAAMA,IAAOF,EAChE,CAOAG,eAAAA,CAAgB5xC,EAAO6xC,EAAU,CAAC,GAChCp4B,KAAK23B,eAAe5vC,QAAQiwC,IAC1B,IACEA,EAASzxC,EAAO6xC,EAClB,CAAE,MAAOzf,GACPzqB,QAAQ3H,MAAM,2BAA4BoyB,EAC5C,GAEJ,CAQA0f,MAAAA,CAAO9xC,EAAO6xC,EAAU,CAAC,EAAGN,EAAQ,SAClC,MAAMQ,EAAW/xC,aAAiBlB,MAAQkB,EAAQ,IAAIlB,MAAMkzC,OAAOhyC,IAC7D4J,GAAY,IAAIF,MAAOG,cAEvBooC,EAAU,CACdroC,YACA2nC,QACAW,QAASH,EAASG,QAClBC,MAAOJ,EAASI,MAChBN,WAIF,GAAIp4B,KAAK24B,UAAUb,GAAQ,EACP5pC,QAAQ4pC,IAAU5pC,QAAQ3H,OAClC,IAAI4J,OAAe2nC,EAAMc,iBAAkBN,EAASG,QAASL,GAEnEE,EAASI,OAAmB,UAAVZ,GACpB5pC,QAAQ3H,MAAM+xC,EAASI,MAE3B,CAYA,MATc,UAAVZ,GAA+B,SAAVA,GACvB93B,KAAKm4B,gBAAgBG,EAAUF,GAK/Bp4B,KAAK64B,qBAAqBL,GAGrBF,CACT,CAOAK,SAAAA,CAAUb,GACR,MAAMgB,EAAS,CAAEC,MAAO,EAAG7mC,KAAM,EAAGoJ,KAAM,EAAG/U,MAAO,GAC9CyyC,EAAeF,EAAO94B,KAAK43B,WAAa,EAE9C,OADqBkB,EAAOhB,IAAU,IACfkB,CACzB,CAMAH,oBAAAA,CAAqBL,GAEnB,CAMFO,KAAAA,CAAMN,EAASL,EAAU,CAAC,GACxB,OAAOp4B,KAAKq4B,OAAOI,EAASL,EAAS,QACvC,CAEAlmC,IAAAA,CAAKumC,EAASL,EAAU,CAAC,GACvB,OAAOp4B,KAAKq4B,OAAOI,EAASL,EAAS,OACvC,CAEA98B,IAAAA,CAAKm9B,EAASL,EAAU,CAAC,GACvB,OAAOp4B,KAAKq4B,OAAOI,EAASL,EAAS,OACvC,CAEA7xC,KAAAA,CAAMkyC,EAASL,EAAU,CAAC,GACxB,OAAOp4B,KAAKq4B,OAAOI,EAASL,EAAS,QACvC,CAQAa,SAAAA,CAAUC,EAAId,EAAU,CAAC,GACvB,OAAOvY,SAAUsZ,KACf,IACE,aAAaD,KAAMC,EACrB,CAAE,MAAO5yC,GAEP,MADAyZ,KAAKq4B,OAAO9xC,EAAO,IAAK6xC,EAASe,QAAQ,SACnC5yC,CACR,EAEJ,CAQA6yC,QAAAA,CAASF,EAAId,EAAU,CAAC,GACtB,MAAO,IAAIe,KACT,IACE,OAAOD,KAAMC,EACf,CAAE,MAAO5yC,GAEP,MADAyZ,KAAKq4B,OAAO9xC,EAAO,IAAK6xC,EAASe,QAAQ,SACnC5yC,CACR,EAEJ,GC3II8yC,GAAYA,CAAC53B,EAAGyL,GAAM,IACP,mBAANzL,EAAwBA,EAClB,kBAANA,EAAkD,SAA3BA,EAAE63B,OAAOnC,cACpCjqB,EAIEqsB,GAAgBA,CAACtyC,EAASgnC,EAAUwB,EAAYsH,EAAY7wC,EAAiB6mB,EAAe+jB,EAAY2F,EAAe+C,EAAgBvzC,KAChJ,MAAMypC,EC7Bc+J,MACpB,MAAMl0C,GAAOqT,EAAAA,EAAAA,QAAO,CAChBkN,GAAG,EACHoC,GAAG,EACHkE,GAAG,EACHG,GAAG,EACHqhB,OAAO,EACP0F,WAAW,IAiIf,OA9HA/5B,EAAAA,EAAAA,WAAU,KACN,MAAMnK,EAAiBA,KACnB,IAAM,QAASS,OAAOC,sBAAwB,CAAE,MAAQ,OAAO,CAAO,GAGpE4pC,EAAYA,KACdn0C,EAAKmU,QAAQoM,GAAI,EACjBvgB,EAAKmU,QAAQwO,GAAI,EACjB3iB,EAAKmU,QAAQ0S,GAAI,EACjB7mB,EAAKmU,QAAQ6S,GAAI,EACjBhnB,EAAKmU,QAAQk0B,OAAQ,EACrBroC,EAAKmU,QAAQ45B,WAAY,GAGvBqG,EAAiBv0C,IAEnB,MAAMw0C,EAAOx0C,EAAEwU,QAAUxU,EAAEwU,OAAOigC,QAAWz0C,EAAEwU,OAAOigC,QAAQjB,cAAgB,GACxEkB,EAAiB,UAARF,GAA2B,aAARA,GAAuBx0C,EAAEwU,QAAUxU,EAAEwU,OAAOmgC,kBAG9E,IAAKD,GAAqB,SAAX10C,EAAEE,OAAoBF,EAAE40C,OAAQ,CAC3C,IAAMnqC,OAAOgI,cAAc,IAAIuC,YAAY,wBAA0B,CAAE,MAAO,CAI9E,OAHAs/B,SAEgC,oBAArBt0C,EAAE68B,gBAA+B78B,EAAE68B,iBAElD,CAGA,IAAK6X,IAAW1qC,IACZ,OAAQhK,EAAEE,MACN,IAAK,OACL,IAAK,UACL,IAAK,OACL,IAAK,YACL,IAAK,OACL,IAAK,YACL,IAAK,OACL,IAAK,aACL,IAAK,QAC+B,oBAArBF,EAAE68B,gBAA+B78B,EAAE68B,iBAQ1D,IAAI7yB,IAEJ,OAAQhK,EAAEE,MACN,IAAK,OACL,IAAK,UACDC,EAAKmU,QAAQoM,GAAI,EAAM,MAC3B,IAAK,OACL,IAAK,YACDvgB,EAAKmU,QAAQwO,GAAI,EAAM,MAC3B,IAAK,OACL,IAAK,YACD3iB,EAAKmU,QAAQ0S,GAAI,EAAM,MAC3B,IAAK,OACL,IAAK,aACD7mB,EAAKmU,QAAQ6S,GAAI,EAAM,MAC3B,IAAK,QAAShnB,EAAKmU,QAAQk0B,OAAQ,IAKrCqM,EAAmB70C,IAEJ,IAAbA,EAAE4S,SACF5I,MACJ7J,EAAKmU,QAAQ45B,WAAY,KAGvB4G,EAAiB90C,IACF,IAAbA,EAAE4S,SACF5I,MACJ7J,EAAKmU,QAAQ45B,WAAY,KAGvB6G,EAAe/0C,IAEjB,GAAe,WAAXA,EAAEE,OAEF8J,IAKJ,OAAQhK,EAAEE,MACN,IAAK,OACL,IAAK,UACDC,EAAKmU,QAAQoM,GAAI,EAAO,MAC5B,IAAK,OACL,IAAK,YACDvgB,EAAKmU,QAAQwO,GAAI,EAAO,MAC5B,IAAK,OACL,IAAK,YACD3iB,EAAKmU,QAAQ0S,GAAI,EAAO,MAC5B,IAAK,OACL,IAAK,aACD7mB,EAAKmU,QAAQ6S,GAAI,EAAO,MAC5B,IAAK,QAAShnB,EAAKmU,QAAQk0B,OAAQ,IAKrCwM,EAAmBA,IAAMV,IAS/B,OANA7pC,OAAOiK,iBAAiB,UAAW6/B,EAAe,CAAEU,SAAS,IAC7DxqC,OAAOiK,iBAAiB,QAASqgC,EAAa,CAAEE,SAAS,IACzDxqC,OAAOiK,iBAAiB,uBAAwBsgC,GAChDvqC,OAAOiK,iBAAiB,YAAamgC,EAAiB,CAAEI,SAAS,IACjExqC,OAAOiK,iBAAiB,UAAWogC,EAAe,CAAEG,SAAS,IAEtD,KACHxqC,OAAOkK,oBAAoB,UAAW4/B,EAAe,CAAEU,SAAS,IAChExqC,OAAOkK,oBAAoB,QAASogC,EAAa,CAAEE,SAAS,IAC5DxqC,OAAOkK,oBAAoB,uBAAwBqgC,GACnDvqC,OAAOkK,oBAAoB,YAAakgC,EAAiB,CAAEI,SAAS,IACpExqC,OAAOkK,oBAAoB,UAAWmgC,EAAe,CAAEG,SAAS,MAErE,IAEI90C,GD3GOk0C,IAGP1oC,EAAQ8/B,IAAa93B,EAAAA,EAAAA,UAAS,CACjClQ,EAAG,EACHC,EAAG,EACHC,MAAO,GACPC,OAAQ,GACRC,GAAI,EACJC,GAAI,EACJC,YAAY,EACZC,UAAW,EACXC,UAAW,OACXC,OAAQ,GACRC,UAAWb,EACXgB,KAAM,EAENC,OAAQhB,EACRiB,UAAWjB,EACXkB,WAAYjB,EACZkB,cAAelB,EACfooC,UhDpCsB,IgDqCtBC,ahDrCsB,IgDsCtBznC,SAAU,GACVC,YAAa,IACb0oC,aAAc,EACd9nC,WAAW,EACXC,WAAY,EACZP,YAAa,KAIXulC,GAAY12B,EAAAA,EAAAA,QAAO,IAAK7H,IACxBupC,GAAa1hC,EAAAA,EAAAA,UACbi3B,GAAgBj3B,EAAAA,EAAAA,SAAO,GACvBk3B,GAAcl3B,EAAAA,EAAAA,QAAO,GACrB2hC,GAA6B3hC,EAAAA,EAAAA,QAAO,GACpC4hC,GAAqB5hC,EAAAA,EAAAA,QAAO,MAC5B6hC,GAAsB7hC,EAAAA,EAAAA,QAAO,IAAIma,KACjCgd,GAAiBn3B,EAAAA,EAAAA,QAAO,IACxBq3B,GAAmBr3B,EAAAA,EAAAA,QAAO,GAC1B8hC,GAAkB9hC,EAAAA,EAAAA,QAAO,GACzB+hC,GAAkB/hC,EAAAA,EAAAA,SAAO,GACzB+yB,GAAc/yB,EAAAA,EAAAA,QAAO,MACrBgiC,GAAsBhiC,EAAAA,EAAAA,SAAO,GAC7Bs3B,GAA6Bt3B,EAAAA,EAAAA,QAAO,GACpCu3B,GAAsBv3B,EAAAA,EAAAA,QAAO,GAC7Bw3B,GAAoBx3B,EAAAA,EAAAA,QAAO,GAC3Bo3B,GAAcp3B,EAAAA,EAAAA,QAAO,IAGrBiiC,GAAmBjiC,EAAAA,EAAAA,QAAO69B,GAC1BqE,GAAoBliC,EAAAA,EAAAA,QAAO4gC,GAC3BuB,GAAgBniC,EAAAA,EAAAA,QAAOk4B,GACvBkK,GAAoBpiC,EAAAA,EAAAA,QAAO3S,GAC3Bg1C,GAAqBriC,EAAAA,EAAAA,QAAO1S,IAElCqT,EAAAA,EAAAA,WAAU,KAAQshC,EAAiBnhC,QAAU+8B,GAAkB,CAACA,KAChEl9B,EAAAA,EAAAA,WAAU,KAAQuhC,EAAkBphC,QAAU8/B,GAAmB,CAACA,KAClEjgC,EAAAA,EAAAA,WAAU,KAAQwhC,EAAcrhC,QAAUo3B,GAAe,CAACA,KAC1Dv3B,EAAAA,EAAAA,WAAU,KAAQyhC,EAAkBthC,QAAUzT,GAAmB,CAACA,KAClEsT,EAAAA,EAAAA,WAAU,KAAQ0hC,EAAmBvhC,QAAUxT,GAAoB,CAACA,KAGpEqT,EAAAA,EAAAA,WAAU,KACN,IACI,MAAMkI,EAAI5T,aAAaC,QAAQ,sBAC/B6sC,EAAgBjhC,QAAiB,OAAN+H,GAA2B,MAANA,CACpD,CAAE,MAAQk5B,EAAgBjhC,SAAU,CAAO,CAC3C,MAAMwhC,EAAY91C,IACd,IACI,MAAM8G,IAAa9G,GAAGiV,QAAQnO,QAC9ByuC,EAAgBjhC,QAAUxN,CAC9B,CAAE,MAAO,GAEb2D,OAAOiK,iBAAiB,oBAAqBohC,GAE7C,MAAMC,EAAgBA,KAClB,IACI,IAAKxP,EAAYjyB,QAAS,CACtB,MAAM8xB,EAAK37B,OAAO47B,cAAgB57B,OAAO67B,mBACrCF,IAAIG,EAAYjyB,QAAU,IAAI8xB,EACtC,CACIG,EAAYjyB,SAAyC,cAA9BiyB,EAAYjyB,QAAQ3S,OAC3C4kC,EAAYjyB,QAAQmyB,WAEpBF,EAAYjyB,SAAyC,YAA9BiyB,EAAYjyB,QAAQ3S,QAC3C6zC,EAAoBlhC,SAAU,EAEtC,CAAE,MAAO,GAGb,OADA7J,OAAOiK,iBAAiB,0BAA2BqhC,GAC5C,KACHtrC,OAAOkK,oBAAoB,oBAAqBmhC,GAChDrrC,OAAOkK,oBAAoB,0BAA2BohC,KAE3D,IAGH,MAAMC,EAAcA,CAACh7B,EAAK1R,IR/HvB,SAAiB6Z,EAAKnI,EAAK1R,GAChC,MAAM,gBAAEisC,EAAe,YAAEhP,GAAgBpjB,GAAO,CAAC,EACjD,IACE,IAAKoyB,GAAiBjhC,QAAS,OAC/B,MAAM6xB,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAG4D,GAAU,IAE9C,GAAI0R,GAAsB,kBAARA,GAAoBA,EAAIhD,OAAS,EACjD,IACE,MAAMi+B,EAAQ,IAAIC,MAAMl7B,GACxBi7B,EAAM3sC,OAAS68B,EACf8P,EAAMvhC,mBAAmB,QAAS,KAChC,IAAMuhC,EAAME,OAAS,CAAE,MAAO,CAC9BjQ,GAAa/iB,EAAKgjB,IACjB,CAAEiQ,MAAM,IACX,MAAM9vC,EAAI2vC,EAAMniB,SAEhB,YADIxtB,GAAwB,oBAAZA,EAAEgtB,OAAsBhtB,EAAEgtB,MAAM,IAAM4S,GAAa/iB,EAAKgjB,IAE1E,CAAE,MACA,CAIJD,GAAa/iB,EAAKgjB,EACpB,CAAE,MAAO,CACX,CQwGeoF,CAAQ,CAAEgK,kBAAiBhP,cAAaiP,uBAAuBx6B,EAAK1R,GAIzE+sC,EAA2BA,CAACvR,EAAUC,EAAU/jC,EAAUs1C,EAAiBtM,KAC7E,IACI,OEvIL,UAA2B,SAChClF,EAAQ,SACRC,EAAQ,SACR/jC,EAAQ,gBACRs1C,EAAe,QACftM,EAAO,cACPriB,EAAa,UACbtkB,EAAS,WACTgkC,EAAU,WACVa,EAAU,2BACViN,EAA0B,mBAC1BC,EAAkB,oBAClBC,EAAmB,UACnBnL,IAEA,IAAKoM,EAGH,OAFAnB,EAA2B7gC,QAAU,OACrC8gC,EAAmB9gC,QAAU,MAI/B,MAIM0wB,EAAaF,EACbG,EAAcH,EALNoF,EAAU51B,QAAQ3Q,MAM1BuhC,EAAYH,EACZI,EAAeJ,EANNmF,EAAU51B,QAAQ1Q,OAS3BwhC,EAAQ5/B,KAAK2W,MAAM6oB,EAAa3hC,GAChCgiC,EAAQ7/B,KAAK2W,MAAM8oB,EAAc5hC,GACjCiiC,EAAQ9/B,KAAK2W,MAAM+oB,EAAY7hC,GAC/BkiC,EAAQ//B,KAAK2W,MAAMgpB,EAAe9hC,GAGlCkzC,EAAa,GAEbC,EAAgBA,CAAC5zC,EAAKklB,EAAK2uB,KAC/B,MAAMlqB,EAAOzE,EAAI4uB,kBAAoB,CAAEnd,KAAK,EAAMC,QAAQ,EAAMC,MAAM,EAAMC,OAAO,IACvE+c,EAAMld,KAAOhN,EAAKgN,KAASkd,EAAMjd,QAAUjN,EAAKiN,QAAYid,EAAMhd,MAAQlN,EAAKkN,MAAUgd,EAAM/c,OAASnN,EAAKmN,QAEzH6c,EAAWzzC,KAAK,CAAEZ,MAAOU,EAAKklB,MAAK2uB,WAGrC,IAAK,IAAItuB,EAAKmd,EAAOnd,GAAMod,EAAOpd,IAChC,IAAK,IAAIE,EAAK+c,EAAO/c,GAAMgd,EAAOhd,IAAM,CACtC,MAAMzlB,EAAMulB,EAAKnnB,EAAWqnB,EAC5B,GAAIzlB,EAAM,GAAKA,GAAO0zC,EAAgBt+B,OAAQ,SAC9C,MAAM45B,EAAQ0E,EAAgB1zC,GAC9B,IAAKgvC,EAAO,SACZ,MAAM9pB,EAAMH,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOgyC,GAC7C,IAAK9pB,GAAoB,WAAbA,EAAIze,KAAmB,SAEnC,MAAMstC,EAAWtuB,EAAKhlB,EAChBuzC,EAAYD,EAAWtzC,EACvBwzC,EAAU1uB,EAAK9kB,EACfyzC,EAAaD,EAAUxzC,EAI7B,KAF6B4hC,GAAe0R,GAAY3R,GAAc4R,MAC3CzR,GAAgB0R,GAAW3R,GAAa4R,GACjB,SAGlD,IAAI77B,EAAIqB,OAAOwL,EAAIivB,aACdz6B,OAAOoC,SAASzD,KAAIA,EAAI,GAC7BA,EAAIzV,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGuV,IAE5B,IAAI+7B,EAAc7R,GAAgB0R,GAAW1R,GAAgB0R,EAAU57B,EACnEg8B,EAAiB/R,GAAa4R,GAAc5R,GAAa4R,EAAa77B,EACtEi8B,EAAejS,GAAe2R,EAAY37B,GAAKgqB,GAAe2R,EAC9DO,EAAgBnS,GAAc2R,EAAW17B,GAAK+pB,GAAc2R,EAGhE,IAAKK,IAAgBC,IAAmBC,IAAiBC,EAAe,CACtE,MAAMC,EAAU5xC,KAAKwZ,IAAImmB,EAAe0R,GAClCQ,EAAa7xC,KAAKwZ,IAAI83B,EAAa5R,GACnCoS,EAAW9xC,KAAKwZ,IAAIimB,EAAc0R,GAClCY,EAAY/xC,KAAKwZ,IAAI43B,EAAY5R,GACjCt/B,EAAMF,KAAKE,IAAI0xC,EAASC,EAAYC,EAAUC,GACpDP,EAAetxC,IAAQ0xC,EACvBH,GAAmBD,GAAetxC,IAAQ2xC,EAC1CH,GAAiBF,IAAgBC,GAAkBvxC,IAAQ4xC,EAC3DH,GAAkBH,IAAgBC,IAAmBC,CACvD,CAEAV,EAAc5zC,EAAKklB,EAAK,CAAEyR,IAAKyd,EAAaxd,OAAQyd,EAAgBxd,KAAMyd,EAAcxd,MAAOyd,GACjG,CAGF,GAA0B,IAAtBZ,EAAWv+B,OAGb,OAFAm9B,EAA2B7gC,QAAU,OACrC8gC,EAAmB9gC,QAAU,MAK/B,MAAMkjC,EAAajmC,IAAOA,EAAEgoB,IAAM,EAAI,IAAMhoB,EAAEioB,OAAS,EAAI,IAAMjoB,EAAEkoB,KAAO,EAAI,IAAMloB,EAAEmoB,MAAQ,EAAI,GAClG6c,EAAWtoB,KAAK,CAACnL,EAAGC,IAAMy0B,EAAUz0B,EAAE0zB,OAASe,EAAU10B,EAAE2zB,QAC3D,MAAMgB,EAASlB,EAAW,GACpBr0C,EAAQu1C,EAAOv1C,MACf2vC,EAAS4F,EAAO3vB,IAChB2uB,EAAQgB,EAAOhB,MAGfiB,EAAYtC,EAAmB9gC,QACrC8gC,EAAmB9gC,QAAUpS,EAE7B,MAAMy1C,IAAe9F,EAAO8F,WACtBC,EAAa/F,EAAOP,QAAU,EAC9BlI,EAAMyI,EAAOxI,iBAAmBuO,EAEtC,GAAID,GACF,IAAKtC,EAAoB/gC,QAAQ4G,IAAIhZ,GAAQ,CAC3CmzC,EAAoB/gC,QAAQ6nB,IAAIj6B,GAChCgoC,EAAU51B,QAAQpQ,OAASsB,KAAKC,IAAI,EAAGykC,EAAU51B,QAAQpQ,OAAS0zC,GAElE,MAAMzN,EAAe,IACfhc,EAAO7R,OAAO4tB,EAAU51B,QAAQtP,aAAe,EASrD,OARAklC,EAAU51B,QAAQtP,WAAaQ,KAAKC,IAAI0oB,EAAMgc,QAC1CsM,EAAMld,IACR2Q,EAAU51B,QAAQxQ,GAAmB,IAAbokC,EACfuO,EAAMhd,KACfyQ,EAAU51B,QAAQzQ,GAAmB,KAAbwjC,EACfoP,EAAM/c,QACfwQ,EAAU51B,QAAQzQ,GAAkB,IAAbwjC,GAG3B,MACK,CAGL,GADmBqQ,IAAcx1C,EACjB,CAEdizC,EAA2B7gC,QAAU,EACrC,MAAMujC,EAAYv7B,OAAOoC,SAASk5B,IAAeA,EAAa,EAAIA,EAAaxO,EAC/E,GAAIyO,EAAY,EAAG,CACjB3N,EAAU51B,QAAQpQ,OAASsB,KAAKC,IAAI,EAAGykC,EAAU51B,QAAQpQ,OAAS2zC,GAElE,MAAM1N,EAAe,IACfhc,EAAO7R,OAAO4tB,EAAU51B,QAAQtP,aAAe,EACrDklC,EAAU51B,QAAQtP,WAAaQ,KAAKC,IAAI0oB,EAAMgc,EAChD,CAEA,MACF,CAEAgL,EAA2B7gC,SAAW01B,EACtC,MAAM8N,EAAU,IAChB,KAAO3C,EAA2B7gC,SAAWwjC,GAAS,CACpD3C,EAA2B7gC,SAAWwjC,EACtC5N,EAAU51B,QAAQpQ,OAASsB,KAAKC,IAAI,EAAGykC,EAAU51B,QAAQpQ,OAASklC,GAElE,MAAMe,EAAe,IACfhc,EAAO7R,OAAO4tB,EAAU51B,QAAQtP,aAAe,EACrDklC,EAAU51B,QAAQtP,WAAaQ,KAAKC,IAAI0oB,EAAMgc,EAChD,CACF,CACF,CFxBmBiB,CAAkB,CACrBtG,WACAC,WACA/jC,WACAs1C,kBACAtM,UACAriB,gBACAtkB,UAAS,EACTgkC,WhDxIU,EgDyIVa,WhDxIU,GgDyIViN,6BACAC,qBACAC,sBACAnL,aAER,CAAE,MAAO/oC,GAOL,OANA42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,gBACXC,SAAU,2BACVC,eAAgB,CAAEz0C,EAAGqhC,EAAUphC,EAAGqhC,GAClC/jC,aAEG,CAAEswC,OAAQ,EAAG6G,WAAY,KACpC,GAIEC,GAAmB5kC,EAAAA,EAAAA,QAAO,IAAIma,KAwC9B0qB,GAAe7kC,EAAAA,EAAAA,QAAO,OAG5BW,EAAAA,EAAAA,WAAU,KACN,IAAKtS,EAGD,OAFA4oC,EAAcn2B,SAAU,OACxB+jC,EAAa/jC,QAAU,MAO3B,MAAMvS,EAAOF,EAAQE,MAAQ,CAAC,EACxBu2C,EAAev2C,EAAKw2C,uBAAyBx2C,EAAKy2C,qBAAuB32C,EAAQL,MAAQ,UACzFi3C,EAAeH,IAAiBD,EAAa/jC,QAKnD,KAAIm2B,EAAcn2B,UAAYmkC,GAAgB7N,EAAYt2B,QAAQ0D,OAAS,KAE3EqgC,EAAa/jC,QAAUgkC,EAGvB5N,EAAYp2B,QAAU,EACtB6gC,EAA2B7gC,QAAU,EACrC8gC,EAAmB9gC,QAAU,KAC7B+gC,EAAoB/gC,QAAU,IAAIqZ,IAClCgd,EAAer2B,QAAU,GACzBs2B,EAAYt2B,QAAU,GACtBu2B,EAAiBv2B,QAAU,EAC3BghC,EAAgBhhC,QAAU,EAEtBzS,GAAWA,EAAQkqC,QAAQ,CAC3B,MAAMoD,EAAOttC,EAAQE,MAAM4B,OAAS9B,EAAQ8B,OAAS,GAC/CyrC,EAAOvtC,EAAQE,MAAM6B,QAAU/B,EAAQ+B,QAAU,GAGjD80C,EAAkB,GACpBrO,GAAc9yB,MAAMC,QAAQ6yB,IAC5BA,EAAW1nC,QAAQ,CAAC/C,EAAIgD,KACpB,GAAIhD,IAAOA,EAAGiD,SAAS,UAAW,CAC9B,MAAMilB,EAAMpP,GAAa9Y,IAAO+nB,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOA,GAChDkoB,IACA,WAAbA,EAAIze,MACY,SAAhBye,EAAIwa,SACY,aAAhBxa,EAAIwa,SACJxa,EAAIkb,YACHlb,EAAItmB,MAAQsmB,EAAItmB,KAAKuwC,cAAclvC,SAAS,eAI7C61C,EAAgB51C,KAAK,CACjBlD,GAAI,UAAUgD,KAAOiI,KAAKC,SAASlI,IACnCk9B,MAAOlgC,EACPkoB,IAAKA,EACLrkB,EAAIb,EAAMusC,EAAQ9rC,EAClBK,EAAG8B,KAAK2W,MAAMvZ,EAAMusC,GAAQ9rC,EAC5BM,OAAQ2Y,OAAOwL,EAAInkB,QAAU,GAAKN,EAClCO,QAAS0Y,OAAOwL,EAAIlkB,SAAW,GAAKP,EACpCQ,GAAI,EACJC,GAAI,EACJI,OAAQ4jB,EAAI3jB,WAAa,IACzBH,UAA2B,aAAhB8jB,EAAIwa,SAA8Bxa,EAAIkb,WAAT,GAA2B,EACnE/+B,UAA4B,aAAhB6jB,EAAIwa,SAA0Bxa,EAAIkb,WAAc,OAAS,OACrEsL,UAAW,EACXC,UAAW,EACXxqC,YAAY,EACZosC,cAAe,EACf3P,mBAAoB,EACpB8B,QAASxa,EAAIwa,UAAYxa,EAAIkb,WAAa,WAAa,OAGnE,IAGR4H,EAAYt2B,QAAUokC,EAEtB,MAAMC,EAAW92C,EAAQkqC,OAAOj0B,KAAKk0B,GAAgB,aAAXA,EAAExqC,MAC5C,GAAIm3C,EAAU,CAEV,MAAMlU,EAAakU,EAAS1hC,KAAK2hC,UAAUh5C,GAAMA,GAAMA,EAAGiD,SAAS,WAEnE,IAAoB,IAAhB4hC,EAAmB,CACnB,IAAIoU,EAAUpU,EAAa0K,EAAQ9rC,EAC/By1C,EAAStzC,KAAK2W,MAAMsoB,EAAa0K,GAAQ9rC,EAG7C,MAAM01C,EAAWJ,EAAS1hC,KAAKwtB,GACzBuU,EAAiBtgC,GAAaqgC,IAAargC,GAAa,UACxDvU,EAAYqB,KAAKC,IAAI,EAAG6W,OAAO08B,GAAgB70C,YAAcb,GAGnE4mC,EAAU51B,QAAU,CAChB7Q,EAAGo1C,EACHn1C,EAAGo1C,EACHn1C,OAAQq1C,GAAgBr1C,OAAS,GAAKN,EAAY,GAClDO,QAASo1C,GAAgBp1C,QAAU,GAAKP,EACxCQ,GAAI,EACJC,GAAI,EACJC,YAAY,EACZC,UAAW,EACXC,UAAW,OACXC,OAAQsB,KAAKE,IAAI,GAAIvB,GACrBA,YACAG,KAAM,EAENC,OAAQhB,EACRiB,UAAWjB,EACXkB,WAAYjB,EACZkB,cAAelB,EACfY,SAAUkY,OAAO08B,GAAgB50C,WAAa,GAC9CC,YAAaiY,OAAO08B,GAAgB30C,cAAgB,IACpD0oC,aAAc,EACd9nC,WAAW,EACXC,WAAY,GAIhB,IAAI6Z,EAAQ,EACZ,KAAOuoB,EAAe4C,EAAU51B,QAAQ7Q,EAAGymC,EAAU51B,QAAQ5Q,EAAGyrC,EAAMC,IAASrwB,EAAQqwB,GACnFlF,EAAU51B,QAAQ5Q,EAAI8B,KAAKC,IAAI,EAAGykC,EAAU51B,QAAQ5Q,EAAIL,GACxD0b,IAGJ,MAAMk6B,EAAc9J,EAAO9rC,EAAY6mC,EAAU51B,QAAQ3Q,MACzDumC,EAAU51B,QAAQ7Q,EAAI+B,KAAKC,IAAI,EAAGD,KAAKE,IAAIwkC,EAAU51B,QAAQ7Q,EAAGw1C,IAEhExN,EAAU,IAAKvB,EAAU51B,QAAS3P,YAAa,GAAI48B,SAAUqJ,EAAYt2B,UACzEm2B,EAAcn2B,SAAU,CAC5B,MAEI41B,EAAU51B,QAAU,IACb41B,EAAU51B,QACb7Q,EAAG,EACHC,EAAG,EACHG,GAAI,EACJC,GAAI,EACJS,OAAQhB,EACRiB,UAAWjB,EACXkB,WAAYjB,EACZkB,cAAelB,EACfY,SAAU,GACVC,YAAa,IACb0oC,aAAc,GAElBtB,EAAU,IAAKvB,EAAU51B,QAAS3P,YAAa,GAAI48B,SAAUqJ,EAAYt2B,UACzEm2B,EAAcn2B,SAAU,CAEhC,MAEI41B,EAAU51B,QAAU,IACb41B,EAAU51B,QACb7Q,EAAG,EACHC,EAAG,EACHG,GAAI,EACJC,GAAI,EACJS,OAAQhB,EACRiB,UAAWjB,EACXkB,WAAYjB,EACZkB,cAAelB,EACfY,SAAU,GACVC,YAAa,IACb0oC,aAAc,GAElBtB,EAAU,IAAKvB,EAAU51B,QAAS3P,YAAa,GAAI48B,SAAUqJ,EAAYt2B,UACzEm2B,EAAcn2B,SAAU,CAEhC,GACD,CAACzS,IAGJ,MAAMylC,EAAiBA,CAAC6K,EAAMC,EAAMpxC,EAAUk4C,EAAgBC,EAAeC,IAClEC,GACHlH,EACAC,EACApxC,EACAk4C,EACA71C,EACAwlC,EACAlhB,OACkBtlB,IAAlB82C,EAA8BA,EAAgBjP,EAAU51B,QAAQ3Q,WAC7CtB,IAAnB+2C,EAA+BA,EAAiBlP,EAAU51B,QAAQ1Q,OAClE+tC,EACAtH,EACAuL,EAAkBthC,SAAWzS,GAASE,MAAMlB,gBAK9C6wC,EAAiBA,CAACtY,EAAIC,EAAIsP,EAAeC,EAAgB0Q,EAAoBC,EAAkBC,EAAuBC,EAAoBC,EAAoBC,IACzJC,GACHxgB,EACAC,EACAsP,EACAC,EACA0Q,GAAsBj2C,EACtBk2C,GAAoB1Q,EACpB2Q,GAAyB7xB,EACzB8xB,GAAsB9H,EACtB+H,GAAsBrP,EACtBsP,GAA0B/D,EAAkBthC,SAAWzS,GAASE,MAAMlB,gBA6BxEyqC,EAAkBA,CAACuO,EAASC,EAAS91C,EAAW+1C,EAAU,WGjb7D,SAAyB52B,EAAK02B,EAASC,EAAS91C,EAAW+1C,EAAU,UAC1E,MAAM,aAAErhC,EAAY,UAAErV,EAAS,UAAE4wC,EAAS,eAAEtJ,EAAc,gBAAE2K,EAAe,YAAEU,GAAgB7yB,EAEvF62B,EAAOthC,EAAa,kBACpB9Y,EAAK01C,EAAgBhhC,UACrBoM,EAAIlb,KAAKC,IAAI,GAAKu0C,GAAMr2C,OAAS,KAAQN,GACzCsd,EAAInb,KAAKC,IAAI,GAAKu0C,GAAMp2C,QAAU,KAAQP,GAE1CQ,GAAMG,GAAa,EAAI,GAAK,IADXg2C,GAAMl9B,MAAqB,GAAbk9B,EAAKl9B,MAAa,KAGjD2C,EAAOja,KAAKC,IAAI,IAAKu0C,GAAMC,UAAY,KACvCC,EAAiD,qBAA1BF,GAAMG,kBAC7BH,EAAKG,gBACPlG,EAAU+F,GAAMI,0BAA0B,GAExCC,EAAO,CACXz6C,KACAm6C,UACAt2C,EAAGo2C,EACHn2C,EAAGo2C,EACHj2C,KACAC,GAZS,EAaT4c,IACAC,IACAlB,OACAqgB,MAAOka,GAAMp6C,IAAM,iBACnBw9B,IAAKp5B,GAAa,EAAI,GAAK,EAC3Bs2C,OAAQN,IAAQA,EAAKO,oBACrBC,IAAKh1C,KAAKC,IAAI,GAAKD,KAAKE,IAAI,EAAMs0C,GAAMS,aAAe,IACvDC,IAAKR,EACLS,IAAKX,GAAM1I,QAAU,IAEvB3G,EAAer2B,QAAQxR,KAAKu3C,GAE5B,IACE,MAAMlU,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGs0C,GAAMhzC,WAAa,IACvDgvC,EAAYgE,GAAMtiC,IAAKyuB,EACzB,CAAE,MAAO,CACX,CH4YeyU,CAAwB,CAC3BliC,aAAY,GACZrV,UAAS,EACT4wC,aACAtJ,iBACA2K,kBACAU,eACD6D,EAASC,EAAS91C,EAAW+1C,GAI9B58B,EAAUpS,IACZ,MAAMoY,EAAM,CACRthB,UACAwoC,aACAC,QACAtN,KAAM,CAAEkN,YAAWO,gBAAeC,cAAaC,iBAAgBC,cAAaC,mBAAkBC,6BAA4BC,sBAAqBC,qBAC/IT,UAAW,CAAElnC,UAAS,EAAE2kC,QhD9bb,GgD8bsBC,kBhD7bZ,GgD6b+BZ,WhD5btC,EgD4bkDa,WhD3blD,IgD4bdvgB,gBACA6iB,QAAS,CACLlD,iBACA2E,qBAAsBA,CAACxoC,EAAGC,EAAGgd,EAAGC,EAAG6J,EAAIC,EAAIC,EAAImwB,EAAIC,IAAO7O,GAAqBxoC,EAAGC,EAAGgd,EAAGC,EAAG6J,EAAIC,EAAIC,EAAImwB,EAAIC,GAC3G3S,UAAWA,CAAC/O,EAAIC,IA/CL0hB,EAAC3hB,EAAIC,EAAIsP,EAAeC,KAE3C,MAAMoS,EAAMtS,GAAiBtP,EAAIC,EAAIsP,EAAeC,EAAgBvlC,EAAWwlC,EAAUlhB,GACzF,SAAUqzB,GAAoB,UAAbA,EAAI3xC,OA4CU0xC,CAAe3hB,EAAIC,EAAKx3B,GAASE,MAAM4B,OAAS9B,GAAS8B,OAAS,GAAM9B,GAASE,MAAM6B,QAAU/B,GAAS+B,QAAU,IAC3IqnC,gBAAiBA,EAAGxnC,IAAGC,IAAGC,QAAOC,SAAQP,UAAW4kB,EAAIjnB,WAAUC,gBAC9Dg6C,OA1CMC,EA0CO,CAAEz3C,IAAGC,IAAGC,QAAOC,UA1ChB+kC,EA0C2B9mC,GAASE,MAAM4B,OAAS9B,GAAS8B,OAAS,GA1CtDilC,EA0C4D/mC,GAASE,MAAM6B,QAAU/B,GAAS+B,QAAU,GAzCxI8lC,GAAoB,CACvBjmC,EAAGy3C,EAAKz3C,EACRC,EAAGw3C,EAAKx3C,EACRC,MAAOu3C,EAAKv3C,MACZC,OAAQs3C,EAAKt3C,OACbP,UAAS,EACTrC,SAAU2nC,EACV1nC,UAAW2nC,EACXC,WACAlhB,kBAVaszB,IAACC,EAAMvS,EAAeC,IA4CnCxlC,QAAS,CACL8nC,YAAaA,CAACznC,EAAGC,EAAG1C,EAAUm6C,II1cvC,SAAqBh4B,EAAK2hB,EAAUC,EAAU/jC,EAAUs1C,GAC7D,MAAM,cAAE3uB,EAAa,UAAEtkB,EAAS,WAAEC,EAAU,YAAE0yC,EAAW,cAAE3E,EAAa,UAAEnH,GAAc/mB,EACxF,IAAKmzB,EAAiB,OAEtB,MAAM1qB,EAAUkZ,EAAWoF,EAAU51B,QAAQ3Q,MAAQ,EAC/Cy3C,EAAUrW,EAAWmF,EAAU51B,QAAQ1Q,OAAS,EAEhDy3C,EAAQ71C,KAAK2W,MAAMyP,EAAUvoB,GAE7BnB,EADQsD,KAAK2W,MAAMi/B,EAAU/3C,GACbrC,EAAWq6C,EACjC,GAAIn5C,EAAQ,GAAKA,GAASo0C,EAAgBt+B,OAAQ,OAElD,MAAMsjC,EAAShF,EAAgBp0C,GAC/B,IAAKo5C,EAAQ,OAEb,MAAMC,EAAU5zB,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAO07C,GACjD,GAAKC,GAAYA,EAAQC,SAAUF,EAAOz4C,SAAS,aAG/C04C,EAAQ/5C,OAAQ+5C,EAAQ/5C,KAAKgV,WAAW,kBAA5C,CAGA,GAAI+kC,EAAQE,QAAUF,EAAQE,OAAOv3C,OAAQ,CAC3C,MAAMw3C,EAAcvpB,SAASopB,EAAQE,OAAOv3C,OAAQ,IACpD,GAAIgmC,EAAU51B,QAAQpQ,QAAUZ,EAAY,OAC5C,MAAMq4C,EAAYn2C,KAAKE,IAAIwkC,EAAU51B,QAAQpQ,OAASw3C,EAAap4C,GACnE4mC,EAAU51B,QAAQpQ,OAASy3C,EAC3B,IACE,MAAMxV,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAG61C,GAASv0C,WAAa,IAC1DgvC,EAAYuF,GAAS7jC,IAAKyuB,EAC5B,CAAE,MAAO,CAET,YADIkL,GAAeA,EAAc,cAAenvC,GAElD,CAGA,GAAIq5C,EAAQE,QAAUF,EAAQE,OAAOG,SAAU,CAC7C,MAAMC,EAAY1pB,SAASopB,EAAQE,OAAOG,SAAU,KAAO,EAC3D1R,EAAU51B,QAAQhQ,KAAOkB,KAAKC,IAAI,GAAIykC,EAAU51B,QAAQhQ,MAAQ,GAAKu3C,GACrE,IACE,MAAM1V,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAG61C,GAASv0C,WAAa,IAC1DgvC,EAAYuF,GAAS7jC,IAAKyuB,EAC5B,CAAE,MAAO,CAET,YADIkL,GAAeA,EAAc,cAAenvC,GAElD,CA1BoE,CA2BtE,CJ6ZoBgpC,CAAY,CAAEvjB,gBAAetkB,UAAS,EAAEC,WAAU,EAAE0yC,cAAa3E,cAAeoE,EAAiBnhC,QAAS41B,aAAazmC,EAAGC,EAAG1C,EAAUm6C,GAC3IhQ,mBAAoBA,CAAC1nC,EAAGC,EAAG1C,EAAUm6C,IK9c9C,SAA4Bh4B,EAAK2hB,EAAUC,EAAU/jC,EAAUs1C,GACpE,MAAM,cAAE3uB,EAAa,UAAEtkB,EAAS,WAAEC,EAAU,YAAE0yC,EAAW,cAAE3E,EAAa,UAAEnH,EAAS,QAAEroC,GAAYshB,EACjG,IAAKmzB,EAAiB,OAEtB,MAAM1qB,EAAUkZ,EAAWoF,EAAU51B,QAAQ3Q,MAAQ,EAC/Cy3C,EAAUrW,EAAWmF,EAAU51B,QAAQ1Q,OAAS,EAEhDy3C,EAAQ71C,KAAK2W,MAAMyP,EAAUvoB,GAE7BnB,EADQsD,KAAK2W,MAAMi/B,EAAU/3C,GACbrC,EAAWq6C,EACjC,GAAIn5C,EAAQ,GAAKA,GAASo0C,EAAgBt+B,OAAQ,OAElD,MAAM45B,EAAQ0E,EAAgBp0C,GAC9B,IAAK0vC,EAAO,OAEZ,MAAMC,EAASlqB,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOgyC,GAChD,IAAKC,IAAWA,EAAOrwC,OAASqwC,EAAOrwC,KAAKgV,WAAW,iBAAkB,OAGzE,MAAMrU,EAAWN,GAASE,MAAMlB,eAC1Bi7C,EAAc35C,IAAWD,GAE/B,GAAI0vC,EAAM/uC,SAAS,WAAai5C,QAAyCz5C,IAA1By5C,EAAYC,WAAqD,OAA1BD,EAAYC,UAE9F,IAAK,IAAIl+B,EAAI,EAAGA,EAAIy4B,EAAgBt+B,OAAQ6F,IAAK,CAC7C,GAAIA,IAAM3b,EAAO,SACjB,MAAM85C,EAAS1F,EAAgBz4B,GAC/B,GAAIm+B,IAAWA,EAAOn5C,SAAS,WAAwB,kBAAXm5C,GAA6B,CACrE,MAAMC,EAAW95C,IAAW0b,GAC5B,GAAIo+B,GAAYA,EAASF,YAAcD,EAAYC,UAAW,CAE1D,MAAMxM,EAAM1xB,EAAI7c,EAAYqC,EACtBmsC,EAAKhqC,KAAK2W,MAAM0B,EAAI7c,GAAYqC,EAGtC6mC,EAAU51B,QAAQ7Q,EAAI8rC,EACtBrF,EAAU51B,QAAQ5Q,EAAI8rC,EAGtB,IACI,MAAMrJ,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGmsC,GAAQ7qC,WAAa,IACzDgvC,EAAYnE,GAAQn6B,KAAO,iCAAkCyuB,EACjE,CAAE,MAAO,CAKT,MACJ,CACJ,CACJ,CAIJ,GAAuB,QAAnB0L,EAAOvP,UAAsB4H,EAAU51B,QAAQrP,UAIjD,OAHAilC,EAAU51B,QAAQrP,WAAY,EAC9BilC,EAAU51B,QAAQpP,WAAa,OAC/BglC,EAAU51B,QAAQk9B,cAAgBK,EAAOL,eAAiB,IAS5D,GAJKtH,EAAU51B,QAAQ4nC,oBACrBhS,EAAU51B,QAAQ4nC,kBAAoB,IAAIvuB,MAGxCuc,EAAU51B,QAAQ4nC,kBAAkBhhC,IAAIhZ,IAGvC2vC,EAAO4J,OAAZ,CAGA,GAAI5J,EAAO4J,OAAOv3C,OAAQ,CACxB,MAAMw3C,EAAcvpB,SAAS0f,EAAO4J,OAAOv3C,OAAQ,IACnD,GAAIgmC,EAAU51B,QAAQpQ,QAAUZ,EAAY,OAE5C,MAAMq4C,EAAYn2C,KAAKE,IAAIwkC,EAAU51B,QAAQpQ,OAASw3C,EAAap4C,GACnE4mC,EAAU51B,QAAQpQ,OAASy3C,EAG3B,IACE,MAAMxV,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGmsC,GAAQ7qC,WAAa,IACzDgvC,EAAYnE,GAAQn6B,IAAKyuB,EAC3B,CAAE,MAAO,CAOT,OAJA+D,EAAU51B,QAAQ4nC,kBAAkB/f,IAAIj6B,QAGpCmvC,GAAeA,EAAc,eAAgBnvC,GAEnD,CAGA,GAAI2vC,EAAO4J,OAAOG,SAAU,CAC1B,MAAMC,EAAY1pB,SAAS0f,EAAO4J,OAAOG,SAAU,KAAO,EAC1D1R,EAAU51B,QAAQhQ,KAAOkB,KAAKC,IAAI,GAAIykC,EAAU51B,QAAQhQ,MAAQ,GAAKu3C,GAErE,IACE,MAAM1V,EAAM3gC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAGmsC,GAAQ7qC,WAAa,IACzDgvC,EAAYnE,GAAQn6B,IAAKyuB,EAC3B,CAAE,MAAO,CAIT,OAFA+D,EAAU51B,QAAQ4nC,kBAAkB/f,IAAIj6B,QACpCmvC,GAAeA,EAAc,eAAgBnvC,GAEnD,CArC0B,CAsC5B,CLoWoBipC,CAAmB,CAAExjB,gBAAetkB,UAAS,EAAEC,WAAU,EAAE0yC,cAAa3E,cAAeoE,EAAiBnhC,QAAS41B,YAAWroC,WAAW4B,EAAGC,EAAG1C,EAAUm6C,GAC3J/P,kBAAmBA,CAAC3nC,EAAGC,EAAG1C,EAAUm6C,EAAanR,IAC7CqM,EAAyB5yC,EAAGC,EAAG1C,EAAUm6C,EAAanR,GAC1DqB,aAAcA,CAAC5nC,EAAGC,EAAGC,EAAOC,EAAQ5C,EAAUC,IA9S9Bk7C,EAACrX,EAAUC,EAAUphC,EAAOC,EAAQ5C,EAAUC,KACtE,IACI,IAAK0wC,IAAe+D,EAAkBphC,QAAS,OAG/C,MAAM8nC,EAAiB,IACfvG,EAAmBvhC,SAAW,MAC/BiD,MAAM8D,KAAK+8B,EAAiB9jC,UAG7B+nC,EAAkBxX,GAAqB,CACzCC,WACAC,WACAphC,QACAC,SACAhD,cAAe+wC,EACf7wC,gBAAiBs7C,EACjBp7C,WACAC,YACA0mB,gBACAtkB,UAASA,IAGTg5C,GAAmBA,EAAgBrkC,OAAS,IAE5CqkC,EAAgB15C,QAAQC,GAAOw1C,EAAiB9jC,QAAQ6nB,IAAIv5B,IAC5D8yC,EAAkBphC,QAAQ+nC,GAElC,CAAE,MAAOl7C,GACL42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,gBACXC,SAAU,sBACVC,eAAgB,CAAEz0C,EAAGqhC,EAAUphC,EAAGqhC,IAE1C,GA6QYoX,CAAoB14C,EAAGC,EAAGC,EAAOC,EAAQ5C,EAAUC,GACvDqqC,gBAAiBA,CAACuO,EAASC,EAAS91C,EAAW+1C,IAC3CzO,EAAgBuO,EAASC,EAAS91C,EAAW+1C,GACjDxO,QAASA,CAACvwB,EAAK1R,IAAW0sC,EAAYh7B,EAAK1R,GAC3CkiC,kBAAmBA,CAACxB,EAAShpC,EAAUC,IMtdhD,SAA2BkiB,EAAK6mB,EAAShpC,EAAUC,GACxD,MAAM,eAAE0pC,EAAc,YAAEC,EAAW,YAAE/gB,EAAW,UAAExmB,EAAS,eAAEquC,EAAc,aAAEh5B,EAAY,WAAE2xB,EAAU,eAAExpC,EAAc,cAAEwwC,GAAkBluB,EACnIm5B,EAAStS,EAAU,IACnBnd,EAAS7rB,EAAWqC,EACpBypB,EAAS7rB,EAAYoC,EAErBk5C,EAAcA,CAACp7B,EAAIE,EAAIm7B,EAAIC,KAC/B,MAAMC,EAAM,CACV,CAAEj5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,IAExB,IAAK,IAAIz7B,EAAI,EAAGA,EAAI07B,EAAI1kC,OAAQgJ,IAAK,CACnC,MAAM0rB,EAAKgQ,EAAI17B,GAEf,GAAI0wB,EAAehF,EAAGjpC,EAAGipC,EAAGhpC,EAAG1C,EAAUC,EAAWoC,EAAW,KAAM,KAAM,KAAMgnC,EAAYxpC,GAAiB,OAAO,CACvH,CACA,OAAO,GAGH87C,EAAiBA,CAACx7B,EAAIE,EAAIm7B,EAAIC,KAClC,IAAKpS,EAAY,OAAO,KACxB,MAAMqS,EAAM,CACR,CAAEj5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAKq7B,EAAI94C,EAAG2d,EAAKo7B,GACtB,CAAEh5C,EAAG0d,EAAIzd,EAAG2d,IAEhB,IAAK,MAAMqrB,KAAMgQ,EAAK,CAClB,MAAMr0B,EAAK7iB,KAAK2W,MAAMuwB,EAAGjpC,EAAIJ,GACvB8kB,EAAK3iB,KAAK2W,MAAMuwB,EAAGhpC,EAAIL,GAC7B,GAAIglB,EAAK,GAAKF,EAAK,GAAKE,GAAMrnB,GAAYmnB,GAAMlnB,EAAW,SAC3D,MAAMiB,EAAQimB,EAAKnnB,EAAWqnB,EACxBupB,EAAQvH,EAAWnoC,GACzB,GAAI0vC,EAAO,CACP,MAAM9pB,EAAMpP,EAAak5B,GACzB,GAAI9pB,GAAOA,EAAIub,eAAgB,CAE3B,MAAMyY,EAAcj7C,IAAiBqB,IAAU,CAAC,EAEhD,SADsCG,IAAvBy5C,EAAY53C,OAAuB43C,EAAY53C,OAAS4jB,EAAI3jB,YAC7D2jB,EAAIkqB,yBAA2B,GACzC,OAAO9vC,CAEf,CACJ,CACJ,CACA,OAAO,MAGH06C,EAAiBA,CAACz7B,EAAIE,EAAIm7B,EAAIC,EAAIn2C,KACtC,IAAKskC,GAAat2B,QAAS,OAAO,KAClC,IAAK,MAAM4rB,KAAO0K,EAAYt2B,QAAS,CACnC,GAAI4rB,EAAIh8B,QAAU,GAAKg8B,EAAIuM,YAAa,SACxC,GAAIvM,EAAItgC,KAAO0G,EAAEyzC,QAAS,SAE1B,MAAM8C,EAAK3c,EAAIz8B,EACTq5C,EAAK5c,EAAIx8B,EACTq5C,EAAK7c,EAAIv8B,MACTq5C,EAAK9c,EAAIt8B,OACf,GAAIud,EAAKq7B,EAAKK,GAAM17B,EAAKq7B,EAAKK,EAAKE,GAC/B17B,EAAKo7B,EAAKK,GAAMz7B,EAAKo7B,EAAKK,EAAKE,EAC/B,OAAO9c,CAEf,CACA,OAAO,MAGH+c,EAAiBA,CAAC97B,EAAIE,EAAIm7B,EAAIC,EAAIn2C,KACtC,IAAKujB,GAA6B,WAAdvjB,EAAEyzC,QAAsB,OAAO,EAEnD,MAAM8C,EAAKhzB,EAAYpmB,EACjBq5C,EAAKjzB,EAAYnmB,EACjBq5C,EAAKlzB,EAAYlmB,OAASN,EAC1B25C,EAAKnzB,EAAYjmB,QAAUP,EACjC,OAAI8d,EAAKq7B,EAAKK,GAAM17B,EAAKq7B,EAAKK,EAAKE,GAC/B17B,EAAKo7B,EAAKK,GAAMz7B,EAAKo7B,EAAKK,EAAKE,GAMrC,GAAKrS,EAAer2B,QAAQ0D,OAE5B,IAAK,IAAI6F,EAAI8sB,EAAer2B,QAAQ0D,OAAS,EAAG6F,GAAK,EAAGA,IAAK,CAC3D,MAAMvX,EAAIqkC,EAAer2B,QAAQuJ,GAEhB,MAAbvX,EAAE2W,UAAiB3W,EAAE2W,QAAU,GACnC,MAAMigC,EAAa5gC,OAAOoC,SAASpY,EAAE42C,YACjC52C,EAAE42C,WACDxkC,EAAapS,EAAEw5B,QAAQod,YAAc,EACpCC,EAAa7gC,OAAOoC,SAASpY,EAAE82C,eACjC92C,EAAE82C,cACD1kC,EAAapS,EAAEw5B,QAAQsd,eAAiB,GACvCC,EAAU/gC,OAAOoC,SAASpY,EAAEg3C,gBAC9Bh3C,EAAEg3C,eACD5kC,EAAapS,EAAEw5B,QAAQwd,gBAAkB,IAExCC,EAAW/3C,KAAKC,IAAID,KAAKwZ,IAAI1Y,EAAEzC,GAAKy4C,GAAS92C,KAAKwZ,IAAI1Y,EAAExC,GAAKw4C,IACnE,IAAIkB,EAAQh4C,KAAKmY,KAAK4/B,EAAW,KAC5BjhC,OAAOoC,SAAS8+B,IAAUA,EAAQ,KAAGA,EAAQ,GAClDA,EAAQh4C,KAAKE,IAAI83C,EAAO,IACxB,MAAMC,EAAWnB,EAASkB,EAE1B,IAAIr8B,EAAK7a,EAAE7C,EACP4d,EAAK/a,EAAE5C,EACX,MAAM84C,EAAMl2C,EAAEoa,GAAKpa,EAAEk0C,KAAO,GAAM,GAC5BiC,EAAMn2C,EAAEqa,GAAKra,EAAEk0C,KAAO,GAAM,GAElC,IAAIkD,GAAU,EAEd,IAAK,IAAI12B,EAAI,EAAGA,EAAIw2B,EAAOx2B,IAAK,CAE9B,IAAI8gB,EAAQ3mB,EAAK7a,EAAEzC,GAAK45C,EAGxB,GADmBR,EAAenV,EAAOzmB,EAAIm7B,EAAIC,EAAIn2C,GACrC,CACVujB,IACFA,EAAY3lB,OAASsB,KAAKC,IAAI,GAAI6W,OAAOuN,EAAY3lB,SAAW,IAAMoC,EAAEq0C,KAAO,MAE7EtJ,GAAeA,EAAc,eAAgB,CAAEC,OAAQhrC,EAAEq0C,KAAO,KACpE+C,GAAU,EACV,KACF,CAEA,MAAMC,EAAUf,EAAe9U,EAAOzmB,EAAIm7B,EAAIC,EAAIn2C,GAClD,GAAIq3C,EAAS,CACXA,EAAQz5C,QAAUoC,EAAEq0C,KAAO,GAC3B+C,GAAU,EACV,KACF,CAEA,MAAME,EAAUjB,EAAe7U,EAAOzmB,EAAIm7B,EAAIC,GAC9C,GAAgB,OAAZmB,EAAkB,CAChBvM,GAAeA,EAAc,eAAgB,CAAEnvC,MAAO07C,EAAStM,OAAQhrC,EAAEq0C,KAAO,KACpF+C,GAAU,EACV,KACF,CAEA,GAAIp3C,EAAEg0C,KAAOiC,EAAYzU,EAAOzmB,EAAIm7B,EAAIC,GAAK,CAC3C,IAAIn2C,EAAEo0C,IAOC,CACLgD,GAAU,EACV,KACF,CAVW,CACTp3C,EAAEzC,IAAMyC,EAAEzC,GAAKs5C,EACf,MAAMU,EAAKr4C,KAAKC,IAAI,GAAID,KAAKs4C,MAAMx3C,EAAEzC,GAAIyC,EAAExC,KACrCi6C,GAA0B,EAAhBv4C,KAAKqX,SAAe,GAAKghC,EAAKR,EAC9C/2C,EAAExC,IAAe,IAATi6C,EACRz3C,EAAE2W,SAAW,EACb3W,EAAEmZ,KAAOja,KAAKC,IAAI,EAAGa,EAAEmZ,KAAO,GAChC,CAIF,MACE0B,EAAK2mB,EAIP,IAAI6H,EAAQtuB,EAAK/a,EAAExC,GAAK25C,EAGxB,GADmBR,EAAe97B,EAAIwuB,EAAO6M,EAAIC,EAAIn2C,GACrC,CACVujB,IACFA,EAAY3lB,OAASsB,KAAKC,IAAI,GAAI6W,OAAOuN,EAAY3lB,SAAW,IAAMoC,EAAEq0C,KAAO,MAE7EtJ,GAAeA,EAAc,eAAgB,CAAEC,OAAQhrC,EAAEq0C,KAAO,KACpE+C,GAAU,EACV,KACF,CAEA,MAAMM,EAAUpB,EAAez7B,EAAIwuB,EAAO6M,EAAIC,EAAIn2C,GAClD,GAAI03C,EAAS,CACXA,EAAQ95C,QAAUoC,EAAEq0C,KAAO,GAC3B+C,GAAU,EACV,KACF,CAEA,MAAMO,EAAUtB,EAAex7B,EAAIwuB,EAAO6M,EAAIC,GAC9C,GAAgB,OAAZwB,EAAkB,CAChB5M,GAAeA,EAAc,eAAgB,CAAEnvC,MAAO+7C,EAAS3M,OAAQhrC,EAAEq0C,KAAO,KACpF+C,GAAU,EACV,KACF,CAEA,GAAIp3C,EAAEg0C,KAAOiC,EAAYp7B,EAAIwuB,EAAO6M,EAAIC,GAAK,CAC3C,IAAIn2C,EAAEo0C,IAOC,CACLgD,GAAU,EACV,KACF,CAVW,CACTp3C,EAAExC,IAAMwC,EAAExC,GAAKq5C,EACf,MAAMU,EAAKr4C,KAAKC,IAAI,GAAID,KAAKs4C,MAAMx3C,EAAEzC,GAAIyC,EAAExC,KACrCi6C,GAA0B,EAAhBv4C,KAAKqX,SAAe,GAAKghC,EAAKR,EAC9C/2C,EAAEzC,IAAe,IAATk6C,EACRz3C,EAAE2W,SAAW,EACb3W,EAAEmZ,KAAOja,KAAKC,IAAI,EAAGa,EAAEmZ,KAAO,GAChC,CAIF,MACE4B,EAAKsuB,EAIP,GAAIrpC,EAAEg0C,KAAOiC,EAAYp7B,EAAIE,EAAIm7B,EAAIC,GAAK,CACxC,IAAIn2C,EAAEo0C,IAMC,CACLgD,GAAU,EACV,KACF,CAREp3C,EAAEzC,IAAMyC,EAAEzC,GAAKs5C,EACf72C,EAAExC,IAAMwC,EAAExC,GAAKq5C,EACf72C,EAAE2W,SAAW,EACbkE,GAA6B,GAAvB3b,KAAKkiC,KAAKphC,EAAEzC,IAAM,GACxBwd,GAA6B,GAAvB7b,KAAKkiC,KAAKphC,EAAExC,IAAM,EAK5B,CACF,CAEAwC,EAAE7C,EAAI0d,EACN7a,EAAE5C,EAAI2d,EAEN/a,EAAEmZ,MAAQuqB,GAER1jC,EAAEmZ,MAAQ,GACVnZ,EAAE7C,GAAK,IACP6C,EAAE5C,GAAK,IACP4C,EAAE7C,EAAIopB,EAAS,IACfvmB,EAAE5C,EAAIopB,EAAS,IACf4wB,IACCp3C,EAAE2W,SAAW,IAAMigC,GAAc,KAElCvS,EAAer2B,QAAQ4K,OAAOrB,EAAG,EAGrC,CACF,CNgPoB2tB,CAAkB,CACdb,iBACAC,cACA/gB,YAAaqgB,EAAU51B,QACvBjR,UAAS,EACTquC,iBACAh5B,aAAY,GACZ2xB,aACAxpC,eAAgB+0C,EAAkBthC,SAAWzS,GAASE,MAAMlB,eAC5DwwC,cAAeoE,EAAiBnhC,SACjC01B,EAAShpC,EAAUC,GAC1BwqC,UAAY12B,GAAS02B,EAAU12B,GAC/B22B,WAAYiK,EAAcrhC,UAG5B4pC,EAAM9T,GAAYjnB,EAAKpY,IACP,IAAlBmzC,GAAKvS,WACLuJ,EAAW5gC,QAAU6pC,sBAAsBhhC,KAanD,OARAhJ,EAAAA,EAAAA,WAAU,KACN,GAAKtS,EAEL,OADAqzC,EAAW5gC,QAAU6pC,sBAAsBhhC,GACpC,KACC+3B,EAAW5gC,SAAS8pC,qBAAqBlJ,EAAW5gC,WAE7D,CAACzS,EAASwoC,IAEN1+B,GOrfL0yC,GAAkBntC,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,kOAgB5BotC,GAAcptC,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,oJASxBqtC,GAAertC,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,sEAOzBstC,GAAgBttC,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,6DAO1ButC,GAAavtC,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,iKASvBwtC,GAAUxtC,EAAAA,GAAO4B,IAAI6rC,MAAMzrC,IAAS,CACtCnB,MAAO,CACHpO,MAAO,GAAGuP,EAAM0rC,YAChB1pC,gBAAiBhC,EAAM2rC,WAE5BztC,WAAA,CAAAC,YAAA,gBALaH,CAKb,6CAKG4tC,GAAW5tC,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,kLAarB6tC,GAAaA,EACf76C,SACAC,YAAY,IACZG,OAAO,EACPC,SAAS,IACTC,YAAY,IACZC,aAAa,IACbC,gBAAgB,IAChBknC,YAAY,IACZC,eAAe,IACfznC,WAAW,GACXC,cAAc,IACdO,WAAU,EACVG,aAAa,KACb0sC,SAAQ,MAER,MAAMuN,EAAYx5C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAMxB,EAASC,EAAa,MAC7D86C,EAAaz5C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAMnB,EAASC,EAAa,MAC9D06C,EAAc15C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAMjB,EAAaC,EAAiB,MACvEy6C,EAAa35C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAMkmC,EAAYC,EAAgB,MACpEuT,EAAkB55C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAMtB,EAAWC,EAAe,MAS7E,OACIyN,EAAAA,GAAAA,MAACusC,GAAe,CAAAnsC,SAAA,EACZJ,EAAAA,GAAAA,MAACwsC,GAAW,CAAApsC,SAAA,CAAC,gBACL5N,GAAQ,MAGhB6N,EAAAA,GAAAA,KAACosC,GAAY,CAAArsC,UACTJ,EAAAA,GAAAA,MAAC0sC,GAAa,CAACzsC,MAAO,CAAEE,IAAK,QAASC,SAAA,EAElCJ,EAAAA,GAAAA,MAAC2sC,GAAU,CAAAvsC,SAAA,EACPJ,EAAAA,GAAAA,MAACgtC,GAAQ,CAAA5sC,SAAA,CAAC,OAAK1M,KAAK2I,MAAM6wC,GAAW,QACrC7sC,EAAAA,GAAAA,KAACusC,GAAO,CAACE,SAAUI,EAAWH,OAAO,gBAIzC/sC,EAAAA,GAAAA,MAAC2sC,GAAU,CAAAvsC,SAAA,EACPJ,EAAAA,GAAAA,MAACgtC,GAAQ,CAAA5sC,SAAA,CAAC,OAAK1M,KAAK2I,MAAM8wC,GAAY,QACtC9sC,EAAAA,GAAAA,KAACusC,GAAO,CAACE,SAAUK,EAAYJ,OAAO,gBAI1C/sC,EAAAA,GAAAA,MAAC2sC,GAAU,CAAAvsC,SAAA,EACPJ,EAAAA,GAAAA,MAACgtC,GAAQ,CAAA5sC,SAAA,CAAC,SAAO1M,KAAK2I,MAAM+wC,GAAa,QACzC/sC,EAAAA,GAAAA,KAACusC,GAAO,CAACE,SAAUM,EAAaL,OAAO,gBAI3C/sC,EAAAA,GAAAA,MAAC2sC,GAAU,CAAAvsC,SAAA,EACPJ,EAAAA,GAAAA,MAACgtC,GAAQ,CAAA5sC,SAAA,CAAC,QAAM1M,KAAK2I,MAAMgxC,GAAY,QACvChtC,EAAAA,GAAAA,KAACusC,GAAO,CAACE,SAAUO,EAAYN,OAAO,gBAI1C/sC,EAAAA,GAAAA,MAAC2sC,GAAU,CAAAvsC,SAAA,EACPJ,EAAAA,GAAAA,MAACgtC,GAAQ,CAAA5sC,SAAA,CAAC,aAAW1M,KAAK2I,MAAMixC,GAAiB,QACjDjtC,EAAAA,GAAAA,KAACusC,GAAO,CAACE,SAAUQ,EAAiBP,OAAO,wBAQnEE,GAAW1a,UAAY,CACnBngC,OAAQogC,KAAAA,OAAiBC,WACzBpgC,UAAWmgC,KAAAA,OACXhgC,KAAMggC,KAAAA,OACN//B,OAAQ+/B,KAAAA,OACR9/B,UAAW8/B,KAAAA,OACX7/B,WAAY6/B,KAAAA,OACZ5/B,cAAe4/B,KAAAA,OACfsH,UAAWtH,KAAAA,OACXuH,aAAcvH,KAAAA,OACdlgC,SAAUkgC,KAAAA,OACVjgC,YAAaigC,KAAAA,OACb1/B,QAAS0/B,KAAAA,KACTv/B,WAAYu/B,KAAAA,OACZmN,MAAOnN,KAAAA,MAGX,YCjKM+a,GAAW,GAEXC,GAAYC,IACXA,GAAQA,EAAI/9C,MACjB69C,GAASv8C,KAAKy8C,IAGHC,GAAeA,IAAMH,GAAS5/C,IAAImwB,IAAK,CAAGpuB,KAAMouB,EAAEpuB,KAAMi+C,YAAa7vB,EAAE6vB,eAEvEC,GAAiBA,CAACpV,EAAO0I,EAAU,CAAC,KAC/C,MAAM2M,EAAMxM,OAAO7I,GAAS,IAAI4J,OAChC,IAAKyL,EAAK,MAAO,GACjB,MAAOn+C,KAASuyC,GAAQ4L,EAAIzmB,MAAM,OAC5BqmB,EAAMF,GAASvnC,KAAK8X,GAAKA,EAAEpuB,KAAKuwC,gBAAkBvwC,EAAKuwC,eAC7D,IAAKwN,EACH,MAAO,oBAAoB/9C,mCAE7B,IACE,MAAM08C,EAAMqB,EAAIK,QAAQ,CAAE7L,OAAM4L,MAAK3M,YACrC,MAAsB,kBAARkL,EAAmBA,EAAM,EACzC,CAAE,MAAOl+C,GACP,MAAO,oBAAoBwB,OAAUxB,GAAGqzC,SAAWrzC,GACrD,GAIFs/C,GAAS,CACP99C,KAAM,OACNi+C,YAAa,0BACbG,QAAOA,IACQJ,KACV//C,IAAImwB,GAAK,KAAKA,EAAEpuB,OAAOouB,EAAE6vB,YAAc,KAAK7vB,EAAE6vB,cAAgB,MAC9D35B,KAAK,OACO,2BAKnBw5B,GAAS,CACP99C,KAAM,QACNi+C,YAAa,wBACbG,OAAAA,GAEE,IAAMn1C,OAAOgI,cAAc,IAAIuC,YAAY,uBAAyB,CAAE,MAAO,CAC7E,MAAO,EACT,IAIFsqC,GAAS,CACP99C,KAAM,WACNi+C,YAAa,0CACbG,OAAAA,GACE,IACEn1C,OAAOgI,cAAc,IAAIuC,YAAY,uBAErCvK,OAAOgI,cAAc,IAAIuC,YAAY,uBACvC,CAAE,MAAO,CACT,MAAO,qBACT,IAGF,MC9DM6qC,GAAiB,CACrBjiB,SAAU,QACVnE,KAAM,EACNC,MAAO,EACPF,OAAQ,EACR51B,OAAQ,QACRsR,gBAAiB,yBACjBG,MAAO,UACPyqC,WAAY,qGACZzxC,SAAU,OACV0xC,UAAW,iBACXC,UAAW,8BACXhuC,QAAS,OACT4G,cAAe,SACf5J,OAAQ,IACRixC,WAAY,wBAGC,SAASC,KACtB,MAAOC,EAAMC,IAAWzsC,EAAAA,EAAAA,WAAS,IAC1B0sC,EAAOC,IAAY3sC,EAAAA,EAAAA,UAAS,CAAC,uDAC7B22B,EAAOiW,IAAY5sC,EAAAA,EAAAA,UAAS,IAC7B6sC,GAAYhtC,EAAAA,EAAAA,QAAO,MACnBitC,GAAWjtC,EAAAA,EAAAA,QAAO,MAClBktC,GAAmBltC,EAAAA,EAAAA,QAAO,IACNA,EAAAA,EAAAA,SAAO,IAGjCW,EAAAA,EAAAA,WAAU,KACR,MAAM2hC,EAAWA,IAAMsK,EAAQjyB,IAASA,GAClCwyB,EAAUA,IAAML,EAAS,IACzBM,EAAUA,IAAMR,GAAQ,GAI9B,OAHA31C,OAAOiK,iBAAiB,uBAAwBohC,GAChDrrC,OAAOiK,iBAAiB,sBAAuBisC,GAC/Cl2C,OAAOiK,iBAAiB,sBAAuBksC,GACxC,KACLn2C,OAAOkK,oBAAoB,uBAAwBmhC,GACnDrrC,OAAOkK,oBAAoB,sBAAuBgsC,GAClDl2C,OAAOkK,oBAAoB,sBAAuBisC,KAEnD,KAGHzsC,EAAAA,EAAAA,WAAU,KACR,IAAM1J,OAAOC,uBAAyBy1C,CAAM,CAAE,MAAO,CACrD,GAAIA,EAAM,CAERI,EAAS,IACT,IAAMG,EAAiBpsC,SAAkC,qBAAhBusC,YAA8BA,YAAY/1C,MAAQD,KAAKC,OAAS,GAAK,CAAE,MAAQ41C,EAAiBpsC,QAAUzJ,KAAKC,MAAQ,GAAK,CACrKg2C,WAAW,IAAML,EAASnsC,SAAWmsC,EAASnsC,QAAQysC,QAAS,EACjE,GACC,CAACZ,KAGJhsC,EAAAA,EAAAA,WAAU,KACR,MAAM6sC,EAAShhD,IACRmgD,GACS,WAAVngD,EAAEwJ,KACJ42C,GAAQ,IAIZ,OADA31C,OAAOiK,iBAAiB,UAAWssC,GAC5B,IAAMv2C,OAAOkK,oBAAoB,UAAWqsC,IAClD,CAACb,KAGJhsC,EAAAA,EAAAA,WAAU,KACHqsC,EAAUlsC,UACfksC,EAAUlsC,QAAQ2sC,UAAYT,EAAUlsC,QAAQ4sC,eAC/C,CAACb,EAAOF,IAEX,MAUMpuC,EAAQ,IACT8tC,GACHsB,UAAWhB,EAAO,gBAAkB,oBAGtC,OACEruC,EAAAA,GAAAA,MAAA,OAAKC,MAAOA,EAAO,eAAcouC,EAAKjuC,SAAA,EACpCC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEqD,QAAS,UAAWgsC,aAAc,iBAAkB/rC,MAAO,WAAYnD,SAAC,+CAGtFC,EAAAA,GAAAA,KAAA,OAAKyC,IAAK4rC,EAAWzuC,MAAO,CAAEsvC,KAAM,EAAGC,UAAW,OAAQlsC,QAAS,WAAYmsC,WAAY,WAAYC,WAAY,KAAMtvC,SACtHmuC,EAAM5gD,IAAI,CAACusC,EAAGnuB,KACb1L,EAAAA,GAAAA,KAAA,OAAaJ,MAAO,CAAEsD,MAAO22B,EAAEx1B,WAAW,KAAO,UAAY,WAAYtE,SAAE85B,GAAjEnuB,OAGd/L,EAAAA,GAAAA,MAAA,QAAM2vC,SAzBQzhD,IAChBA,EAAE68B,iBACF,MAAMpzB,EAAQ6gC,EAAM4J,OACpB,IAAKzqC,EAAO,OACZ62C,EAASnyB,GAAQ,IAAIA,EAAM,KAAK1kB,MAChC,MAAMy0C,EAAMwB,GAAej2C,EAAO,CAAC,GAC/By0C,GAAKoC,EAASnyB,GAAQ,IAAIA,EAAM+vB,IACpCqC,EAAS,KAkBmBxuC,MAAO,CAAEC,QAAS,OAAQC,IAAK,MAAOmD,QAAS,MAAO2qC,UAAW,kBAAmB7tC,SAAA,EAC5GC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAEsD,MAAO,WAAYnD,SAAC,OACnCC,EAAAA,GAAAA,KAAA,SACEyC,IAAK6rC,EACLh3C,MAAO6gC,EACPoX,UAAY1hD,IAEV,IADoC,qBAAhB6gD,YAA8BA,YAAY/1C,MAAQD,KAAKC,QAChE41C,EAAiBpsC,SAAW,IAAgB,WAAVtU,EAAEwJ,IAG7C,MAFgC,oBAArBxJ,EAAE68B,gBAA+B78B,EAAE68B,sBACb,oBAAtB78B,EAAE2hD,iBAAgC3hD,EAAE2hD,oBAInDC,SAAW5hD,GAAMugD,EAASvgD,EAAEwU,OAAO/K,OACnCo4C,YAAY,mBACZ9vC,MAAO,CAAEsvC,KAAM,EAAGl0C,WAAY,OAAQkI,MAAO,OAAQ5H,OAAQ,iBAAkB2H,QAAS,UAAWlH,aAAc,MAAO4zC,QAAS,WAEnI3vC,EAAAA,GAAAA,KAAA,UAAQ9I,KAAK,SAAS0I,MAAO,CAAE5E,WAAY,UAAWkI,MAAO,OAAQ5H,OAAQ,oBAAqB2H,QAAS,WAAYlH,aAAc,MAAO6zC,OAAQ,WAAY7vC,SAAC,aAMzK,CCrHe,SAAS8vC,KAEtB,MAAOC,EAAWC,IAAgBvuC,EAAAA,EAAAA,UAAS,KACzC,IACE,OAAOlL,aAAaC,QAAQ,sBAAwB,OACtD,CAAE,MAAO,CACT,MAAO,WAEFwnB,EAAUiyB,IAAexuC,EAAAA,EAAAA,UAAS,KACvC,IACE,MAAM6I,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAA2C,kBAA/BA,EAAErV,yBAAuC,OAAOqV,EAAErV,wBACpE,CAAE,MAAO,CACT,MAAO,MAEF+vB,EAAMmrB,IAAW1uC,EAAAA,EAAAA,UAAS,KAC/B,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,qBAChC,GAAW,OAAP45C,EAAa,OAAO98C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASmwB,EAAI,KAAO,IACtE,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAA8B,kBAAlBA,EAAEpV,YAA0B,OAAO5B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEpV,aACjF,CAAE,MAAO,CACT,OAAO,KAEF+vB,EAAMorB,IAAW5uC,EAAAA,EAAAA,UAAS,KAC/B,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,qBAChC,GAAW,OAAP45C,EAAa,OAAO98C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASmwB,EAAI,KAAO,IACtE,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAA8B,kBAAlBA,EAAEnV,YAA0B,OAAO7B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEnV,aACjF,CAAE,MAAO,CACT,OAAO,KAEF+vB,EAAQorB,IAAa7uC,EAAAA,EAAAA,UAAS,KACnC,IAEE,MAAM8uC,EAAQh6C,aAAaC,QAAQ,uBACnC,GAAc,OAAV+5C,EAAgB,OAAOj9C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASswB,EAAO,KAAO,IAE5E,MAAMC,EAAQj6C,aAAaC,QAAQ,oBACnC,GAAc,OAAVg6C,EAAgB,OAAOl9C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASuwB,EAAO,KAAO,IAC5E,MAAMlmC,EAAI/R,OAAO23C,0BAEjB,GAAI5lC,GAAgC,kBAApBA,EAAElV,cAA4B,OAAO9B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAElV,gBACjF,GAAIkV,GAA6B,kBAAjBA,EAAEjV,WAAyB,OAAO/B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEjV,YAChF,CAAE,MAAO,CACT,OAAO,KAGF8vB,EAASsrB,IAAchvC,EAAAA,EAAAA,UAAS,KACrC,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,wBAChC,GAAW,OAAP45C,EAAa,OAAO98C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASmwB,EAAI,KAAO,IACtE,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAAiC,kBAArBA,EAAEhV,eAA6B,OAAOhC,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEhV,gBACpF,CAAE,MAAO,CACT,OAAO,KAGFkpB,EAAKkyB,IAAUjvC,EAAAA,EAAAA,UAAS,KAC7B,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,oBAChC,GAAW,OAAP45C,EAAa,OAAO98C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASmwB,EAAI,KAAO,IACtE,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAA6B,kBAAjBA,EAAEjV,WAAyB,OAAO/B,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEjV,YAChF,CAAE,MAAO,CACT,OAAO,KAGFG,EAAkBm7C,IAAuBlvC,EAAAA,EAAAA,UAAS,KACvD,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,qBAChC,GAAW,OAAP45C,EAAa,MAAc,MAAPA,EACxB,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAAmC,mBAAvBA,EAAE9U,iBAAgC,OAAO8U,EAAE9U,gBAC7D,CAAE,MAAO,CACT,OAAO,KAGFC,EAAkBm7C,IAAuBnvC,EAAAA,EAAAA,UAAS,KACvD,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,qBAChC,GAAW,OAAP45C,EAAa,MAAc,MAAPA,EACxB,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAAmC,mBAAvBA,EAAE7U,iBAAgC,OAAO6U,EAAE7U,gBAC7D,CAAE,MAAO,CACT,OAAO,KAEFC,EAAgBm7C,IAAqBpvC,EAAAA,EAAAA,UAAS,KACnD,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,mBAChC,GAAW,OAAP45C,EAAa,MAAc,MAAPA,EACxB,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAAiC,mBAArBA,EAAE5U,eAA8B,OAAO4U,EAAE5U,cAC3D,CAAE,MAAO,CACT,OAAO,KAGFC,EAAsBm7C,IAA2BrvC,EAAAA,EAAAA,UAAS,KAC/D,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,0BAChC,GAAW,OAAP45C,EAAa,MAAc,MAAPA,EACxB,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAAuC,mBAA3BA,EAAE3U,qBAAoC,OAAO2U,EAAE3U,oBACjE,CAAE,MAAO,CACT,OAAO,KAEFC,EAAmBm7C,IAAwBtvC,EAAAA,EAAAA,UAAS,KACzD,IACE,MAAM2uC,EAAK75C,aAAaC,QAAQ,uBAChC,GAAW,OAAP45C,EAAa,MAAc,MAAPA,EACxB,MAAM9lC,EAAI/R,OAAO23C,0BACjB,GAAI5lC,GAAoC,mBAAxBA,EAAE1U,kBAAiC,OAAO0U,EAAE1U,iBAC9D,CAAE,MAAO,CACT,OAAO,KAEFq4C,EAAMC,IAAWzsC,EAAAA,EAAAA,WAAS,IAC1BuvC,EAAWC,IAAgBxvC,EAAAA,EAAAA,WAAS,IACpCyvC,EAAKC,IAAU1vC,EAAAA,EAAAA,UAAS,KAE7B,IACE,MAAMgsC,EAAMl3C,aAAaC,QAAQ,qBACjC,GAAIi3C,EAAK,OAAO/2C,KAAKC,MAAM82C,EAC7B,CAAE,MAAO,CACT,MAAO,CAAElmB,KAAM,GAAIF,IAAK,OAGnBnS,EAAMk8B,IAAW3vC,EAAAA,EAAAA,UAAS,KAC/B,IACE,MAAMgsC,EAAMl3C,aAAaC,QAAQ,sBACjC,GAAIi3C,EAAK,OAAO/2C,KAAKC,MAAM82C,EAC7B,CAAE,MAAO,CACT,MAAO,CAAEh8C,MAAO,IAAKC,OAAQ,OAGzB2/C,GAAc/vC,EAAAA,EAAAA,QAAO,CAAEouB,QAAQ,EAAOpT,QAAS,EAAGC,QAAS,IAG3D+0B,EAAWA,CAACl9C,EAAGm9C,EAAIC,KACvB,MACMC,GAAwB,qBAAXl5C,OAAyBA,OAAOm5C,WAAa,IAAM,EAChEC,GAAwB,qBAAXp5C,OAAyBA,OAAOq5C,YAAc,IAAM,EACjEC,EAAOv+C,KAAKC,IAAI,EAAGk+C,GAAMF,GAAI9/C,OAAS,KAH7B,IAITqgD,EAAOx+C,KAAKC,IAAI,EAAGo+C,GAAMH,EAAQ,GAAMD,GAAI7/C,QAAU,KAJ5C,IAKf,IAAI61B,EAAOnd,OAAOhW,GAAGmzB,MACjBF,EAAMjd,OAAOhW,GAAGizB,KAKpB,OAJKjd,OAAOoC,SAAS+a,KAAOA,EAPb,IAQVnd,OAAOoC,SAAS6a,KAAMA,EARZ,IASfE,EAAOj0B,KAAKC,IAAI,EAAGD,KAAKE,IAAIq+C,EAAMtqB,IAClCF,EAAM/zB,KAAKC,IAAI,EAAGD,KAAKE,IAAIs+C,EAAMzqB,IAC1B,CAAEE,OAAMF,SAIjBplB,EAAAA,EAAAA,WAAU,KACR,IACE,MAAMwrC,EAAMl3C,aAAaC,QAAQ,qBAC7Bi3C,GAAKwD,EAAqB,MAARxD,EACxB,CAAE,MAAO,GACR,KAGHxrC,EAAAA,EAAAA,WAAU,KACR,MAAM8vC,EAASA,KAEbZ,EAAQ/8C,GAAMk9C,EAASl9C,EAAG8gB,GAAM,IAChCg5B,GAAQ,GACR+C,GAAa,GAEb,IACE,MAAM3mC,EAAI/R,OAAO23C,2BAA6B,CAAC,EACL,kBAA/B5lC,EAAErV,0BACXg7C,EAAY3lC,EAAErV,0BAEa,kBAAlBqV,EAAEpV,aAA0Bi7C,EAAQ78C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEpV,eAC9C,kBAAlBoV,EAAEnV,aAA0Bk7C,EAAQ/8C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEnV,eAC5C,kBAApBmV,EAAElV,eAA4Bk7C,EAAUh9C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAElV,iBACnD,kBAAjBkV,EAAEjV,YAAyBq7C,EAAOp9C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEjV,cACzC,kBAArBiV,EAAEhV,gBAA6Bm7C,EAAWn9C,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK8W,EAAEhV,kBAC/C,mBAAvBgV,EAAE9U,kBAAgCm7C,IAAsBrmC,EAAE9U,kBACnC,mBAAvB8U,EAAE7U,kBAAgCm7C,IAAsBtmC,EAAE7U,kBACrC,mBAArB6U,EAAE5U,gBAA8Bm7C,IAAoBvmC,EAAE5U,gBAC3B,mBAA3B4U,EAAE3U,sBAAoCm7C,IAA0BxmC,EAAE3U,sBAC1C,mBAAxB2U,EAAE1U,mBAAiCm7C,IAAuBzmC,EAAE1U,kBACzE,CAAE,MAAO,CAET,IAAM2C,OAAOgI,cAAc,IAAIuC,YAAY,uBAAyB,CAAE,MAAO,GAG/E,OADAvK,OAAOiK,iBAAiB,qBAAsBuvC,GACvC,IAAMx5C,OAAOkK,oBAAoB,qBAAsBsvC,IAC7D,KAGH9vC,EAAAA,EAAAA,WAAU,KACR,IAAM1L,aAAaQ,QAAQ,oBAAqBL,KAAKM,UAAUk6C,GAAO,CAAE,MAAO,GAC9E,CAACA,KACJjvC,EAAAA,EAAAA,WAAU,KACR,IAAM1L,aAAaQ,QAAQ,qBAAsBL,KAAKM,UAAUke,GAAQ,CAAE,MAAO,GAChF,CAACA,KACJjT,EAAAA,EAAAA,WAAU,KACR,IAAM1L,aAAaQ,QAAQ,oBAAqBi6C,EAAY,IAAM,IAAM,CAAE,MAAO,GAChF,CAACA,KACJ/uC,EAAAA,EAAAA,WAAU,KACR,IAAM1L,aAAaQ,QAAQ,oBAAqBkqC,OAAO8O,GAAa,CAAE,MAAO,GAC5E,CAACA,KAGJ9tC,EAAAA,EAAAA,WAAU,KACR,MAAM+vC,EAAUlkD,IACd,IAAKujD,EAAYjvC,QAAQstB,OAAQ,OACjC5hC,EAAE68B,iBACF,MAAMve,EAAKte,EAAEmkD,QAAUZ,EAAYjvC,QAAQka,QACrCjQ,EAAKve,EAAEokD,QAAUb,EAAYjvC,QAAQma,QACrCs1B,EAAOv+C,KAAKC,IAAI,GAAIgF,OAAOm5C,YAAc,GAAKx8B,EAAKzjB,MAAQ,GAC3DqgD,EAAOx+C,KAAKC,IAAI,GAAIgF,OAAOq5C,aAAe,IAAMZ,EAAY,GAAK97B,EAAKxjB,QAAU,GACtFy/C,EAAO,CACL5pB,KAAMj0B,KAAKC,IAAI,EAAGD,KAAKE,IAAIq+C,EAAMzlC,IACjCib,IAAK/zB,KAAKC,IAAI,EAAGD,KAAKE,IAAIs+C,EAAMzlC,OAG9B8lC,EAAOA,KAAQd,EAAYjvC,QAAQstB,QAAS,GAGlD,OAFAn3B,OAAOiK,iBAAiB,YAAawvC,GACrCz5C,OAAOiK,iBAAiB,UAAW2vC,GAC5B,KACL55C,OAAOkK,oBAAoB,YAAauvC,GACxCz5C,OAAOkK,oBAAoB,UAAW0vC,KAEvC,CAACj9B,EAAKzjB,MAAOyjB,EAAKxjB,OAAQs/C,KAG7B/uC,EAAAA,EAAAA,WAAU,KACR,IAAKgsC,EAAM,OACX,MAAMmE,EAAWA,IAAMjB,EAAQ/8C,GAAMk9C,EAASl9C,EAAG8gB,EAAM87B,IAIvD,OAHAz4C,OAAOiK,iBAAiB,SAAU4vC,GAElCA,IACO,IAAM75C,OAAOkK,oBAAoB,SAAU2vC,IACjD,CAACnE,EAAM/4B,EAAKzjB,MAAOyjB,EAAKxjB,OAAQs/C,IAEnC,MASMqB,EAAcC,IAClB,IACE/5C,OAAOgI,cAAc,IAAIuC,YAAY,uBAAwB,CAAEC,OAAQuvC,KAEvE/5C,OAAO23C,0BAA4B,IAC7B33C,OAAO23C,2BAA6B,CAAC,KACtCoC,EAEP,CAAE,MAAO,GA0BX,IAAKrE,EAAM,OAAO,KAElB,MAAMsE,EAAa,CACjB7mB,SAAU,QACVnE,KAAM2pB,EAAI3pB,KACVF,IAAK6pB,EAAI7pB,IACT51B,MAAOyjB,EAAKzjB,MACZC,OAAQs/C,EAAY,GAAK97B,EAAKxjB,OAC9BuJ,WAAY,sBACZkI,MAAO,UACP5H,OAAQ,oBACRS,aAAc,EACd8xC,UAAW,6BACXhxC,OAAQ,KACRgD,QAAS,OACT4G,cAAe,SACf8rC,WAAYnB,EAAYjvC,QAAQstB,OAAS,OAAS,OAClD7oB,SAAU,UAcN4rC,EAAe,CACnBtD,KAAM,EACNrvC,QAASkxC,EAAY,OAAS,QAC9B9tC,QAAS,GACT2D,SAAU,OACV5L,WAAY,sBAGRy3C,EAAc,CAClBz3C,WAAY,UACZkI,MAAO,OACP5H,OAAQ,oBACR2H,QAAS,UACTlH,aAAc,EACdG,SAAU,GACV0zC,OAAQ,UACR8C,WAAY,GAGRC,EAAe,CACnB9yC,QAASkxC,EAAY,OAAS,OAC9BpqC,WAAY,SACZ7G,IAAK,EACLmD,QAAS,UACTgsC,aAAc,oBACdj0C,WAAY,mBACZo0C,WAAY,SACZwD,UAAW,QAsNb,OACEjzC,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,EAAWvyC,SAAA,EACrBJ,EAAAA,GAAAA,MAAA,OAAKC,MA9PW,CAClBgwC,OAAQ,OACR50C,WAAY,4CACZiI,QAAS,UACTpD,QAAS,OACT8G,WAAY,SACZD,eAAgB,gBAChBuoC,aAAc,iBACd/yC,SAAU,IAsPiB22C,YA7TFhlD,IACzBujD,EAAYjvC,QAAQstB,QAAS,EAC7B2hB,EAAYjvC,QAAQka,QAAUxuB,EAAEmkD,QAAUf,EAAI3pB,KAC9C8pB,EAAYjvC,QAAQma,QAAUzuB,EAAEokD,QAAUhB,EAAI7pB,KA0TYrnB,SAAA,EACtDC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAExD,WAAY,IAAK8G,MAAO,WAAYnD,SAAC,mBACnDJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,UAAW5G,SAAA,EACpDC,EAAAA,GAAAA,KAAA,UAAQI,QAzTI0yC,IAAM9B,EAAcloC,IAAOA,GAyTTpG,MAAOquC,EAAY,SAAW,WAAYnxC,MAAO6yC,EAAY1yC,SACxFgxC,EAAY,SAAM,YAErB/wC,EAAAA,GAAAA,KAAA,UAAQI,QA7TAquC,IAAMR,GAAQ,GA6TIvrC,MAAM,QAAQ9C,MAAO,IAAK6yC,EAAaz3C,WAAY,OAAQ0hB,YAAa,QAAS3c,SAAC,kBAKhHC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO+yC,EAAa5yC,SACtB,CAAC,QAAQ,WAAW,WAAWzS,IAAK8R,IACnCY,SAAAA,GAAAA,KAAA,UAAgBJ,OAnOHmzC,EAmOsB3zC,EAnOnB,CACtBpE,WAAY80C,IAAciD,EAAM,UAAY,cAC5C7vC,MAAO4sC,IAAciD,EAAM,UAAY,OACvCz3C,OAAQw0C,IAAciD,EAAM,oBAAsB,wBAClD9vC,QAAS,WACTlH,aAAc,EACdG,SAAU,GACV0zC,OAAQ,YA4NqCxvC,QAASA,IAAM2vC,EAAa3wC,GAAGW,SAAEX,GAA3DA,GAnOA2zC,WAuOjBpzC,EAAAA,GAAAA,MAAA,OAAKC,MAAO4yC,EAAazyC,SAAA,CACR,UAAd+vC,IA7NLnwC,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEozC,aAAc,IAAKjzC,SAAA,EACnCC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,GAAI82C,aAAc,EAAG9vC,MAAO,WAAYnD,SAAC,WACjEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,GAAIC,SAAA,EAC5DC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,mBAC5CC,EAAAA,GAAAA,KAAA,SAAO9I,KAAK,QAAQ3D,IAAI,IAAID,IAAI,IAAImiC,KAAK,OAAOwd,aAAc,WA0N/C,aAAdnD,IApNLnwC,EAAAA,GAAAA,MAAAuzC,GAAAA,SAAA,CAAAnzC,SAAA,EACEJ,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEozC,aAAc,IAAKjzC,SAAA,EACnCC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,GAAI82C,aAAc,EAAG9vC,MAAO,WAAYnD,SAAC,cACjEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGkzC,aAAc,GAAIjzC,SAAA,EAC7EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,qBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,QACL3D,IAAI,IACJD,IAAI,IACJmiC,KAAK,OACLn+B,MAAO6S,OAAOoC,SAASwR,GAAYA,EAAW,GAC9C0xB,SAAW5hD,IACT,MAAMqc,EAAImnB,WAAWxjC,EAAEwU,OAAO/K,OAC9B04C,EAAY9lC,GACZkoC,EAAW,CAAEp9C,yBAA0BkV,QAG3ClK,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,GAAI2hD,UAAW,SAAUpzC,UAAGoK,OAAOoC,SAASwR,GAAYA,EAAW,IAAKq1B,QAAQ,SAEtHzzC,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,GAAIC,SAAA,EAC5DC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,WAC5CC,EAAAA,GAAAA,KAAA,SAAO9I,KAAK,WAAWm8C,gBAAc,WAIzC1zC,EAAAA,GAAAA,MAAA,WAAAI,SAAA,EACEC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,GAAI82C,aAAc,EAAG9vC,MAAO,WAAYnD,SAAC,cACjEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,GAAIC,SAAA,EAC5DC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,qBAC5CC,EAAAA,GAAAA,KAAA,SAAO9I,KAAK,iBAEdyI,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGwzC,UAAW,GAAIvzC,SAAA,EAC1EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,qBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,WACLq8C,UAAWh+C,EACXk6C,SAAW5hD,IACT,MAAMqc,IAAMrc,EAAEwU,OAAOkxC,QACrB7C,EAAoBxmC,GACpB,IAAM5T,aAAaQ,QAAQ,oBAAqBoT,EAAI,IAAM,IAAM,CAAE,MAAO,CACzEkoC,EAAW,CAAE78C,iBAAkB2U,WAIrCvK,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGwzC,UAAW,GAAIvzC,SAAA,EAC1EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,qBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,WACLq8C,UAAW/9C,EACXi6C,SAAW5hD,IACT,MAAMqc,IAAMrc,EAAEwU,OAAOkxC,QACrB5C,EAAoBzmC,GACpB,IAAM5T,aAAaQ,QAAQ,oBAAqBoT,EAAI,IAAM,IAAM,CAAE,MAAO,CACzEkoC,EAAW,CAAE58C,iBAAkB0U,WAIrCvK,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGwzC,UAAW,GAAIvzC,SAAA,EAC1EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,mBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,WACLq8C,UAAW99C,EACXg6C,SAAW5hD,IACT,MAAMqc,IAAMrc,EAAEwU,OAAOkxC,QACrB3C,EAAkB1mC,GAClB,IAAM5T,aAAaQ,QAAQ,kBAAmBoT,EAAI,IAAM,IAAM,CAAE,MAAO,CACvEkoC,EAAW,CAAE38C,eAAgByU,WAInCvK,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGwzC,UAAW,GAAIvzC,SAAA,EAC1EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,oBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,WACLq8C,UAAW79C,EACX+5C,SAAW5hD,IACT,MAAMqc,IAAMrc,EAAEwU,OAAOkxC,QACrB1C,EAAwB3mC,GACxB,IAAM5T,aAAaQ,QAAQ,yBAA0BoT,EAAI,IAAM,IAAM,CAAE,MAAO,CAC9EkoC,EAAW,CAAE18C,qBAAsBwU,WAIzCvK,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGwzC,UAAW,GAAIvzC,SAAA,EAC1EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,iBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,WACLq8C,UAAW59C,EACX85C,SAAW5hD,IACT,MAAMqc,IAAMrc,EAAEwU,OAAOkxC,QACrBzC,EAAqB5mC,GACrB,IAAM5T,aAAaQ,QAAQ,sBAAuBoT,EAAI,IAAM,IAAM,CAAE,MAAO,CAC3EkoC,EAAW,CAAEz8C,kBAAmBuU,gBAyHvB,YAAd4lC,IAhHLnwC,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEozC,aAAc,IAAKjzC,SAAA,EACnCC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,GAAI82C,aAAc,EAAG9vC,MAAO,WAAYnD,SAAC,aACjEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGkzC,aAAc,GAAIjzC,SAAA,EAC7EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,mBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,QACL3D,IAAI,IACJD,IAAI,MACJmiC,KAAK,IACLn+B,MAAO6S,OAAOoC,SAASwY,GAAQA,EAAO,EACtC0qB,SAAW5hD,IACT,MAAMqc,EAAI7W,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASnyB,EAAEwU,OAAO/K,MAAO,KAAO,IACpE44C,EAAQhmC,GACR,IAAM5T,aAAaQ,QAAQ,oBAAqBkqC,OAAO92B,GAAK,CAAE,MAAO,CACrEkoC,EAAW,CAAEn9C,YAAaiV,QAG9BlK,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,GAAI2hD,UAAW,SAAUpzC,SAAEoK,OAAOoC,SAASwY,GAAQA,EAAO,QAEhGplB,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGkzC,aAAc,GAAIjzC,SAAA,EAC7EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,mBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,QACL3D,IAAI,IACJD,IAAI,MACJmiC,KAAK,IACLn+B,MAAO6S,OAAOoC,SAASyY,GAAQA,EAAO,EACtCyqB,SAAW5hD,IACT,MAAMqc,EAAI7W,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASnyB,EAAEwU,OAAO/K,MAAO,KAAO,IACpE84C,EAAQlmC,GACR,IAAM5T,aAAaQ,QAAQ,oBAAqBkqC,OAAO92B,GAAK,CAAE,MAAO,CACrEkoC,EAAW,CAAEl9C,YAAagV,QAG9BlK,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,GAAI2hD,UAAW,SAAUpzC,SAAEoK,OAAOoC,SAASyY,GAAQA,EAAO,QAEhGrlB,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGkzC,aAAc,GAAIjzC,SAAA,EAC7EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,iBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,QACL3D,IAAI,IACJD,IAAI,MACJmiC,KAAK,IACLn+B,MAAO6S,OAAOoC,SAASgS,GAAOA,EAAM,EACpCkxB,SAAW5hD,IACT,MAAMqc,EAAI7W,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASnyB,EAAEwU,OAAO/K,MAAO,KAAO,IACpEm5C,EAAOvmC,GACP,IAAM5T,aAAaQ,QAAQ,mBAAoBkqC,OAAO92B,GAAK,CAAE,MAAO,CACpEkoC,EAAW,CAAEh9C,WAAY8U,QAG7BlK,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,GAAI2hD,UAAW,SAAUpzC,SAAEoK,OAAOoC,SAASgS,GAAOA,EAAM,QAE9F5e,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,EAAGkzC,aAAc,GAAIjzC,SAAA,EAC7EC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,sBAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,QACL3D,IAAI,IACJD,IAAI,MACJmiC,KAAK,IACLn+B,MAAO6S,OAAOoC,SAAS2Y,GAAWA,EAAU,EAC5CuqB,SAAW5hD,IACT,MAAMqc,EAAI7W,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASnyB,EAAEwU,OAAO/K,MAAO,KAAO,IACpEk5C,EAAWtmC,GACX,IAAM5T,aAAaQ,QAAQ,uBAAwBkqC,OAAO92B,GAAK,CAAE,MAAO,CACxEkoC,EAAW,CAAE/8C,eAAgB6U,QAGjClK,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,GAAI2hD,UAAW,SAAUpzC,SAAEoK,OAAOoC,SAAS2Y,GAAWA,EAAU,QAEtGvlB,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,GAAIC,SAAA,EAC5DC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,KAAMuO,SAAC,+BAC5CC,EAAAA,GAAAA,KAAA,SACE9I,KAAK,QACL3D,IAAI,IACJD,IAAI,MACJmiC,KAAK,IACLn+B,MAAO6S,OAAOoC,SAAS0Y,GAAUA,EAAS,EAC1CwqB,SAAW5hD,IACT,MAAMqc,EAAI7W,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAKysB,SAASnyB,EAAEwU,OAAO/K,MAAO,KAAO,IACpE+4C,EAAUnmC,GACV,IAAM5T,aAAaQ,QAAQ,sBAAuBkqC,OAAO92B,GAAK,CAAE,MAAO,CACvEkoC,EAAW,CAAEj9C,cAAe+U,QAGhClK,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,GAAI1K,MAAO,GAAI2hD,UAAW,SAAUpzC,SAAEoK,OAAOoC,SAAS0Y,GAAUA,EAAS,cA+BlG8rB,IACA/wC,EAAAA,GAAAA,KAAA,OACE6yC,YAnUmBhlD,IAEzBA,EAAE68B,iBACF,MAAMgc,EAAS74C,EAAEmkD,QACXrL,EAAS94C,EAAEokD,QACXuB,EAASv+B,EAAKzjB,MACdiiD,EAASx+B,EAAKxjB,OAEdiiD,EAAQC,IACZ,MAAMC,EAAKD,EAAG3B,QAAUtL,EAClBmN,EAAKF,EAAG1B,QAAUtL,EAClBmN,EAAKzgD,KAAKC,IAAI,IAAKkgD,EAASI,GAC5BG,EAAK1gD,KAAKC,IAAI,IAAKmgD,EAASI,GAClC1C,EAAQ,CAAE3/C,MAAOsiD,EAAIriD,OAAQsiD,KAEzBC,EAAKA,KACT17C,OAAOkK,oBAAoB,YAAakxC,GACxCp7C,OAAOkK,oBAAoB,UAAWwxC,IAExC17C,OAAOiK,iBAAiB,YAAamxC,GACrCp7C,OAAOiK,iBAAiB,UAAWyxC,IAgT7BtxC,MAAM,SACN9C,MAAO,CAAE6rB,SAAU,WAAYlE,MAAO,EAAGF,OAAQ,EAAG71B,MAAO,GAAIC,OAAQ,GAAIm+C,OAAQ,cAC1E50C,WAAY,oFAK/B,CC1kBe,SAASi5C,IAAsB,SAAEntB,EAAQ,QAAEnyB,GAAU,EAAK,OAAEwC,EAAS,KAClF,MAAM+8C,GAAW7yC,EAAAA,EAAAA,QAAO,MAClB8yC,GAAgB9yC,EAAAA,EAAAA,QAAO,MAG7B,IAAI+yC,EAAe,KACnB,IAEEA,EAAexwC,EAAAA,KACjB,CAAE,MAAO/V,GACPumD,EAAe,IACjB,CAEA,MAeMC,EAAUA,KACd,IACMH,EAAS/xC,UACX+xC,EAAS/xC,QAAQ6hC,QACjBkQ,EAAS/xC,QAAQkG,IAAM,GACvB6rC,EAAS/xC,QAAU,KACnBgyC,EAAchyC,QAAU,KAE5B,CAAE,MAAO,GA0EX,OAtEAH,EAAAA,EAAAA,WAAU,KACR,MAAM6G,EA5BYvD,KAClB,IAAKA,EAAM,OAAO,KAClB,MAAMjW,EAAOiW,EAAKyhB,MAAM,KAAKlb,MAC7B,IAAKxc,EAAM,OAAO,KAClB,GAAI+kD,EACF,IACE,MAAMvvC,EAAMuvC,EAAa,KAAK/kD,KAC9B,OAAOwV,EAAIN,SAAWM,CACxB,CAAE,MAAOhX,GACP8I,QAAQoN,KAAK,+BAA+B1U,IAC9C,CAEF,OAAO,MAgBKilD,CAAWxtB,GAGvB,GAAIje,GAAOsrC,EAAchyC,UAAY0G,GAAOqrC,EAAS/xC,QACnD,MAAO,OAKT,GADAkyC,KACKxrC,EAAK,MAAO,OAEjB,MAAMi7B,EAAQ,IAAIC,MAAMl7B,GAaxB,OAZAi7B,EAAMyQ,MAAO,EACbzQ,EAAM3sC,OAAS9D,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAG4W,OAAOhT,IAAW,IACzD+8C,EAAS/xC,QAAU2hC,EACnBqQ,EAAchyC,QAAU0G,EAGpBlU,GACFmvC,EAAMniB,OAAOR,MAAM,QAKd,IAAMkzB,KAEZ,CAACvtB,KAGJ9kB,EAAAA,EAAAA,WAAU,KACR,MAAM8hC,EAAQoQ,EAAS/xC,QACvB,GAAK2hC,EAEL,GADAA,EAAM3sC,OAAS9D,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAG4W,OAAOhT,IAAW,IACrDxC,EAEFmvC,EAAMniB,OAAOR,MAAM,aAInB,IAAM2iB,EAAME,OAAS,CAAE,MAAO,GAE/B,CAACrvC,EAASwC,KAGb6K,EAAAA,EAAAA,WAAU,KACR,MAAMwyC,EAAYA,KAChB,MAAM1Q,EAAQoQ,EAAS/xC,QACnB2hC,GAASnvC,GACXmvC,EAAMniB,OAAOR,MAAM,SAGjBwiB,EAAY91C,IAChB,MAAM4mD,KAAS5mD,GAAKA,EAAEiV,QAAUjV,EAAEiV,OAAOnO,SACnCmvC,EAAQoQ,EAAS/xC,QACvB,GAAK2hC,EACL,GAAI2Q,EACF3Q,EAAMniB,OAAOR,MAAM,aAEnB,IAAM2iB,EAAME,OAAS,CAAE,MAAO,GAKlC,OAFA1rC,OAAOiK,iBAAiB,0BAA2BiyC,GACnDl8C,OAAOiK,iBAAiB,oBAAqBohC,GACtC,KACLrrC,OAAOkK,oBAAoB,0BAA2BgyC,GACtDl8C,OAAOkK,oBAAoB,oBAAqBmhC,KAEjD,CAAChvC,IAEG,IACT,C,MCnGM+/C,GAAgB,C,uw2DAGhBC,GAAgB51C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,0EAO1B61C,GAAe71C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,2LAczB81C,GAAe91C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,yLAazB+1C,GAAa/1C,EAAAA,GAAOg2C,GAAE91C,WAAA,CAAAC,YAAA,gBAATH,CAAS,gEAMtBi2C,GAAUj2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,kDAMpBk2C,GAAUl2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,mMAepBm2C,GAAWn2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,sCAKrBo2C,GAAYp2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,gCAKtBq2C,GAAUr2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,iDAMpBs2C,GAAoBt2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,gBAAVH,CAAU,qQAc9Bu2C,GAAev2C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,iBAAVH,CAAU,iEAMzBw2C,GAAkBx2C,EAAAA,GAAOy2C,MAAKv2C,WAAA,CAAAC,YAAA,iBAAZH,CAAY,oOAkB9B02C,GAAkB12C,EAAAA,GAAOo5B,MAAKl5B,WAAA,CAAAC,YAAA,iBAAZH,CAAY,mBAI9B22C,GAAW32C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,iBAAVH,CAAU,2FAGbgC,GAASA,EAAM40C,SAAW,YAAc,OAChC50C,GAASA,EAAM40C,SAAW,OAAS,QAInDC,GAAa72C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,iBAAVH,CAAU,qEAOvB82C,GAAqB92C,EAAAA,GAAO4B,IAAG1B,WAAA,CAAAC,YAAA,iBAAVH,CAAU,gCAKtB,SAAS+2C,KACpB,MAAM50C,GAAWC,EAAAA,EAAAA,MACX40C,GAAc10C,EAAAA,EAAAA,QAAO,OAIrB,cAAE/S,EAAa,YAAEC,EAAW,cAAEC,EAAa,cAAEC,EAAa,eAAEC,EAAc,gBAAEC,EAAe,qBAAEC,EAAoB,SAAEC,EAAQ,UAAEC,KAHpH2S,EAAAA,EAAAA,IAAYjS,GAASA,EAAMgK,SAGuGiI,EAAAA,EAAAA,IAAYjS,GAASA,EAAM8J,QACtK,eAAE3B,EAAc,cAAEK,EAAa,gBAAEC,IAAoBwJ,EAAAA,EAAAA,IAAYjS,GAASA,EAAM8F,KAChF,MAAEZ,IAAU+M,EAAAA,EAAAA,IAAYjS,GAASA,EAAMkK,UACvCgI,EAAehN,EAAMC,SAGpBqhD,EAAiBC,IAAsBz0C,EAAAA,EAAAA,UAAS,CAAC,GAGlDgU,EAAgBlP,MAAiB,GAkBjC4vC,GAAoBzuB,EAAAA,EAAAA,aAAY,CAACh4B,EAAQE,KAC3C,GAAe,gBAAXF,EAA0B,CAE1ByR,EAASjR,EADaN,GAE1B,MAAO,GAAe,iBAAXF,EAA2B,CAClC,MAAMM,EAAQJ,EAGRwmD,EAAY3nD,EAAcuB,GAC5BomD,GACAj1C,EAAS/Q,EAAoB,CAAEJ,QAAOK,MAAO+lD,EAAY,UAEjE,MAAO,GAAe,iBAAX1mD,EAA2B,CAClC,MAAM,MAAEM,EAAK,OAAEovC,GAAWxvC,EACpB8vC,EAAQjxC,EAAcuB,GAC5B,GAAI0vC,EAAO,CACP,MAAM9pB,EAAMH,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOgyC,GAC7C,GAAI9pB,GAAOA,EAAIub,eAAgB,CAC3B,MAAMyY,EAAcj7C,EAAeqB,IAAU,CAAC,EACxCmkB,EAAOyB,EAAI3jB,WAAa,IACxBw3C,EAAYn2C,KAAKC,IAAI,QAA2BpD,IAAvBy5C,EAAY53C,OAAuB43C,EAAY53C,OAASmiB,GAAQirB,GAC/Fj+B,EAASpR,EAAqB,CAAEC,QAAOC,SAAU,CAAE+B,OAAQy3C,KAC/D,CACJ,CACJ,KAAsB,iBAAX/5C,QAAyCS,IAAZP,EAGpCgH,QAAQyP,IAAI,yBACM,aAAX3W,IACPkH,QAAQyP,IAAI,0CACZuoC,WAAW,KACPyH,MAAM,mBACNl1C,EAAS/I,IAAgB,KAC1B,OAER,CAAC+I,EAAU1S,EAAeE,EAAgB8mB,IAcvCkC,EAAcsqB,GAChB1zC,EACAC,EACAC,EACAC,EACAE,EACA6mB,EAvEmB6gC,KAEnB,GAAI/nD,EAAe,CACfqI,QAAQyP,IAAI,+BAEZ,MAAMkwC,EAAY,IACXhoD,EACHsB,KAAM,IACCtB,EAAcsB,KACjBw2C,uBAAuB,IAAI1tC,MAAOG,gBAG1C09C,EAAYD,EAChB,GA4DAJ,EAfwBM,IACxBt1C,EAAS3Q,EAAiBimD,KAgB1B9nD,GAIE0zB,GAAgBuE,EAAAA,EAAAA,SAAQ,IAGnBpgB,GAAa,uBAAyBA,GAAa,UAC3D,KAIHvE,EAAAA,EAAAA,WAAU,KACN,MAAMy0C,EAAoB5oD,IACtB,MAAMwkD,EAASxkD,GAAKA,EAAEiV,QAAW,CAAC,EAClCmzC,EAAmBj6B,IAAQ,IAAMA,KAASq2B,MAG9C,OADA/5C,OAAOiK,iBAAiB,uBAAwBk0C,GACzC,IAAMn+C,OAAOkK,oBAAoB,uBAAwBi0C,IACjE,KAGHz0C,EAAAA,EAAAA,WAAU,KACN,MAAM00C,EAAuBA,IAAMx1C,EAAS/I,IAAgB,IAE5D,OADAG,OAAOiK,iBAAiB,sBAAuBm0C,GACxC,IAAMp+C,OAAOkK,oBAAoB,sBAAuBk0C,IAChE,CAACx1C,KAGJc,EAAAA,EAAAA,WAAU,KACN,IACI,MAAMijB,EAAU+wB,EAAgB7gD,eAAiB,EAC3CopB,EAAOy3B,EAAgB5gD,YAAc,EACrC8vB,EAAW8wB,EAAgB3gD,gBAAkB,EACnDiD,OAAO23C,0BAA4B,IAC3B33C,OAAO23C,2BAA6B,CAAC,EACzCj7C,yBAA2BghD,EAAgBhhD,0BAA4B1G,GAAesB,MAAMoF,0BAA4B,GACxHC,YAAc+gD,EAAgB/gD,aAAe,EAC7CC,YAAc8gD,EAAgB9gD,aAAe,EAC7CC,cAAe8vB,EACf7vB,WAAYmpB,EACZlpB,eAAgB6vB,EAChB3vB,iBAAmBygD,EAAgBzgD,mBAAoB,EACvDC,iBAAmBwgD,EAAgBxgD,mBAAoB,EACvDC,eAAiBugD,EAAgBvgD,iBAAkB,EACnDC,qBAAuBsgD,EAAgBtgD,uBAAwB,EAC/DC,kBAAoBqgD,EAAgBrgD,oBAAqB,EAEzDghD,iBAAkBp4B,EAE1B,CAAE,MAAO,GACV,CAACy3B,EAAiB1nD,IAErB,MAAMioD,EAAe7mD,IACjB,IACI,IAAKA,EAED,YADAk2C,GAAa7hC,KAAK,wCAAyC,CAAE8hC,UAAW,SAI5E,MAAMt3B,EAAI7e,EAAQE,MAAM4B,OAAS9B,EAAQ8B,OAAS,GAC5Cgd,EAAI9e,EAAQE,MAAM6B,QAAU/B,EAAQ+B,QAAU,GAEpD,IAAIilC,EAAW,GACXkgB,EAAU,GACVpX,EAAa,GAEjB,GAAI9vC,EAAQkqC,OAAQ,CAChB,MAAMid,EAAUnnD,EAAQkqC,OAAOj0B,KAAKk0B,GAAgB,eAAXA,EAAExqC,MAC3CqnC,EAAWmgB,EAAUA,EAAQ/xC,KAAOM,MAAMmJ,EAAIC,GAAGhE,KAAK,MAEtD,MAAMg8B,EAAW92C,EAAQkqC,OAAOj0B,KAAKk0B,GAAgB,aAAXA,EAAExqC,MAC5CunD,EAAUpQ,EAAWA,EAAS1hC,KAAOM,MAAMmJ,EAAIC,GAAGhE,KAAK,MAEvD,MAAMssC,EAAcpnD,EAAQkqC,OAAOj0B,KAAKk0B,GAAgB,YAAXA,EAAExqC,MAC/CmwC,EAAasX,EAAcA,EAAYhyC,KAAOM,MAAMmJ,EAAIC,GAAGhE,KAAK,KACpE,MACIksB,EAAWhnC,EAAQsuB,OAAS5Y,MAAMmJ,EAAIC,GAAGhE,KAAK,MAC9CosC,EAAUxxC,MAAMmJ,EAAIC,GAAGhE,KAAK,MAC5Bg1B,EAAap6B,MAAMmJ,EAAIC,GAAGhE,KAAK,MAInC7T,QAAQyP,IAAI,oCAAqC,CAC7C2wC,kBAAmBrnD,EAAQkqC,QAAQj0B,KAAKk0B,GAAgB,YAAXA,EAAExqC,MAC/C2nD,iBAAkBxX,GAAY35B,OAC9BoxC,kBAAmBzX,GAAYtrC,OAAO2gB,GAAW,OAANA,GAAYhP,OACvDqxC,iBAAkB1X,GAAYtrC,OAAO2gB,GAAW,OAANA,GAAYoL,MAAM,EAAG,KAInE/e,EAAS3R,EAAa,CAClBG,UACAnB,YAAamoC,EACbloC,cAAeooD,EACfnoD,cAAe+wC,EACf3wC,SAAU0f,EACVzf,UAAW0f,KAEftN,EAASjI,GAAiB,IAC1BiI,EAAS/I,IAAgB,IAEzBytC,GAAajrC,KAAK,0BAA2B,CACzCkrC,UAAW,OACXsR,QAASznD,EAAQE,MAAMP,MAAQ,UAC/B+nD,WAAY,GAAG7oC,KAAKC,KAE5B,CAAE,MAAOxf,GACL42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,OACXC,SAAU,cACVp2C,YAEJ0mD,MAAM,gDACV,GAwCJ,OACIz2C,EAAAA,GAAAA,MAACg1C,GAAa,CAAA50C,SAAA,CAIT2X,GAAa5kB,YACVkN,EAAAA,GAAAA,KAACq1C,GAAiB,CAAAt1C,SACb1M,KAAK2W,MAAM0N,EAAY3kB,YAAc,MAI9CiN,EAAAA,GAAAA,KAAC4sC,GAAU,CACP76C,OAAQ2lB,EAAY3lB,OACpBC,UAAW0lB,EAAY1lB,UACvBG,KAAMulB,EAAYvlB,MAAQ,EAC1BC,OAAQslB,EAAYtlB,OACpBC,UAAWqlB,EAAYrlB,UACvBC,WAAYolB,EAAYplB,WACxBC,cAAemlB,EAAYnlB,cAC3BknC,UAAW/hB,EAAY+hB,UACvBC,aAAchiB,EAAYgiB,aAC1BznC,SAAUylB,EAAYzlB,SACtBC,YAAawlB,EAAYxlB,YACzBO,QAASilB,EAAYjlB,QACrBG,WAAY8kB,EAAY9kB,WACxB0sC,MAAO5nB,EAAY4nB,QAItB3nC,IACGqI,EAAAA,GAAAA,KAAC40C,GAAY,CAAA70C,UACTJ,EAAAA,GAAAA,MAACk1C,GAAY,CAAA90C,SAAA,EACTC,EAAAA,GAAAA,KAAC80C,GAAU,CAAA/0C,SAAC,kBACZC,EAAAA,GAAAA,KAACg1C,GAAO,CAAAj1C,SACH20C,GAAcpnD,IAAI,CAACA,EAAKyC,KACrB4P,EAAAA,GAAAA,MAACs1C,GAAO,CAAa70C,QAASA,IAAMm2C,EAAYjpD,GAAKyS,SAAA,EACjDJ,EAAAA,GAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,GAAAA,KAACk1C,GAAQ,CAAAn1C,SAAEzS,EAAIsC,MAAMP,MAAQ,iBAC7BsQ,EAAAA,GAAAA,MAACw1C,GAAS,CAAAp1C,SAAA,CAAC,OAAKzS,EAAIsC,MAAMynD,QAAU,iBAExCr3C,EAAAA,GAAAA,KAACo1C,GAAO,CAAAr1C,UACJJ,EAAAA,GAAAA,MAAA,OAAAI,SAAA,CAAK,SAAOzS,EAAIsC,MAAM4B,MAAM,IAAElE,EAAIsC,MAAM6B,cANlC1B,OAWtBiQ,EAAAA,GAAAA,KAACs1C,GAAY,CAAAv1C,UACTJ,EAAAA,GAAAA,MAAC41C,GAAe,CAAAx1C,SAAA,CAAC,8CAEbC,EAAAA,GAAAA,KAACy1C,GAAe,CAACv+C,KAAK,OAAOogD,OAAO,QAAQ7H,SAtFzCvtC,IAC3B,IACI,MAAMq1C,EAAOr1C,EAAMG,OAAOm1C,MAAM,GAChC,IAAKD,EAAM,OAEX,MAAME,EAAa,IAAIC,WACvBD,EAAWE,WAAWJ,EAAM,SAC5BE,EAAWG,OAAU/pD,IACjB,IACI,MAAMgqD,EAASphD,KAAKC,MAAM7I,EAAEwU,OAAOowB,QACnC8jB,EAAYsB,EAChB,CAAE,MAAO7oD,GACL42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,OACXC,SAAU,wBACVgS,SAAUP,EAAKloD,OAEnB+mD,MAAM,+CACV,GAEJqB,EAAWM,QAAW/oD,IAClB42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,OACXC,SAAU,wBACVgS,SAAUP,EAAKloD,KACfke,MAAO,eAEX6oC,MAAM,uBAEd,CAAE,MAAOpnD,GACL42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,OACXC,SAAU,yBAElB,gBA2DI9lC,EAAAA,GAAAA,KAAC01C,GAAQ,CACLjzC,IAAKszC,EACLJ,SAAUh+C,EAAeoI,SAExBzR,GACG0R,EAAAA,GAAAA,KAAC41C,GAAU,CAAA71C,UAGPC,EAAAA,GAAAA,KAACkjB,GAAS,CACNr0B,SAAUA,EACVC,UAAWA,EACX6a,SAAU,GACVpb,YAAaA,EACbC,cAAeA,EACfC,cAAeA,EACfE,gBAAiBA,EACjBC,qBAAsBA,EACtB4mB,cAAeA,EACfkC,YAAaA,EACb0K,cAAeA,EACf5vB,YAAaklB,EAAYllB,aAAe,GACxC9D,eAAgBA,EAChBy0B,gBAAiB70B,GAAesB,MAAMuzB,gBACtCpgB,gBAAiBzU,GAAesB,MAAMmT,gBACtC/N,yBAA2BghD,EAAgBhhD,0BAA4B1G,GAAesB,MAAMoF,yBAC5FgD,cAAeA,EACf/C,YAAa+gD,EAAgB/gD,aAAe,EAC5CC,YAAa8gD,EAAgB9gD,aAAe,EAC5CC,cAAe6gD,EAAgB7gD,eAAiB,EAChDC,WAAY4gD,EAAgB5gD,YAAc,EAC1CC,eAAgB2gD,EAAgB3gD,gBAAkB,EAClDE,iBAAkBygD,EAAgBzgD,mBAAoB,EACtDC,iBAAkBwgD,EAAgBxgD,mBAAoB,EACtDC,eAAgBugD,EAAgBvgD,iBAAkB,EAClDC,qBAAsBsgD,EAAgBtgD,uBAAwB,EAC9DC,kBAAmBqgD,EAAgBrgD,oBAAqB,EACxDytB,UAAU,OAKlBpjB,EAAAA,GAAAA,KAAC61C,GAAkB,CAAA91C,SAAC,qCAK5BC,EAAAA,GAAAA,KAACi0C,GAAqB,CAACntB,SAAUx4B,GAAesB,MAAMooD,gBAAiBrjD,QAAS+M,EAAcvK,OAAQ,MAGtG6I,EAAAA,GAAAA,KAAC6vC,GAAY,KACb7vC,EAAAA,GAAAA,KAAC+tC,GAAY,MAGzB,CCzcA,SAnDOzlB,eAAwB2vB,EAAUC,EAAgB,WAAYC,EAAW,4BAC9E,IAGE,GADoC,qBAAX7/C,QAA+D,oBAA9BA,OAAO8/C,mBAClD,CACb,MAAMlhC,EAAO,CACXghC,gBACAG,MAAO,CACL,CACE/K,YAAa,OACbgK,OAAQ,CAAE,CAACa,GAAY,4BAA6B,CAAC,IAAKD,EAAcnxB,MAAM,KAAKlb,OAAS,aAIlG,IAAIi1B,EACJ,IACEA,QAAexoC,OAAO8/C,mBAAmBlhC,EAC3C,CAAE,MAAOrpB,GAEP,GAAIA,IAAiB,eAAXA,EAAEwB,MAAoC,oBAAXxB,EAAEwB,MAA6B,OAAO,EAC3E,MAAMxB,CACR,CAEA,MAAMyqD,QAAiBxX,EAAOyX,iBACxBC,EAAOP,aAAoBQ,KAAOR,EAAW,IAAIQ,KAAK,CAACR,GAAW,CAAE/gD,KAAMihD,IAGhF,aAFMG,EAASI,MAAMF,SACfF,EAASK,SACR,CACT,CACF,CAAE,MAAO9qD,GAEP,IAAM8I,QAAQoN,KAAK,sDAAuDlW,EAAI,CAAE,MAAO,CACzF,CAGA,IACE,MAAM2qD,EAAOP,aAAoBQ,KAAOR,EAAW,IAAIQ,KAAK,CAACR,GAAW,CAAE/gD,KAAMihD,IAC1ES,EAAOt2C,SAASyO,cAAc,KAOpC,OANA6nC,EAAKC,KAAOC,IAAIC,gBAAgBP,GAChCI,EAAKI,SAAWd,GAAiB,WACjC51C,SAAS22C,KAAK7uB,YAAYwuB,GAC1BA,EAAKM,QACL52C,SAAS22C,KAAKltC,YAAY6sC,GAC1BjK,WAAW,IAAMmK,IAAIK,gBAAgBP,EAAKC,MAAO,IAC1C,CACT,CAAE,MAAOhrD,GACP,IAAM8I,QAAQ3H,MAAM,4BAA6BnB,EAAI,CAAE,MAAO,CAC9D,OAAO,CACT,CACF,EC3DaurD,GAAsBA,CAAC9mB,EAAY+mB,EAAaxqD,EAAUC,KACnE,MAAMwqD,EAAUD,EAAY/mB,GACtB9gC,EAAQ3C,EACR4C,EAAS3C,EACTqyC,EAAQ,CAAC7O,GACTpY,EAAU,IAAIsB,IACd+9B,EAAkB,GAExB,KAAOpY,EAAMt7B,OAAS,GAAG,CACrB,MAAMpV,EAAM0wC,EAAMt1B,MAClB,GAAIqO,EAAQnR,IAAItY,GAAM,SAEtB,GADAypB,EAAQ8P,IAAIv5B,GACRA,EAAM,GAAKA,GAAO4oD,EAAYxzC,OAAQ,SAC1C,GAAIwzC,EAAY5oD,KAAS6oD,EAAS,SAClCC,EAAgB5oD,KAAKF,GAErB,MAAMa,EAAIb,EAAMe,EACVD,EAAI8B,KAAK2W,MAAMvZ,EAAMe,GACvBF,EAAI,GAAG6vC,EAAMxwC,KAAKF,EAAM,GACxBa,EAAIE,EAAQ,GAAG2vC,EAAMxwC,KAAKF,EAAM,GAChCc,EAAI,GAAG4vC,EAAMxwC,KAAKF,EAAMe,GACxBD,EAAIE,EAAS,GAAG0vC,EAAMxwC,KAAKF,EAAMe,EACzC,CACA,OAAO+nD,GAcEC,GAAYA,CAACzpD,EAAO0pD,EAAcC,EAAW7qD,EAAUC,EAAW6qD,EAAgBC,KAC3F,MACMC,EAAU,IADIF,KAEdroD,EAAIvB,EAAQlB,EACZ0C,EAAI8B,KAAK2W,MAAMja,EAAQlB,GAE7B,IAAK,IAAI2qB,EAAK,EAAGA,EAAKkgC,EAAWlgC,IAC7B,IAAK,IAAIE,EAAK,EAAGA,EAAKggC,EAAWhgC,IAAM,CACnC,MAAMogC,EAAUxoD,EAAIooB,EACd3G,EAAUxhB,EAAIioB,EACpB,GAAIsgC,EAAUjrD,GAAYkkB,EAAUjkB,EAAW,CAE3C+qD,EADoB9mC,EAAUlkB,EAAWirD,GAClBL,EAAeA,EAAahsD,GAAK,IAC5D,CACJ,CAEJmsD,EAAeC,ICuBnB,GA1EqBE,EAAG50C,WAAUF,UAAS0F,QAAO/K,QAAO0I,MAAKpI,YAAWguB,kBACrE,MAAOn+B,EAAOiqD,IAAYx4C,EAAAA,EAAAA,UAAS,IAEnCQ,EAAAA,EAAAA,WAAU,KAEN,GAAImD,GAAYA,EAASU,OAAS,EAAG,CACjC,MAAMo0C,EAAWC,YAAY,KACzBF,EAAUzU,IAAeA,EAAY,GAAKpgC,EAASU,SACpD8E,GAAS,KAEZ,MAAO,IAAMwvC,cAAcF,EAC/B,GACD,CAAC90C,EAAUwF,IAGd,IAAIyvC,EAAS,KAOb,GANIj1C,GAAYA,EAASU,OAAS,EAC9Bu0C,EAASj1C,EAASpV,EAAQoV,EAASU,QAC5BZ,IACPm1C,EAASn1C,IAGRm1C,EAAQ,OAAO,KAGpB,GAAIlsB,GAAeA,EAAYv5B,QAAS,CACpC,MAAMw5B,EAAUD,EAAYC,SAAW,EACjCksB,EAAQnsB,EAAYM,cAAgB,EACpC8rB,EAAOjnD,KAAKmY,KAAK6uC,EAAQlsB,GAGzBC,EAAa,EACbQ,EAAMR,EAAaD,EACnBU,EAAMx7B,KAAK2W,MAAMokB,EAAaD,GAEpC,OACInuB,EAAAA,GAAAA,KAAA,OAAKE,UAAWA,EAAWN,MAAO,IAC3BA,EACHgH,SAAU,SACV/G,QAAS,eACTrO,MAAOoO,GAAOpO,OAAS,OACvBC,OAAQmO,GAAOnO,QAAU,OACzBg6B,SAAU,YACZ1rB,UACEC,EAAAA,GAAAA,KAAA,OACIqI,IAAK+xC,EACL9xC,IAAKA,GAAO,GACZ1I,MAAO,CACH6rB,SAAU,WACVj6B,MAAoB,IAAV28B,EAAH,IACP18B,OAAkB,IAAP6oD,EAAH,IACRhzB,KAAM,IAAU,IAANsH,KACVxH,IAAK,IAAU,IAANyH,KACT0rB,SAAU,OACVC,UAAW,OACX36C,QAAS,SAEb46C,WAAW,KAI3B,CAEA,OACIz6C,EAAAA,GAAAA,KAAA,OACIqI,IAAK+xC,EACL9xC,IAAKA,GAAO,GACZ1I,MAAOA,EACPM,UAAWA,EACXu6C,WAAW,KCnEV/E,GAAWA,EACpB7mD,WACAC,YACA4rD,wBACAC,0BACAC,0BACAC,WACAC,cACAC,aACAxsD,cACAC,gBACAC,gBACAC,iBACA8mB,gBACAwlC,aACAC,mBACAvB,YACAwB,uBACAC,YACAC,kBACAC,YACAC,aACAC,sBACAC,uBACAC,oBACAC,uBACAC,oBAGI37C,EAAAA,GAAAA,KAAA,OAAKE,UAAU,WACXN,MAAO,CACHsvC,KAAM,EAAGjsC,QAAS,OAAQF,gBAAiB,OAC3C6D,SAAU,OAAQ6kB,SAAU,WAAY8mB,WAAY,QAExDqJ,UAAWA,IAAMD,GAAc,GAAO57C,UACtCJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE6rB,SAAU,WAAYj6B,MAAO,eAAiBqqD,aAAcH,EAAqB37C,SAAA,EAE3FC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CACR6rB,SAAU,WACVrE,IAAK,EACLE,KAAM,EACN91B,MAAkB,GAAX3C,EACP4C,OAAoB,GAAZ3C,EACR+N,OAAQ,GACRi/C,cAAe,OACfC,QAAS,IACXh8C,SACG,MACG,MAAMi8C,EAAQ,GACRC,EAAU,GACVC,EAAU,GAmChB,OAhCA1tD,EAAcgC,QAAQ,CAAC/C,EAAIsC,KACvB,IAAKtC,EAAI,OACT,MAAMuC,EAAWtB,IAAiBqB,GAClC,IAAKC,QAAmCE,IAAvBF,EAAS45C,WAAkD,OAAvB55C,EAAS45C,UAAoB,OAElF,MAAMt4C,EAAKvB,EAAQlB,EAAY,GAAK,GAC9B0C,EAAmC,GAA/B8B,KAAK2W,MAAMja,EAAQlB,GAAiB,GAE1CpB,EAAGiD,SAAS,YAAcjD,EAAGiD,SAAS,UACtCurD,EAAQtrD,KAAK,CAAEW,IAAGC,IAAG9D,GAAIuC,EAAS45C,aAC3Bn8C,EAAGiD,SAAS,WAAoB,kBAAPjD,IAChCyuD,EAAQvrD,KAAK,CAAEW,IAAGC,IAAG9D,GAAIuC,EAAS45C,cAK1CqS,EAAQzrD,QAAQ2D,IACZ+nD,EAAQ1rD,QAAQ4O,IACRjL,EAAE1G,KAAO2R,EAAE3R,IACXuuD,EAAMrrD,MACFqP,EAAAA,GAAAA,KAAA,QAEIm8C,GAAIhoD,EAAE7C,EAAG8qD,GAAIjoD,EAAE5C,EACf8qD,GAAIj9C,EAAE9N,EAAGgrD,GAAIl9C,EAAE7N,EACfiiB,OAAO,OACP+oC,YAAY,IACZC,gBAAgB,OALX,QAAQroD,EAAE7C,KAAK6C,EAAE5C,KAAK6N,EAAE9N,KAAK8N,EAAE7N,UAWjDyqD,CACV,EAvCA,MA2CLh8C,EAAAA,GAAAA,KAAA,OACIJ,MAAO,CACH6rB,SAAU,WACVrE,IAAK,EACLE,KAAM,EACN91B,MAAkB,GAAX3C,EACP4C,OAAoB,GAAZ3C,EACRq0B,gBAAiBu3B,EAAwB,OAAOA,KAA2B,OAC3E33C,gBAAkB23C,EAAkD,cAA1BC,EAC1C8B,iBAAkB,WAClBC,eAAgB,YAChB7/C,OAAQ,EACRi/C,cAAe,WAGvB97C,EAAAA,GAAAA,KAAA,OAAKE,UAAU,OACXN,MAAO,CACHC,QAAS,OACT88C,oBAAqB,UAAU9tD,WAC/B+tD,iBAAkB,UAAU9tD,WAC5BgR,IAAK,MACLxE,OAAQ,iBACRyH,gBAAiB,cACjB0oB,SAAU,WACVmkB,OAAuB,WAAfmL,EAA0B,OAAS,UAC3Cl+C,OAAQ,GACVkD,SACDqF,MAAMvW,EAAWC,GAAW0b,KAAK,GAAGld,IAAI,CAACuvD,EAAG9sD,KACzC,MAAMuB,EAAIvB,EAAQlB,EACZ0C,EAAI8B,KAAK2W,MAAMja,EAAQlB,GAG7B,IAAIiuD,EAAgBvuD,EAAYwB,GAC5BgtD,EAAkBvuD,EAAcuB,GAChCitD,EAAkBvuD,IAAgBsB,GAGtC,GAAIorD,GAAaC,EAAiB,CAC9B,MAAM6B,EAAO7B,EAAgB9pD,EACvB4rD,EAAO9B,EAAgB7pD,EAE7B,GAAID,GAAK2rD,GAAQ3rD,EAAI2rD,EAAO9B,EAAU5sC,GAAKhd,GAAK2rD,GAAQ3rD,EAAI2rD,EAAO/B,EAAU3sC,EAAG,CAE5E,MAAM6N,EAAU/qB,EAAI2rD,EAEdE,GADU5rD,EAAI2rD,GACa/B,EAAU5sC,EAAI8N,EAE/CygC,EAAgB3B,EAAUzkB,SAASymB,GACnCJ,EAAkB5B,EAAUjjB,WAAWilB,GACvCH,EAAkB7B,EAAU3b,aAAa2d,EAC7C,CACJ,CAEA,MAAMC,EAAUN,EAAgBtnC,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOqvD,GAAiB,KAC5EO,EAASN,EAAkBvnC,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOsvD,GAAmB,KAC/EO,EAAYN,EAAkBxnC,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOuvD,GAAmB,KAExF,IAAIO,GAAa,EACbC,GAAqB,EAGzB,MAAMP,EAAO7B,EAAkBA,EAAgB9pD,EAAK6pD,EAAYA,EAAU7pD,EAAI,EACxE4rD,EAAO9B,EAAkBA,EAAgB7pD,EAAK4pD,EAAYA,EAAU5pD,EAAI,EAE1E4pD,GAAa7pD,GAAK2rD,GAAQ3rD,EAAI2rD,EAAO9B,EAAU5sC,GAAKhd,GAAK2rD,GAAQ3rD,EAAI2rD,EAAO/B,EAAU3sC,IACtF+uC,GAAa,GACTnC,GAAoBA,EAAgB9pD,IAAM6pD,EAAUsC,WAAarC,EAAgB7pD,IAAM4pD,EAAUuC,YACjGF,GAAqB,IAI7B,IAAIG,GAAkB,EAClBC,GAAc,EAClB,GAAmB,SAAf7C,EACA,GAAIO,GAAcD,GAA4B,OAAfL,EAAqB,CAChD,MAAM6C,EAAK7C,EAAansD,EAClBivD,EAAKzqD,KAAK2W,MAAMgxC,EAAansD,GAC7BkvD,EAAK1C,EAAU/pD,EACfi7B,EAAK8uB,EAAU9pD,EACfysD,EAAO3qD,KAAKE,IAAIwqD,EAAIF,GACpBI,EAAO5qD,KAAKE,IAAIg5B,EAAIuxB,GACpB1e,EAAO/rC,KAAKC,IAAIyqD,EAAIF,GACpBK,EAAO7qD,KAAKC,IAAIi5B,EAAIuxB,GACtBxsD,GAAK0sD,GAAQ1sD,GAAK8tC,GAAQ7tC,GAAK0sD,GAAQ1sD,GAAK2sD,IAAMP,GAAkB,EAC5E,MAAYrC,GAAcN,IAAejrD,IACrC6tD,GAAc,GAItB,IAAIO,GAAgB,EACpB,GAAoB,UAAfpD,GAA0C,OAAfC,EAAqB,CACjD,MAAM6C,EAAK7C,EAAansD,EAClBivD,EAAKzqD,KAAK2W,MAAMgxC,EAAansD,GAC/ByC,GAAKusD,GAAMvsD,EAAIusD,EAAKnE,GAAanoD,GAAKusD,GAAMvsD,EAAIusD,EAAKpE,IAAWyE,GAAgB,EACxF,CAEA,IAAIC,GAAiB,EACjBC,GAAkB,EACH,WAAftD,IACIG,EAAqBnyC,IAAIhZ,GAAQsuD,GAAkB,EAC9CrD,IAAejrD,IAAOquD,GAAiB,IAGpD,IAAIE,EAAczD,EAAW,oCAAsC,OAC/D0D,EAAU,cACd,MAAMC,EAAgBvD,IAAqBlrD,EAErC0uD,KAAkBrB,GAAWA,EAAQxnC,OAASwnC,EAAQxnC,MAAMoE,QAC5D0kC,KAAiBtB,GAAWA,EAAQxnC,OAASwnC,EAAQxnC,MAAMqE,OAC3D0kC,KAAgBvB,GAAWA,EAAQxnC,OAASwnC,EAAQxnC,MAAMC,MAE5DsoC,EAAeG,EAAc,gBACxBD,GAAmBC,EAAc,oBAAqBC,EAAU,oBAChEH,EAAgBE,EAAc,mBAC9BV,EAAaU,EAAc,iBAC3BX,GAAmBW,EAAc,kBAAmBC,EAAU,wBAC9DC,GAAiBF,EAAc,iBAAkBC,EAAU,0BAC3DhB,EACDC,GACAc,EAAc,iBACdC,EAAU,2BAEVD,EAAc,iBACdC,EAAU,0BAGR1D,IAAUyD,EAAc,QAElC,IAAIM,EAAqB,CAAC,EAa1B,MAZgB,gBAAZL,EACAK,EAAmB77C,gBAAkBw7C,EAC9BE,IAEHG,EAAmB5jD,WADnB0jD,EACgC,4CACzBC,EACyB,4CAEA,8CAKpCh/C,EAAAA,GAAAA,MAAA,OACIkzC,YAAchlD,GAAM0tD,EAAoBxrD,EAAOlC,GAC/CgxD,aAAcA,IAAMrD,EAAqBzrD,GACzC6rD,UAAWA,IAAMH,EAAkB1rD,GACnC6P,MAAO,CACHpO,MAAO,OAAQC,OAAQ,OAAQ6J,OAAQgjD,EACvCzhD,OAASshD,GAAiBC,GAAkBC,GAAmBT,GAAeD,EAAmB,GAAMJ,EAAa,GAAK,EACzHuB,UAAW,aAAcj/C,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SAAU+kB,SAAU,cACjGmzB,GACL7+C,SAAA,CAEDq9C,IACGA,EAAQx7B,YACJ5hB,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE6rB,SAAU,WAAY5uB,OAAQ,EAAGX,SAAU,OAAQE,WAAY,QAAS2D,SACjFq9C,EAAQx7B,cAGb5hB,EAAAA,GAAAA,KAAC+5C,GAAY,CACT50C,SAAUi4C,EAAQj4C,SAClBF,QAASm4C,EAAQn4C,QACjB0F,MAAOyyC,EAAQt3C,eACfooB,YAAakvB,EAAQlvB,YACrBtuB,MAAO,CAAE6rB,SAAU,WAAYj6B,MAAO,OAAQC,OAAQ,OAAQstD,UAAW,UAAWliD,OAAQ,MAMvGwgD,IACG19C,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE6rB,SAAU,WAAYj6B,MAAO,OAAQC,OAAQ,OAAQoL,OAAQ,EAAGgD,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,UAAW3G,SAAA,CAC3Is9C,EAAOz7B,YACJ5hB,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ8G,MAAO,OAAQ87C,WAAY,gBAAiBj/C,SAC3Fs9C,EAAOz7B,cAGZ5hB,EAAAA,GAAAA,KAAC+5C,GAAY,CACT50C,SAAUk4C,EAAOl4C,SACjBF,QAASo4C,EAAOp4C,QAChB0F,MAAO0yC,EAAOv3C,eACdooB,YAAamvB,EAAOnvB,YACpBtuB,MAAO,CAAEpO,MAAO,OAAQC,OAAQ,OAAQstD,UAAW,aAI1DrwD,GAAkBA,EAAeqB,SAA8CG,IAApCxB,EAAeqB,GAAO65C,WAA+D,OAApCl7C,EAAeqB,GAAO65C,YAC/GjqC,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CACR6rB,SAAU,WACVrE,IAAK,QACLE,KAAM,MACN0nB,UAAW,mBACXjsC,gBAAiB,kBACjBG,MAAO,OACPD,QAAS,UACTlH,aAAc,MACdG,SAAU,OACVkzC,WAAY,SACZvyC,OAAQ,GACRvB,OAAQ,kBACVyE,SAAA,CAAC,OACMrR,EAAeqB,GAAO65C,gBAO1C0T,IACGt9C,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CACR6rB,SAAU,WACVj6B,MAAO,OACPC,OAAQ,OACRuJ,WAAYsiD,EAAU2B,qBAAuB3B,EAAU/sB,aAAe,qBACtE1zB,OAAQ,EACRgD,QAAS,OACT8G,WAAY,SACZD,eAAgB,SAChBxK,SAAU,MACVgH,MAAO,2BACP9G,WAAY,OACZ0/C,cAAe,QACjB/7C,SACGu9C,EAAU17B,YAAc,OAIjC5hB,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE6rB,SAAU,WAAYrE,IAAK,EAAGE,KAAM,EAAG91B,MAAO,OAAQC,OAAQ,OAAQoL,OAAQ,QArFtF9M,YC5OzBmvD,GAAkB,CAC3Br/C,QAAS,cACT8G,WAAY,SACZD,eAAgB,SAChBkpC,OAAQ,UACRt0C,OAAQ,iBACR2H,QAAS,SACTxR,OAAQ,OACRsR,gBAAiB,UACjBo8C,YAAa,MACbnM,aAAc,MACd92C,SAAU,OACVgH,MAAO,OACPnH,aAAc,MACdw2C,WAAY,OACZ1yB,SAAU,OACVi/B,UAAW,aACXM,eAAgB,OAChB/P,WAAY,UAGHoD,GAAc,IAAKyM,IAEnBG,GAAoB,IAC1BH,GACHn8C,gBAAiB,OACjB2Z,YAAa,OACbtgB,WAAY,QCxBHkjD,GAAcA,EACvBC,SACAC,cACAC,iBACAC,kBACAC,qBACAC,gBACAnR,aAEK8Q,GAGDv/C,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CACR6rB,SAAU,WAAYrE,IAAK,EAAGE,KAAM,EAAG91B,MAAO,OAAQC,OAAQ,OAC9DsR,gBAAiB,qBAAsBlG,OAAQ,IAC/CgD,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,UACzD3G,UACEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CACRmD,gBAAiB,OAAQE,QAAS,OAAQlH,aAAc,MACxD8xC,UAAW,4BAA6Br8C,MAAO,QAC/CqO,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QACjDC,SAAA,EACEC,EAAAA,GAAAA,KAAA,MAAIJ,MAAO,CAAE0zC,UAAW,GAAIvzC,SAAC,oBAE7BJ,EAAAA,GAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAEC,QAAS,QAAS3D,SAAU,OAAQ82C,aAAc,OAAQjzC,SAAC,eAC3EC,EAAAA,GAAAA,KAAA,SACI9I,KAAK,OACLI,MAAOkoD,EACP/P,SAAW5hD,GAAM4xD,EAAe5xD,EAAEwU,OAAO/K,OACzCsI,MAAO,CAAEpO,MAAO,OAAQyR,QAAS,MAAO67C,UAAW,oBAI3Dn/C,EAAAA,GAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAEC,QAAS,QAAS3D,SAAU,OAAQ82C,aAAc,OAAQjzC,SAAC,uBAC3EC,EAAAA,GAAAA,KAAA,SACI9I,KAAK,OACLI,MAAOooD,EACPjQ,SAAW5hD,GAAM8xD,EAAmB9xD,EAAEwU,OAAO/K,OAC7CsI,MAAO,CAAEpO,MAAO,OAAQyR,QAAS,MAAO67C,UAAW,oBAI3Dn/C,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ6G,eAAgB,WAAY5G,IAAK,OAAQwzC,UAAW,QAASvzC,SAAA,EACxFC,EAAAA,GAAAA,KAAA,UAAQI,QAASquC,EAAS7uC,MAAO,IAAK6yC,GAAa1vC,gBAAiB,WAAYhD,SAAC,YACjFC,EAAAA,GAAAA,KAAA,UAAQI,QAASw/C,EAAehgD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,QAASwZ,YAAa,WAAY3c,SAAC,mBArC3H,KCVX8/C,GAAkBA,EAC3Bn9C,QACA3C,WACA+/C,kBAAkB,CAAExuD,EAAG,GAAIC,EAAG,IAC9BwuD,eAAe,IACfC,iBAAgB,EAChBC,qBAEA,MAAOx0B,IAAYjqB,EAAAA,EAAAA,UAASs+C,IACrBxE,EAAYK,IAAiBn6C,EAAAA,EAAAA,WAAS,IACtC0+C,EAAYC,IAAiB3+C,EAAAA,EAAAA,UAAS,CAAElQ,EAAG,EAAGC,EAAG,KACjD6uD,EAAiBC,IAAsB7+C,EAAAA,EAAAA,UAASs+C,IAChDQ,EAAaC,IAAkB/+C,EAAAA,EAAAA,WAAUw+C,IACzCQ,EAAUC,IAAej/C,EAAAA,EAAAA,WAAS,IAClCk/C,EAAgBC,IAAqBn/C,EAAAA,EAAAA,WAAS,GAC/Co/C,GAAYv/C,EAAAA,EAAAA,QAAO,OAGzBW,EAAAA,EAAAA,WAAU,KACD0+C,GACDL,EAAmBP,IAExB,CAACA,EAAiBY,IAErB,MAAMG,GAAgBx/C,EAAAA,EAAAA,QAAO,IAG7BW,EAAAA,EAAAA,WAAU,KACN,GAAI4+C,EAAUz+C,SAAW89C,EAAgB,CACrC,MAAMxuD,EAASmvD,EAAUz+C,QAAQ2+C,aAC7BrvD,IAAWovD,EAAc1+C,UACzB0+C,EAAc1+C,QAAU1Q,EACxBwuD,EAAexuD,GAEvB,KAGJuQ,EAAAA,EAAAA,WAAU,KACN,GAAIs5C,EAAY,CACZ,MAAMyF,EAAmBlzD,IACrBwyD,EAAmB,CACf/uD,EAAGzD,EAAEmkD,QAAUkO,EAAW5uD,EAC1BC,EAAG1D,EAAEokD,QAAUiO,EAAW3uD,KAI5BoxC,EAAgBA,KAClBgZ,GAAc,IAMlB,OAHAr5C,SAASC,iBAAiB,YAAaw+C,GACvCz+C,SAASC,iBAAiB,UAAWogC,GAE9B,KACHrgC,SAASE,oBAAoB,YAAau+C,GAC1Cz+C,SAASE,oBAAoB,UAAWmgC,GAEhD,GACD,CAAC2Y,EAAY4E,IAchB,OAAIM,EAAiB,MAGjB7gD,EAAAA,GAAAA,MAAA,OACI8C,IAAKm+C,EACLhhD,MAAO,CACH6rB,SAAU,QACVnE,KAAM84B,EAAgB9uD,EACtB81B,IAAKg5B,EAAgB7uD,EACrBC,MAAOuuD,EACPh9C,gBAAiB,UACjBzH,OAAQ,iBACRS,aAAc,MACd8xC,UAAW,6BACXhxC,OAAQ,GACRgD,QAAS,OACT4G,cAAe,SACf+zC,UAAW,QACbz6C,SAAA,EAGFJ,EAAAA,GAAAA,MAAA,OACIkzC,YAlCahlD,IACrB,GAAI+yD,EAAUz+C,QAAS,CACnB,MAAMoI,EAAOq2C,EAAUz+C,QAAQ6+C,wBAC/Bb,EAAc,CACV7uD,EAAGzD,EAAEmkD,QAAUznC,EAAK+c,KACpB/1B,EAAG1D,EAAEokD,QAAU1nC,EAAK6c,MAExBu0B,GAAc,GACdgF,GAAkB,EACtB,GA0BQ/gD,MAAO,CACHqD,QAAS,WACTF,gBAAiB,UACjBk+C,oBAAqB,MACrBC,qBAAsB,MACtBtR,OAAQ0L,EAAa,WAAa,OAClCl/C,WAAY,OACZF,SAAU,OACV2D,QAAS,OACT6G,eAAgB,gBAChBC,WAAY,SACZ4rC,WAAY,OACZtD,aAAc,kBAChBlvC,SAAA,EAEFC,EAAAA,GAAAA,KAAA,QAAAD,SAAO2C,KACP/C,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SAAA,EACxCC,EAAAA,GAAAA,KAAA,UACII,QAAUvS,IACNA,EAAE2hD,kBACF+Q,GAAgBD,IAEpB1gD,MAAO,CACH5E,WAAY,UACZM,OAAQ,OACRS,aAAc,MACdvK,MAAO,OACPC,OAAQ,OACRm+C,OAAQ,UACR1zC,SAAU,OACV2D,QAAS,OACT8G,WAAY,SACZD,eAAgB,SAChBzD,QAAS,GAEbP,MAAO49C,EAAc,WAAa,WAAWvgD,SAE5CugD,EAAc,SAAM,YAEzBtgD,EAAAA,GAAAA,KAAA,UACII,QAAUvS,IACNA,EAAE2hD,kBACFiR,GAAY,IAEhB7gD,MAAO,CACH5E,WAAY,UACZM,OAAQ,OACRS,aAAc,MACdvK,MAAO,OACPC,OAAQ,OACRm+C,OAAQ,UACR1sC,MAAO,OACPhH,SAAU,OACV2D,QAAS,OACT8G,WAAY,SACZD,eAAgB,SAChBzD,QAAS,GAEbP,MAAM,QAAO3C,SAChB,kBAOPugD,IACEtgD,EAAAA,GAAAA,KAAA,OACIJ,MAAO,CACHqD,QAAS,OACTksC,UAAW,OACXD,KAAM,GACRnvC,SAEDA,QCzKRohD,GAAiBA,EAAGz+C,QAAO3C,WAAUigD,iBAAgB,MAC9D,MAAOT,EAAQ6B,IAAa5/C,EAAAA,EAAAA,UAASw+C,GACrC,OACIrgD,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEozC,aAAc,MAAO13C,OAAQ,iBAAkBS,aAAc,MAAOgH,gBAAiB,QAAShD,SAAA,EACxGJ,EAAAA,GAAAA,MAAA,OAAKS,QAASA,IAAMghD,GAAW7B,GAAS3/C,MAAO,CAAEqD,QAAS,MAAO2sC,OAAQ,UAAW7sC,gBAAiB,UAAW3G,WAAY,OAAQF,SAAU,OAAQ2D,QAAS,OAAQ6G,eAAgB,gBAAiBC,WAAY,SAAU4rC,WAAY,QAASxyC,SAAA,EAC/OC,EAAAA,GAAAA,KAAA,QAAAD,SAAO2C,KAAa1C,EAAAA,GAAAA,KAAA,QAAAD,SAAOw/C,EAAS,SAAM,cAE7CA,IAAUv/C,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEqD,QAAS,MAAOu3C,UAAW,QAASrL,UAAW,QAASpvC,SAAEA,QCPlFshD,GAAUA,EACnBxyD,WACAC,YACAP,cACAC,gBACAE,iBACA8mB,oBAEA,MAAM8rC,GAAYjgD,EAAAA,EAAAA,QAAO,MACnBkgD,EAAe,IACfC,EAAgB,IA0HtB,OAxHAx/C,EAAAA,EAAAA,WAAU,KACN,MAAM8O,EAASwwC,EAAUn/C,QACzB,IAAK2O,EAAQ,OAEb,MAAME,EAAMF,EAAOG,WAAW,MACxBwwC,EAAYF,EAAe1yD,EAC3B6yD,EAAaF,EAAgB1yD,EAGnCkiB,EAAIqK,UAAY,UAChBrK,EAAIsK,SAAS,EAAG,EAAGimC,EAAcC,GAGjC,IAAK,IAAIjwD,EAAI,EAAGA,EAAIzC,EAAWyC,IAC3B,IAAK,IAAID,EAAI,EAAGA,EAAIzC,EAAUyC,IAAK,CAC/B,MAAMvB,EAAQwB,EAAI1C,EAAWyC,EACvBwuC,EAASvxC,EAAYwB,GACrB4xD,EAAWnzD,EAAcuB,GAEzB8nB,EAAKvmB,EAAImwD,EACT3pC,EAAKvmB,EAAImwD,EAGf,GAAe,OAAX5hB,EAAiB,CACjB,MAAM8hB,EAAOpsC,EAAc7P,KAAKZ,GAAQA,EAAKtX,KAAOqyC,GAChD8hB,IACIA,EAAKhsC,OAAOoE,OACR4nC,EAAKhsC,MAAMqE,MACXjJ,EAAIqK,UAAY,UACTumC,EAAKhsC,MAAMC,KAClB7E,EAAIqK,UAAY,UAEhBrK,EAAIqK,UAAY,OAIpBrK,EAAIqK,UAAY,UAEpBrK,EAAIsK,SAASzD,EAAIC,EAAIzkB,KAAKmY,KAAKi2C,GAAYpuD,KAAKmY,KAAKk2C,IAE7D,CAGA,GAAiB,OAAbC,EAAmB,CACnB,MAAME,EAAMrsC,EAAc7P,KAAKZ,GAAQA,EAAKtX,KAAOk0D,GAC/CE,IAEIA,EAAIxyD,MAAMgV,WAAW,aACrB2M,EAAIqK,UAAY,UACTwmC,EAAIxyD,MAAMgV,WAAW,SAC5B2M,EAAIqK,UAAY,UACTwmC,EAAIxyD,MAAMgV,WAAW,iBAC5B2M,EAAIqK,UAAY,UACI,WAAbwmC,EAAI3qD,KACX8Z,EAAIqK,UAAY,UAEhBrK,EAAIqK,UAAY,UAEpBrK,EAAIsK,SAASzD,EAAIC,EAAIzkB,KAAKmY,KAAKi2C,GAAYpuD,KAAKmY,KAAKk2C,IAE7D,CACJ,CAIJ1wC,EAAI8wC,YAAc,2BAClB9wC,EAAI+wC,UAAY,GAChB,IAAK,IAAIzwD,EAAI,EAAGA,GAAKzC,EAAUyC,IAC3B0f,EAAIgxC,YACJhxC,EAAIsC,OAAOhiB,EAAImwD,EAAW,GAC1BzwC,EAAIuC,OAAOjiB,EAAImwD,EAAWD,GAC1BxwC,EAAIwC,SAER,IAAK,IAAIjiB,EAAI,EAAGA,GAAKzC,EAAWyC,IAC5Byf,EAAIgxC,YACJhxC,EAAIsC,OAAO,EAAG/hB,EAAImwD,GAClB1wC,EAAIuC,OAAOguC,EAAchwD,EAAImwD,GAC7B1wC,EAAIwC,SAIR,GAAI9kB,EAAgB,CAChB,MAAMutD,EAAU,GACVC,EAAU,GAEhB,IAAK,IAAIxwC,EAAI,EAAGA,EAAI7c,EAAWC,EAAW4c,IAAK,CAC3C,MAAMje,EAAKe,EAAckd,GACzB,IAAKje,EAAI,SACT,MAAMuC,EAAWtB,EAAegd,GAChC,IAAK1b,GAAmC,OAAvBA,EAAS45C,gBAA6C15C,IAAvBF,EAAS45C,UAAyB,SAElF,MAAMqH,EAAM,CACR3/C,EAAIoa,EAAI7c,EAAY4yD,EAAYA,EAAY,EAC5ClwD,EAAG8B,KAAK2W,MAAM0B,EAAI7c,GAAY6yD,EAAaA,EAAa,GAGxDj0D,EAAGiD,SAAS,YAAcjD,EAAGiD,SAAS,UACtCurD,EAAQtrD,KAAK,CAAEi5C,UAAW55C,EAAS45C,UAAWqH,SACvCxjD,EAAGiD,SAAS,WAAoB,kBAAPjD,IAChCyuD,EAAQvrD,KAAK,CAAEi5C,UAAW55C,EAAS45C,UAAWqH,OAEtD,CAEAgL,EAAQzrD,QAAQyxD,IACZ,MAAM5/C,EAAS65C,EAAQv2C,KAAKvG,GAAKA,EAAEwqC,YAAcqY,EAAOrY,WACpDvnC,IACA2O,EAAIgxC,YACJhxC,EAAIkxC,YAAY,CAAC,EAAG,IACpBlxC,EAAI8wC,YAAc,OAClB9wC,EAAI+wC,UAAY,EAChB/wC,EAAIsC,OAAO2uC,EAAOhR,IAAI3/C,EAAG2wD,EAAOhR,IAAI1/C,GACpCyf,EAAIuC,OAAOlR,EAAO4uC,IAAI3/C,EAAG+Q,EAAO4uC,IAAI1/C,GACpCyf,EAAIwC,SACJxC,EAAIkxC,YAAY,MAG5B,GAED,CAACrzD,EAAUC,EAAWP,EAAaC,EAAeE,EAAgB8mB,KAGjExV,EAAAA,GAAAA,KAAA,UACIyC,IAAK6+C,EACL9vD,MAAO+vD,EACP9vD,OAAQ+vD,EACR5hD,MAAO,CACHpO,MAAO,OACPC,OAAQ,OACR6J,OAAQ,iBACRS,aAAc,MACdgH,gBAAiB,UACjBo/C,eAAgB,gBC/InBC,GAAaA,EACtBvzD,WACAC,YACAqjD,eAEA,MAAMkQ,GAAehhD,EAAAA,EAAAA,QAAO,OACrBi6C,EAAYK,IAAiBn6C,EAAAA,EAAAA,WAAS,IACtC8gD,EAAWC,IAAgB/gD,EAAAA,EAAAA,UAAS,CAAEhQ,MAAO3C,EAAU4C,OAAQ3C,KAC/D0zD,EAAeC,IAAoBjhD,EAAAA,EAAAA,UAAS,CAAElQ,EAAG,EAAGC,EAAG,IAGxDmxD,EAA0B,GAAX7zD,EACf8zD,EAA4B,GAAZ7zD,EA0CtB,OAhCAkT,EAAAA,EAAAA,WAAU,KACN,IAAKs5C,EAAY,OAEjB,MAAMyF,EAAmBlzD,IACrB,MAAM6rB,EAAK7rB,EAAEmkD,QAAUwQ,EAAclxD,EAC/BkoB,EAAK3rB,EAAEokD,QAAUuQ,EAAcjxD,EAG/BqxD,EAAUvvD,KAAK2I,MAAM0d,EAAK,IAC1BmpC,EAAUxvD,KAAK2I,MAAMwd,EAAK,IAE1BspC,EAAWzvD,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK+uD,EAAU9wD,MAAQoxD,IACvDG,EAAY1vD,KAAKC,IAAI,EAAGD,KAAKE,IAAI,IAAK+uD,EAAU7wD,OAASoxD,IAE3DC,IAAaj0D,GAAYk0D,IAAcj0D,GACvCqjD,EAAS2Q,EAAUC,IAIrBpgB,EAAgBA,KAClBgZ,GAAc,IAMlB,OAHAr5C,SAASC,iBAAiB,YAAaw+C,GACvCz+C,SAASC,iBAAiB,UAAWogC,GAE9B,KACHrgC,SAASE,oBAAoB,YAAau+C,GAC1Cz+C,SAASE,oBAAoB,UAAWmgC,KAE7C,CAAC2Y,EAAYkH,EAAeF,EAAWzzD,EAAUC,EAAWqjD,KAG3DxyC,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EAClEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ+2C,UAAW,UAAWpzC,SAAA,CAAC,cAC7DJ,EAAAA,GAAAA,MAAA,QAAMC,MAAO,CAAEsD,MAAO,WAAYnD,SAAA,CAAElR,EAAS,SAAIC,KAAiB,cAGhF6Q,EAAAA,GAAAA,MAAA,OACI8C,IAAK4/C,EACLziD,MAAO,CACH6rB,SAAU,WACVj6B,MAAOkxD,EAAe,KACtBjxD,OAAQkxD,EAAgB,KACxBrnD,OAAQ,oBACRyH,gBAAiB,UACjBhH,aAAc,MACd8D,QAAS,OACT8G,WAAY,SACZD,eAAgB,SAChBxK,SAAU,OACVgH,MAAO,UACP9G,WAAY,OACZm2C,WAAY,OACZ1yB,SAAU,OACVC,UAAW,QACb/f,SAAA,CAEDlR,EAAS,SAAIC,GAGdkR,EAAAA,GAAAA,KAAA,OACI6yC,YAtEehlD,IAC3BA,EAAE68B,iBACF78B,EAAE2hD,kBACFmM,GAAc,GACd4G,EAAa,CAAE/wD,MAAO3C,EAAU4C,OAAQ3C,IACxC2zD,EAAiB,CAAEnxD,EAAGzD,EAAEmkD,QAASzgD,EAAG1D,EAAEokD,WAkE1BryC,MAAO,CACH6rB,SAAU,WACVpE,QAAS,EACTE,OAAQ,EACR/1B,MAAO,OACPC,OAAQ,OACRsR,gBAAiB,UACjB6sC,OAAQ,cACR7zC,aAAc,MACdT,OAAQ,iBACRuyC,UAAW,4BACXhxC,OAAQ,UAKpB8C,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,OAAQiwC,UAAW,UAAWpzC,SAAA,CAAC,kDAC9BC,EAAAA,GAAAA,KAAA,SAAK,wCC/F5CgjD,GAAiBA,EAC1B7L,UACA8L,cACAC,kBACAC,UACAC,UACAvI,WACAwI,cACAC,WACAC,aACAC,aACAC,cACAC,cACA3I,aACA4I,gBACAjK,YACAkK,eACA9I,cACAK,YACA0I,gBACAC,eACAC,gBACAC,mBACAC,kBACAC,kBACAzK,eACA0K,sBACAC,SACA5lC,UACA4Q,WACA5oB,QACA69C,cACAC,gBACAC,UACAC,UACAC,oBACA7J,0BACA8J,6BACA/J,0BACAgK,6BACA3vD,2BACA4vD,8BACAC,eACAC,0BACAC,6BACAC,aACAC,eACAC,cACAC,eACAt2D,WACAC,YACAP,cACAC,gBACAE,iBACA02D,qBACA5vC,iBACA6vC,eACApK,oBACAqK,2BAEA,MAAOC,GAAaC,KAAkBhkD,EAAAA,EAAAA,UAAS,OACxCikD,GAAeC,KAAoBlkD,EAAAA,EAAAA,WAAS,IAC5C5J,GAAgB+tD,KAAqBnkD,EAAAA,EAAAA,WAAS,IAC9CokD,GAAoBC,KAAyBrkD,EAAAA,EAAAA,WAAS,GAEvDskD,GAAeC,IACjBP,GAAexpC,GAAQA,IAAS+pC,EAAQ,KAAOA,IAG7CC,GAAqB,CACvBx0D,MAAO,OACPC,OAAQ,OACRoO,QAAS,OACT8G,WAAY,SACZD,eAAgB,SAChBkpC,OAAQ,UACR7sC,gBAAiB,OACjBG,MAAO,OACP5H,OAAQ,iBACRS,aAAc,MACdi3C,aAAc,OACd92C,SAAU,OACV4xC,WAAY,gBACZD,UAAW,6BAGToY,GAA2B,IAC1BD,GACHjjD,gBAAiB,UACjB2Z,YAAa,UACbsyB,UAAW,eAGTsD,GAAa,CACf7mB,SAAU,WACVrE,IAAK,EACLE,KAAM,OACN91B,MAAO,QACPC,OAAQ,OACRsR,gBAAiB,OACjB8qC,UAAW,6BACXhxC,OAAQ,IACRgD,QAAS,OACT4G,cAAe,SACfy/C,YAAa,iBACb/W,UAAW,OACXlsC,QAAS,OACT67C,UAAW,cAaTqH,GAAmB,CACrBtmD,QAAS,OACT6G,eAAgB,gBAChBC,WAAY,SACZqsC,aAAc,OACd/D,aAAc,iBACdmX,cAAe,QAGbC,GAAkB,CACpBrjD,OAAQ,EACR9G,SAAU,OACVE,WAAY,OACZ8G,MAAO,QAELojD,GAAoBA,CAACvhD,EAAM7B,EAAOwkB,KACpC,MAAM6+B,KAAcxhD,EAAKE,SAAYG,MAAMC,QAAQN,EAAKI,WAAaJ,EAAKI,SAASU,OAAS,GACtF+b,EAAa7c,EAAK6c,WAClB4kC,KAAczhD,EAAK6Q,QAAS7Q,EAAK6Q,MAAMoE,QACvCysC,KAAa1hD,EAAK6Q,QAAS7Q,EAAK6Q,MAAMqE,OACtCvE,KAAY3Q,EAAK6Q,QAAS7Q,EAAK6Q,MAAMC,MACrC6wC,EAAyB,WAAd3hD,EAAK7N,KAChByvD,EAAcF,EACd,CAAEzrD,WAAY,2CACb0a,EAAS,CAAE1a,WAAY,2CAA8C,CAAEA,WAAY,QAE1F,OACIgF,EAAAA,GAAAA,KAAA,OAEII,QAASA,IAAM+jD,EAAoBp/C,EAAM2iB,GACzChlB,MAAOqC,EAAK1V,KACZuQ,MAAO,CACHtE,OAAQm+C,GAAchsD,KAAOsX,EAAKtX,GAAK,aAAayV,IAAU,iBAC9D0sC,OAAQ,UAAW3sC,QAAS,MAAOzR,MAAO,OAAQC,OAAQ,OAC1DoO,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SAAU3D,gBAAiB,OAClF0oB,SAAU,YACZ1rB,SAED2mD,GACG1mD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CACRpO,MAAO,OAAQC,OAAQ,OAAQsK,aAAc,EAC7C8D,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SACvD1L,WAAY+J,EAAKk6C,qBAAuBl6C,EAAKwrB,aAAe,qBAC5DrtB,MAAO,OAAQhH,SAAU,EAAGi3C,UAAW,SAAU9D,WAAY,IAAKjzC,WAAY,QAChF2D,SACGgF,EAAK6c,aAAgC,UAAjB7c,EAAKorB,QAAsB,QAAU,WAE9DvO,GACA5hB,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ8G,MAAO,QAASnD,SAC/D6hB,IAEL2kC,GACAvmD,EAAAA,GAAAA,KAAC+5C,GAAY,CACT50C,SAAUJ,EAAKI,SACfF,QAASF,EAAKE,QACd0F,MAAO5F,EAAKe,eACZooB,YAAanpB,EAAKmpB,YAClBtuB,MAAO,CAAE26C,SAAU,OAAQC,UAAW,OAAQuE,UAAW,WACzDz2C,IAAKvD,EAAK1V,QAGd2Q,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CACRpO,MAAO,OAAQC,OAAQ,OAAQsK,aAAc,EAC7C8D,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SAAUxD,MAAO,OACxEhH,SAAU,GAAIi3C,UAAW,SAAU9D,WAAY,OAC5CsX,GACL5mD,SACGymD,EAAYC,EAAU,QAAW/wC,EAAS,OAAS,MAAW3Q,EAAK1V,MAAQ,YAvC/E0V,EAAKtX,KA8ChBm5D,GAAcA,KAChB5mD,EAAAA,GAAAA,KAAA,OAAKI,QAASA,KAAQ+jD,EAAoB,KAAM,SAAYzhD,MAAM,4BAC9D9C,MAAO,CACHtE,OAA0B,OAAjBm+C,GAAyC,SAAhBqB,EAA0B,iBAAmB,iBAC/ElL,OAAQ,UAAW3sC,QAAS,MAAOzR,MAAO,OAAQC,OAAQ,OAC1DoO,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SACvD3D,gBAAiB,UAAW7G,SAAU,OAAQgH,MAAO,QACvDnD,SAAC,YAKL8mD,GAAeA,KACjB7mD,EAAAA,GAAAA,KAAA,OAAKI,QAASA,KAAQ+jD,EAAoB,KAAM,WAAczhD,MAAM,iCAChE9C,MAAO,CACHtE,OAA0B,OAAjBm+C,GAAyC,WAAhBqB,EAA4B,gBAAkB,iBAChFlL,OAAQ,UAAW3sC,QAAS,MAAOzR,MAAO,OAAQC,OAAQ,OAC1DoO,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SACvD3D,gBAAiB,UAAW7G,SAAU,OAAQgH,MAAO,OACvDnD,SAAC,YAKL+mD,GAAeA,KACjB9mD,EAAAA,GAAAA,KAAA,OAAKI,QAASA,KAAQ+jD,EAAoB,KAAM,WAAczhD,MAAM,gBAChE9C,MAAO,CACHtE,OAA0B,OAAjBm+C,GAAyC,WAAhBqB,EAA4B,mBAAqB,iBACnFlL,OAAQ,UAAW3sC,QAAS,MAAOzR,MAAO,OAAQC,OAAQ,OAC1DoO,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,SACvD3D,gBAAiB,UAAW7G,SAAU,OAAQgH,MAAO,UACvDnD,SAAC,YAMX,OACIJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,YAAaE,SAAA,EAEhCJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CACRpO,MAAO,OACPC,OAAQ,OACRsR,gBAAiB,OACjBlD,QAAS,OACT4G,cAAe,SACfE,WAAY,SACZogD,WAAY,OACZlqD,OAAQ,IACRqpD,YAAa,iBACbr/C,WAAY,GACd9G,SAAA,EACEC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAM0lD,GAAY,OAAQlmD,MAAuB,QAAhB2lD,GAAwBU,GAA2BD,GAAoBtjD,MAAM,eAAc3C,SAAC,kBAC3IC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAM0lD,GAAY,SAAUlmD,MAAuB,UAAhB2lD,GAA0BU,GAA2BD,GAAoBtjD,MAAM,QAAO3C,SAAC,wBACxIC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAM0lD,GAAY,WAAYlmD,MAAuB,YAAhB2lD,GAA4BU,GAA2BD,GAAoBtjD,MAAM,UAAS3C,SAAC,kBAC9IC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAM0lD,GAAY,MAAOlmD,MAAuB,OAAhB2lD,GAAuBU,GAA2BD,GAAoBtjD,MAAM,qBAAoB3C,SAAC,wBAC/IC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAM0lD,GAAY,SAAUlmD,MAAuB,UAAhB2lD,GAA0BU,GAA2BD,GAAoBtjD,MAAM,aAAY3C,SAAC,kBAC7IC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAM0lD,GAAY,SAAUlmD,MAAuB,UAAhB2lD,GAA0BU,GAA2BD,GAAoBtjD,MAAM,oBAAmB3C,SAAC,oBAIvI,QAAhBwlD,KACG5lD,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,GAAWvyC,SAAA,EACnBJ,EAAAA,GAAAA,MAAA,OAAKC,MAAOumD,GAAiBpmD,SAAA,EACzBC,EAAAA,GAAAA,KAAA,MAAIJ,MAAOymD,GAAgBtmD,SAAC,kBAC5BC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMolD,GAAe,MAAO5lD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,eAEvFJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EAClEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEqD,QAAS,OAAQF,gBAAiB,UAAWhH,aAAc,MAAOT,OAAQ,kBAAmByE,SAAA,EACvGJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQ82C,aAAc,OAAQjzC,SAAA,CAAC,SAAKC,EAAAA,GAAAA,KAAA,UAAAD,SAASo3C,QACrEx3C,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,QAAS6D,SAAA,CAAC,YAAQC,EAAAA,GAAAA,KAAA,UAAAD,SAASkjD,WAGvDtjD,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SAAA,EAC1DC,EAAAA,GAAAA,KAAA,UAAQI,QAAS8iD,EAAiBtjD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,OAAQwZ,YAAa,UAAWwyB,KAAM,KAAMnvC,SAAC,SAC3IC,EAAAA,GAAAA,KAAA,UAAQI,QAAS+iD,EAASvjD,MAAO,IAAK6yC,GAAavD,KAAM,KAAMnvC,SAAC,UAChEJ,EAAAA,GAAAA,MAAA,SAAOC,MAAO,IAAK6yC,GAAavD,KAAM,KAAMnvC,SAAA,CAAC,SAAKC,EAAAA,GAAAA,KAAA,SAAO9I,KAAK,OAAOogD,OAAO,aAAa7H,SAAU2T,EAASxjD,MAAO,CAAEC,QAAS,iBAGlIF,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SAAA,EAC1DC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMylD,IAAuBD,IAAqBhmD,MAAO,IAAMgmD,GAAqBvG,GAAoB5M,GAAcvD,KAAM,KAAOxsC,MAAM,aAAY3C,SAAC,yBACvKJ,EAAAA,GAAAA,MAAA,UAAQS,QAASA,IAAMijD,GAAaxI,GAAWj7C,MAAO,IAAMi7C,EAAWwE,GAAoB5M,GAAcvD,KAAM,KAAMnvC,SAAA,CAAE86C,EAAW,YAAc,YAAY,SAC5J76C,EAAAA,GAAAA,KAAA,UAAQI,QAASkjD,EAAU1jD,MAAO,IAAK6yC,GAAavvC,MAAO,MAAOgsC,KAAM,KAAOxsC,MAAM,YAAW3C,SAAC,qBAGrGJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEguC,UAAW,iBAAkBmZ,WAAY,OAAQzT,UAAW,OAAQvzC,SAAA,EAC9EC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ42C,aAAc,QAASjzC,SAAC,eAC5EC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SACtCwjD,GAGE5jD,EAAAA,GAAAA,MAAAuzC,GAAAA,SAAA,CAAAnzC,SAAA,EACIC,EAAAA,GAAAA,KAAA,UAAQI,QAASqjD,EAAa7jD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,OAAQwZ,YAAa,UAAWwyB,KAAM,IAAKz9C,OAAQ,QAAUiR,MAAM,6BAA4B3C,SAAC,kBAC1LC,EAAAA,GAAAA,KAAA,UAAQI,QAASsjD,EAAa9jD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,OAAQwZ,YAAa,UAAWwyB,KAAM,IAAKz9C,OAAQ,QAAUiR,MAAM,0BAAyB3C,SAAC,qBAJ3LC,EAAAA,GAAAA,KAAA,UAAQI,QAASojD,EAAY5jD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,OAAQwZ,YAAa,UAAWwyB,KAAM,IAAKz9C,OAAQ,OAAQyK,SAAU,QAAUwG,MAAM,6BAA4B3C,SAAC,2BAalN,UAAhBwlD,KACG5lD,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,GAAWvyC,SAAA,EACnBJ,EAAAA,GAAAA,MAAA,OAAKC,MAAOumD,GAAiBpmD,SAAA,EACzBC,EAAAA,GAAAA,KAAA,MAAIJ,MAAOymD,GAAgBtmD,SAAC,mBAC5BC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMolD,GAAe,MAAO5lD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,cAEtFwjD,GACGvjD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEqD,QAAS,OAAQ/G,SAAU,OAAQgH,MAAO,OAAQiwC,UAAW,SAAUpwC,gBAAiB,UAAWhH,aAAc,OAAQgE,SAAC,qCAIxIJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EAClEJ,EAAAA,GAAAA,MAAA,WAAAI,SAAA,EACIC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,OAAQ9vC,MAAO,QAASnD,SAAC,mBAC9GJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,QAASC,SAAA,EACzCC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMujD,EAAc,SAAU/jD,MAAO,IAAqB,UAAfm7C,EAAyBsE,GAAoB5M,GAAcjhD,MAAO,OAAQC,OAAQ,OAAQyK,SAAU,OAAQ8G,OAAQ,GAAIjD,SAAC,wBACrLC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMujD,EAAc,UAAW/jD,MAAO,IAAqB,WAAfm7C,EAA0BsE,GAAoB5M,GAAcjhD,MAAO,OAAQC,OAAQ,OAAQyK,SAAU,OAAQ8G,OAAQ,GAAIjD,SAAC,kBACvLC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMujD,EAAc,QAAS/jD,MAAO,IAAqB,SAAfm7C,EAAwBsE,GAAoB5M,GAAcjhD,MAAO,OAAQC,OAAQ,OAAQyK,SAAU,OAAQ8G,OAAQ,GAAIjD,SAAC,iBAI3K,UAAfg7C,IACGp7C,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEmD,gBAAiB,UAAWE,QAAS,OAAQlH,aAAc,OAAQgE,SAAA,EACjFC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,QAASjzC,SAAC,gBAC/FC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SACvC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGzS,IAAI2nB,IACjBjV,EAAAA,GAAAA,KAAA,UAAmBI,QAASA,IAAMwjD,EAAa3uC,GAC3CrV,MAAO,IAAM85C,IAAczkC,EAAOoqC,GAAoB5M,GAAcxvC,QAAS,SAAU4c,SAAU,OAAQpuB,OAAQ,QAASsO,SACzHkV,GAFQA,UAS7BjV,EAAAA,GAAAA,KAAA,WAASJ,MAAO,CAAEqD,QAAS,OAAQF,gBAAiC,SAAhB+3C,EAAyB,UAA6B,WAAhBA,EAA2B,UAAY,UAAY/+C,aAAc,MAAOT,OAAQ,kBAAmByE,UACzLJ,EAAAA,GAAAA,MAAA,QAAMC,MAAO,CAAE1D,SAAU,QAAS6D,SAAA,CAAC,kBAAcC,EAAAA,GAAAA,KAAA,UAAAD,SAAyB,SAAhB+6C,EAAyB,0BAAmC,WAAhBA,EAA2B,uBAAe,8BAGpI,SAAfC,IACGp7C,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEmD,gBAAiB,UAAWE,QAAS,OAAQlH,aAAc,MAAOT,OAAQ,qBAAsByE,SAAA,EAC9GC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,QAASjzC,SAAC,oBAC/FJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SAAA,EACxCC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAM4jD,EAAiB,OAAQpkD,MAAO,IAAwB,QAAlBmkD,EAA0B1E,GAAoB5M,GAAcvD,KAAM,GAAInvC,SAAC,sBACpIC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAM4jD,EAAiB,QAASpkD,MAAO,IAAwB,SAAlBmkD,EAA2B1E,GAAoB5M,GAAcvD,KAAM,GAAInvC,SAAC,4BAKlI,SAAfg7C,GAAyBI,IACtBx7C,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEqD,QAAS,OAAQF,gBAAiB,UAAWhH,aAAc,MAAOT,OAAQ,qBAAsByE,SAAA,EAC9GC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQ2D,QAAS,QAASmzC,aAAc,MAAO52C,WAAY,QAAS2D,SAAC,sBAC9FJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQ82C,aAAc,OAAQ3D,WAAY,OAAQtvC,SAAA,CAAC,wCACxCC,EAAAA,GAAAA,KAAA,SAAK,iBAC5BA,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,UAAc,eAAWC,EAAAA,GAAAA,KAAA,SAAK,iBACtCA,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,QAAY,iBAEhCJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAUE,WAAY,SAAU7G,IAAK,OAAQC,SAAA,EACvFC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMyjD,EAAc,GAAI,GAAIjkD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,YACnFJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SAAA,EACxCC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMyjD,GAAe,EAAG,GAAIjkD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,YACnFC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMyjD,EAAc,EAAG,GAAIjkD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,eAEtFC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMyjD,EAAc,EAAG,GAAIjkD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,eAEtFJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,MAAOwzC,UAAW,QAASvzC,SAAA,EAC3DC,EAAAA,GAAAA,KAAA,UAAQI,QAAS6jD,EAAiBrkD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,OAAQgsC,KAAM,EAAGz9C,OAAQ,QAASsO,SAAC,oBACjIC,EAAAA,GAAAA,KAAA,UAAQI,QAAS8jD,EAAiBtkD,MAAO,IAAK6yC,GAAa1vC,gBAAiB,UAAWG,MAAO,OAAQgsC,KAAM,EAAGz9C,OAAQ,QAASsO,SAAC,yBAK7IJ,EAAAA,GAAAA,MAAA,WAAAI,SAAA,EACIC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,OAAQ9vC,MAAO,QAASnD,SAAC,aAC9GJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SAAA,EACxCC,EAAAA,GAAAA,KAAC4mD,GAAW,KACZ5mD,EAAAA,GAAAA,KAAC6mD,GAAY,KACb7mD,EAAAA,GAAAA,KAAC8mD,GAAY,gBAQpB,YAAhBvB,KACG5lD,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,GAAWvyC,SAAA,EACnBJ,EAAAA,GAAAA,MAAA,OAAKC,MAAOumD,GAAiBpmD,SAAA,EACzBC,EAAAA,GAAAA,KAAA,MAAIJ,MAAOymD,GAAgBtmD,SAAC,aAC5BC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMolD,GAAe,MAAO5lD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,cAEtFwjD,GACGvjD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEqD,QAAS,OAAQ/G,SAAU,OAAQgH,MAAO,OAAQiwC,UAAW,SAAUpwC,gBAAiB,UAAWhH,aAAc,OAAQgE,SAAC,uCAIxIJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EAClEC,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,sBAAsBs9C,eAAe,EAAKjgD,UAC5DC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDqkD,EAAO92D,IAAIsjB,GAAK01C,GAAkB11C,EAAG,OAAQ,cAItD5Q,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,mBAAmBs9C,eAAe,EAAMjgD,UAC1DC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDye,EAAQlxB,IAAI25D,GAAMX,GAAkBW,EAAI,OAAQ,cAIzDjnD,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,qBAAqBs9C,eAAe,EAAKjgD,UAC3DC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDqvB,EAAS9hC,IAAIO,GAAKy4D,GAAkBz4D,EAAG,MAAO,gBAIvDmS,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,cAAcs9C,eAAe,EAAKjgD,UACpDC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDskD,GAAeA,EAAY/2D,IAAI0nB,GAAKsxC,GAAkBtxC,EAAG,SAAU,gBAI5EhV,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,kBAAkBs9C,eAAe,EAAKjgD,UACxDC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDyG,EAAMlZ,IAAIoe,GAAK46C,GAAkB56C,EAAG,QAAS,gBAItD1L,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,gBAAgBs9C,eAAe,EAAKjgD,UACtDC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDukD,EAAch3D,IAAIoe,GAAK46C,GAAkB56C,EAAG,SAAU,gBAI/D1L,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,UAAUs9C,eAAe,EAAKjgD,UAChDC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDwkD,EAAQj3D,IAAIkhB,GAAK83C,GAAkB93C,EAAG,SAAU,gBAIzDxO,EAAAA,GAAAA,KAACmhD,GAAc,CAACz+C,MAAM,UAAUs9C,eAAe,EAAMjgD,UACjDC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQmnD,SAAU,OAAQlnD,IAAK,OAAQC,SACzDykD,GAAWA,EAAQl3D,IAAIunB,GAAKyxC,GAAkBzxC,EAAG,SAAU,qBAQnE,OAAhB0wC,KACG5lD,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,GAAWvyC,SAAA,EACnBJ,EAAAA,GAAAA,MAAA,OAAKC,MAAOumD,GAAiBpmD,SAAA,EACzBC,EAAAA,GAAAA,KAAA,MAAIJ,MAAOymD,GAAgBtmD,SAAC,wBAC5BC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMolD,GAAe,MAAO5lD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,eAEvFJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EAClEJ,EAAAA,GAAAA,MAAA,WAAAI,SAAA,EACIC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,QAASjzC,SAAC,sBAC/FJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ88C,oBAAqB,iBAAkB78C,IAAK,QAASC,SAAA,EAChFJ,EAAAA,GAAAA,MAAA,OAAKS,QAASA,IAAMskD,EAA2B,MAC3C9kD,MAAO,CACHtE,OAAQs/C,EAA0B,iBAAmB,oBACrD7+C,aAAc,MAAOkH,QAAS,MAAO2sC,OAAQ,UAAW50C,WAAY,OACpE6yC,UAAY+M,EAA8D,OAApC,mCAE1Cl4C,MAAM,cAAa3C,SAAA,EACnBC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEpO,MAAO,OAAQC,OAAQ,OAAQuJ,WAAY2/C,EAAyB96C,QAAS,QAAS9D,aAAc,UAClHiE,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQi3C,UAAW,SAAU4T,WAAY,MAAO3qD,WAAaw+C,EAAmC,SAAT,QAAoB76C,SAAC,mBAEvI0kD,EAAkBn3D,IAAK07B,IACpBrpB,EAAAA,GAAAA,MAAA,OAAmBS,QAASA,IAAMskD,EAA2B17B,EAAGlC,UAC5DlnB,MAAO,CACHtE,OAAQs/C,IAA4B5xB,EAAGlC,SAAW,oBAAsB,iBACxE/qB,aAAc,MAAOkH,QAAS,MAAO2sC,OAAQ,UAAW50C,WAAY,OACpE6yC,UAAW+M,IAA4B5xB,EAAGlC,SAAW,kCAAoC,QAE7FpkB,MAAOsmB,EAAG35B,KAAK0Q,SAAA,EACfC,EAAAA,GAAAA,KAAA,OAAKqI,IAAK2gB,EAAG3gB,IAAKC,IAAK0gB,EAAG35B,KAAMuQ,MAAO,CAAEpO,MAAO,OAAQC,OAAQ,OAAQstD,UAAW,QAASl/C,QAAS,QAAS9D,aAAc,UAC5HiE,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQi3C,UAAW,SAAU4T,WAAY,MAAO3qD,WAAYw+C,IAA4B5xB,EAAGlC,SAAW,OAAS,UAAW/mB,SAAEipB,EAAG35B,SARjJ25B,EAAG35B,cAczBsQ,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEmD,gBAAiB,UAAWE,QAAS,OAAQlH,aAAc,MAAOT,OAAQ,kBAAmByE,SAAA,EAC3GJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEozC,aAAc,QAASjzC,SAAA,EACjCC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,OAAQjzC,SAAC,sBAC/FJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,QAASC,SAAA,EAC/DC,EAAAA,GAAAA,KAAA,SAAO9I,KAAK,QAAQ3D,IAAI,IAAID,IAAI,IAAImiC,KAAK,OAAOn+B,MAAOtC,EACnDy6C,SAAW5hD,GAAM+2D,EAA4BvzB,WAAWxjC,EAAEwU,OAAO/K,QACjEsI,MAAO,CAAEsvC,KAAM,MACnBlvC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyjB,SAAU,QAAS9f,SAAE/K,EAAyBo+C,QAAQ,YAGnHzzC,EAAAA,GAAAA,MAAA,OAAAI,SAAA,EACIC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,OAAQjzC,SAAC,uBAC/FJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,QAASC,SAAA,EAC/DC,EAAAA,GAAAA,KAAA,SAAO9I,KAAK,QAAQI,MAAOqjD,EACvBlL,SAAW5hD,GAAM82D,EAA2B92D,EAAEwU,OAAO/K,OACrDsI,MAAO,CAAEpO,MAAO,OAAQC,OAAQ,OAAQ6J,OAAQ,OAAQ2H,QAAS,EAAG2sC,OAAQ,cAChF5vC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQyxC,WAAY,aAAc5tC,SAAE46C,EAAwBtZ,0BAKjG1hC,EAAAA,GAAAA,MAAA,WAASC,MAAO,CAAEguC,UAAW,iBAAkBmZ,WAAY,QAAShnD,SAAA,EAChEC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQyD,QAAS,QAASmzC,aAAc,QAASjzC,SAAC,sBAC/FJ,EAAAA,GAAAA,MAAA,UACIrI,MAAOwtD,GAA2B,GAClCrV,SAAW5hD,GAAMk3D,EAA2Bl3D,EAAEwU,OAAO/K,OAAS,MAC9DsI,MAAO,CAAEpO,MAAO,OAAQyR,QAAS,OAAQlH,aAAc,MAAOT,OAAQ,iBAAkBY,SAAU,OAAQ82C,aAAc,QAASjzC,SAAA,EACjIC,EAAAA,GAAAA,KAAA,UAAQ1I,MAAM,GAAEyI,SAAC,2BAChB8kD,EAAav3D,IAAIwb,IACd9I,EAAAA,GAAAA,KAAA,UAAqB1I,MAAOwR,EAAEge,SAAS/mB,SAAE+I,EAAEzZ,MAA9ByZ,EAAEzZ,WAGvB2Q,EAAAA,GAAAA,KAACi0C,GAAqB,CAACntB,SAAUg+B,EAAyBnwD,SAAS,EAAMwC,OAAQ,MACjFwI,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,OAAQgkD,UAAW,UAAWnnD,SAAA,CAAC,WACzD+kD,EAA0B,iBAAmB,sBAOzD,UAAhBS,KACG5lD,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,GAAWvyC,SAAA,EACnBJ,EAAAA,GAAAA,MAAA,OAAKC,MAAOumD,GAAiBpmD,SAAA,EACzBC,EAAAA,GAAAA,KAAA,MAAIJ,MAAOymD,GAAgBtmD,SAAC,gBAC5BC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMolD,GAAe,MAAO5lD,MAAO,IAAK6yC,GAAazvC,OAAQ,GAAIjD,SAAC,eAEvFJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EAClEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEqD,QAAS,OAAQF,gBAAiB,UAAWhH,aAAc,MAAOT,OAAQ,qBAAsByE,SAAA,EAC1GJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQ82C,aAAc,OAAQjzC,SAAA,CAAC,oBAAgBC,EAAAA,GAAAA,KAAA,UAAAD,SAASilD,IAAoB,aACpGrlD,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,WAAYnD,SAAA,CAAC,eAAalR,EAAS,MAAIC,SAElF6Q,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ88C,oBAAqB,UAAW78C,IAAK,QAASC,SAAA,EACzEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEqD,QAAS,OAAQF,gBAAiB,UAAWhH,aAAc,MAAOT,OAAQ,oBAAqB63C,UAAW,UAAWpzC,SAAA,EAC/HC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ8G,MAAO,WAAYnD,SAAEklD,KACzEjlD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,QAASnD,SAAC,sBAErDJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEqD,QAAS,OAAQF,gBAAiB,UAAWhH,aAAc,MAAOT,OAAQ,oBAAqB63C,UAAW,UAAWpzC,SAAA,EAC/HC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ8G,MAAO,WAAYnD,SAAEolD,KACzEnlD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,QAASnD,SAAC,mBAGzDJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEqD,QAAS,OAAQF,gBAAiB,UAAWhH,aAAc,MAAOT,OAAQ,iBAAkB63C,UAAW,UAAWpzC,SAAA,EACxHC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,OAAQ8G,MAAO,QAASnD,SAAEmlD,KACtEllD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,QAASnD,SAAC,yBAMpD,UAAhBwlD,KACG5lD,EAAAA,GAAAA,MAAA,OAAKC,MAAO0yC,GAAWvyC,SAAA,EACnBJ,EAAAA,GAAAA,MAAA,OAAKC,MAAOumD,GAAiBpmD,SAAA,EACzBC,EAAAA,GAAAA,KAAA,MAAIJ,MAAO,CAAEoD,OAAQ,GAAIjD,SAAC,uBAC1BC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAMolD,GAAe,MAAO5lD,MAAO,CAAEgwC,OAAQ,WAAY7vC,SAAC,eAE5EJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEqD,QAAS,UAAWlD,SAAA,EAC9BJ,EAAAA,GAAAA,MAAA,KAAGC,MAAO,CAAE1D,SAAU,OAAQgH,MAAO,OAAQmsC,WAAY,OAAQtvC,SAAA,CAAC,+CAE9DC,EAAAA,GAAAA,KAAA,UACAA,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,OAAW,aAASC,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,WAAe,WAAOC,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,kBAAsB,sBACxFC,EAAAA,GAAAA,KAAA,UACAA,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,OAAW,kCAA8BC,EAAAA,GAAAA,KAAA,UAAAD,SAAQ,oBAAwB,UACjFC,EAAAA,GAAAA,KAAA,UACAA,EAAAA,GAAAA,KAAA,KAAGJ,MAAO,CAAE1D,SAAU,QAAS6D,SAAC,gFAEpCJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAE46C,UAAW,sBAAuBrL,UAAW,QAASpvC,SAAA,CAC/DvR,EAAclB,IAAI,CAACG,EAAIsC,KACpB,IAAKtC,EAAI,OAAO,KAChB,MAAMkoB,EAAMH,GAAc7P,KAAKC,GAAKA,EAAEnY,KAAOA,GAC7C,IAAKkoB,IAASloB,EAAGiD,SAAS,YAAcjD,EAAGiD,SAAS,WAAoB,kBAAPjD,EAAyB,OAAO,KAEjG,MAAM6D,EAAIvB,EAAQlB,EACZ0C,EAAI8B,KAAK2W,MAAMja,EAAQlB,GACvBmB,EAAWtB,EAAeqB,IAAU,CAAC,EACrCyuD,EAAgBvD,KAAqBlrD,EAE3C,OACI4P,EAAAA,GAAAA,MAAA,OACIk/C,aAAcA,IAAMyG,GAAoBv1D,GACxC8rD,aAAcA,IAAMyJ,GAAoB,MACxC1lD,MAAO,CACHqD,QAAS,OACT3H,OAAQkjD,EAAgB,iBAAmB,iBAC3C3+C,QAAS,OACT4G,cAAe,SACf3G,IAAK,MACLiD,gBAAiBy7C,EAAgB,UAAY,UAC7CxL,aAAc,MACdj3C,aAAc,MACd+xC,WAAY,iBACd/tC,SAAA,EAEFJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAExD,WAAY,OAAQF,SAAU,OAAQ2D,QAAS,OAAQ6G,eAAgB,gBAAiBC,WAAY,UAAW5G,SAAA,EACzHJ,EAAAA,GAAAA,MAAA,QAAMC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,OAAQC,SAAA,CAC9DtS,EAAGiD,SAAS,YAAcjD,EAAGiD,SAAS,UAAY,eAAO,eAAK,IAAEilB,EAAItmB,SAEzEsQ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,IAAK,MAAO6G,WAAY,UAAW5G,SAAA,EAC9DJ,EAAAA,GAAAA,MAAA,QAAMC,MAAO,CAAEsD,MAAO,OAAQhH,SAAU,QAAS6D,SAAA,CAAC,IAAEzO,EAAE,KAAGC,EAAE,QAC3DyO,EAAAA,GAAAA,KAAA,UACII,QAASA,KACL,MAAM+mD,EAAK7kD,SAAS8kD,cAAc,aAClC,GAAID,EAAI,CACJ,MAAME,EAAc,GAAJ/1D,EAAS61D,EAAGG,YAAc,EAAI,GACxCC,EAAc,GAAJh2D,EAAS41D,EAAGK,aAAe,EAAI,GAC/CL,EAAGM,SAAS,CAAEngC,KAAM+/B,EAASjgC,IAAKmgC,EAASG,SAAU,UACzD,GAEJ9nD,MAAO,CACHqD,QAAS,UAAW/G,SAAU,OAAQ0zC,OAAQ,UAC9C7sC,gBAAiB,OAAQzH,OAAQ,iBAAkBS,aAAc,OAErE2G,MAAM,wBAAuB3C,SAChC,kBAKTJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAU7G,IAAK,QAASC,SAAA,EAC/DC,EAAAA,GAAAA,KAAA,SAAOJ,MAAO,CAAE1D,SAAU,OAAQE,WAAY,QAAS2D,SAAC,iBACxDC,EAAAA,GAAAA,KAAA,SACI9I,KAAK,SACLI,MAAOtH,EAAS45C,WAAa,GAC7B6F,SAAW5hD,IACP,MAAM4mD,EAAMz0B,SAASnyB,EAAEwU,OAAO/K,OAC9B8tD,GAAkBppC,IAAQ,IACnBA,EACH,CAACjsB,GAAQ,IAAKisB,EAAKjsB,GAAQ65C,UAAW1a,MAAMulB,GAAO,KAAOA,OAGlE70C,MAAO,CACHsvC,KAAM,EACNjsC,QAAS,UACT3H,OAAQ,iBACRS,aAAc,MACdG,SAAU,OACV6G,gBAAiBy7C,EAAgB,OAAS,WAE9C9O,YAAY,2BA5Dd3/C,KAkE6E,IAA9FvB,EAAc0F,OAAOzG,GAAMA,IAAOA,EAAGiD,SAAS,WAAajD,EAAGiD,SAAS,YAAYmV,SAChF7F,EAAAA,GAAAA,KAAA,KAAGJ,MAAO,CAAEuzC,UAAW,SAAUjwC,MAAO,OAAQowC,UAAW,OAAQp3C,SAAU,QAAS6D,SAAC,kDAU3GJ,EAAAA,GAAAA,MAAA,OAAKC,MAjiBa,CACtB6rB,SAAU,WACVrE,IAAK,OACLG,MAAO,OACP1nB,QAAS,OACT4G,cAAe,SACf3G,IAAK,OACLjD,OAAQ,KA0hB0BkD,SAAA,EAC1BC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAMslD,IAAkBD,IAAgB7lD,MAAO6lD,GAAgBQ,GAA2BD,GAAoBtjD,MAAM,UAAS3C,SAAC,wBAC5IC,EAAAA,GAAAA,KAAA,OAAKI,QAASA,IAAMulD,IAAmB/tD,IAAiBgI,MAAOhI,GAAiBquD,GAA2BD,GAAoBtjD,MAAM,WAAU3C,SAAC,0BAInJ0lD,KACGzlD,EAAAA,GAAAA,KAAC6/C,GAAe,CACZn9C,MAAM,UACNo9C,gBAAiB,CAAExuD,EAAGgH,OAAOm5C,WAAa,IAAKlgD,EAAG,IAClDwuD,aAAc,IACdC,eAAe,EACfvR,QAASA,IAAMiX,IAAiB,GAAO3lD,UAEvCC,EAAAA,GAAAA,KAACqhD,GAAO,CACJxyD,SAAUA,EACVC,UAAWA,EACXP,YAAaA,EACbC,cAAeA,EACfE,eAAgBA,EAChB8mB,cAAeA,OAK1B5d,KACGoI,EAAAA,GAAAA,KAAC6/C,GAAe,CACZn9C,MAAM,kBACNo9C,gBAAiB,CAAExuD,EAAGgH,OAAOm5C,WAAa,IAAKlgD,EAAG,KAClDwuD,aAAc,IACdC,eAAe,EACfvR,QAASA,IAAMkX,IAAkB,GAAO5lD,UAExCJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ4G,cAAe,SAAU3G,IAAK,QAASC,SAAA,EACjEJ,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,iBAAkB3G,SAAA,EACpFC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,QAAS6D,SAAC,gBACnCC,EAAAA,GAAAA,KAAA,UAAQI,QAASA,IAAMijD,GAAaxI,GAAWj7C,MAAOi7C,EAAWwE,GAAoB5M,GAAY1yC,SAC5F86C,EAAW,KAAO,YAG3Bl7C,EAAAA,GAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQ8G,WAAY,SAAUD,eAAgB,iBAAkB3G,SAAA,EACnFC,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE1D,SAAU,QAAS6D,SAAC,iBACnCC,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEC,QAAS,OAAQC,IAAK,OAAQC,SACvC,CAAC,EAAG,EAAG,EAAG,EAAG,GAAGzS,IAAIunB,IACjB7U,EAAAA,GAAAA,KAAA,UAAgBI,QAASA,IAAMwjD,EAAa/uC,GAAIjV,MAAO,IAAM85C,IAAc7kC,EAAIwqC,GAAoB5M,GAAc5yB,SAAU,OAAQ5c,QAAS,GAAIlD,SAAE8U,GAArIA,UAIzB7U,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEguC,UAAW,iBAAkBmZ,WAAY,OAAQzT,UAAW,OAAQvzC,UAC9EC,EAAAA,GAAAA,KAAA,UAAQI,QAASkjD,EAAU1jD,MAAO,IAAK6yC,GAAavvC,MAAO,MAAO1R,MAAO,QAASuO,SAAC,mCAOlG6lD,KACG5lD,EAAAA,GAAAA,KAAC6/C,GAAe,CACZn9C,MAAM,aACNo9C,gBAAiB,CAAExuD,EAAG,IAAKC,EAAG,KAC9BwuD,aAAc,IACdC,eAAe,EACfvR,QAASA,IAAMoX,IAAsB,GAAO9lD,UAE5CC,EAAAA,GAAAA,KAACoiD,GAAU,CACPvzD,SAAUA,EACVC,UAAWA,EACXqjD,SAAUkT,WC/sB5BriC,GAAc,GACdC,GAAe,CAAC,EAET0kC,GAASA,KAElB,MAAMnyC,GAAgBmR,EAAAA,EAAAA,SAAQ,IAAMrgB,MAAiB,GAAI,IACnD8b,GAAgBuE,EAAAA,EAAAA,SAAQ,IAAMnR,EAAc7P,KAAKZ,GAAoB,WAAZA,EAAKtX,KAAoBw1B,GAAc,CAACzN,KAGhG3mB,EAAU+4D,IAAepmD,EAAAA,EAAAA,UAAS,KAClC1S,EAAW+4D,IAAgBrmD,EAAAA,EAAAA,UAAS,KACpCjT,EAAau5D,IAAkBtmD,EAAAA,EAAAA,UAAS,KACxChT,EAAeu5D,IAAoBvmD,EAAAA,EAAAA,UAAS,KAC5C/S,EAAeu5D,IAAoBxmD,EAAAA,EAAAA,UAAS,KAC5C9S,EAAgB02D,IAAqB5jD,EAAAA,EAAAA,UAAS,CAAC,IAC/Ci4C,EAAcwO,IAAmBzmD,EAAAA,EAAAA,UAAS,OAC1Cq5C,EAAUwI,IAAe7hD,EAAAA,EAAAA,WAAS,IAElC85C,EAAYK,IAAiBn6C,EAAAA,EAAAA,WAAS,IACtCk4C,EAAWkK,IAAgBpiD,EAAAA,EAAAA,UAAS,IACpCu5C,EAAY4I,IAAiBniD,EAAAA,EAAAA,UAAS,UAEtC25C,EAAW2I,IAAgBtiD,EAAAA,EAAAA,UAAS,OACpCw5C,EAAYkN,IAAiB1mD,EAAAA,EAAAA,UAAS,OACtCs5C,EAAaqN,IAAkB3mD,EAAAA,EAAAA,UAAS,SACxC65C,EAAW+M,IAAgB5mD,EAAAA,EAAAA,UAAS,OACpC05C,EAAsBmN,IAA2B7mD,EAAAA,EAAAA,UAAS,IAAIga,MAC9DuoC,EAAeC,IAAoBxiD,EAAAA,EAAAA,UAAS,QAC5C8mD,EAAmBC,IAAwB/mD,EAAAA,EAAAA,WAAS,IACpD45C,EAAiBoN,IAAsBhnD,EAAAA,EAAAA,UAAS,OAChDinD,EAAiBC,IAAsBlnD,EAAAA,EAAAA,UAAS,MACjDmnD,GAAiBtnD,EAAAA,EAAAA,QAAO,MACxBunD,GAAWvnD,EAAAA,EAAAA,QAAO,CAAExS,WAAUC,YAAWP,cAAaC,gBAAeC,gBAAeC,oBAGnFyoD,EAAS0R,IAAcrnD,EAAAA,EAAAA,UAAS,YAChCyhD,EAAa6F,IAAkBtnD,EAAAA,EAAAA,UAAS,cACxCunD,EAAWC,IAAgBxnD,EAAAA,EAAAA,UAAS,OACpCy5C,EAAkBqK,KAAuB9jD,EAAAA,EAAAA,UAAS,OAClDynD,GAAmBC,KAAwB1nD,EAAAA,EAAAA,WAAS,IACpDg+C,GAAaC,KAAkBj+C,EAAAA,EAAAA,UAAS,KACxCk+C,GAAiBC,KAAsBn+C,EAAAA,EAAAA,UAAS,IAMjDijD,IAAoB99B,EAAAA,EAAAA,SAAQ,IC3DDwiC,MACjC,MAAMtiC,EAAYjjB,EAAAA,MAClB,OAAOijB,EAAU74B,OAAOV,IAAK+J,IACzB,MAAMwN,EAAMgiB,EAAUxvB,GAChBwR,EAAMhE,EAAIN,SAAWM,EACrBxV,EAAOgI,EAAI8M,QAAQ,KAAM,IAC/B,MAAO,CAAE9M,MAAKhI,OAAMgZ,IAAKQ,EAAKie,SAAU,sBAAsBz3B,QDqD1B85D,GAAyB,IAC3DtE,IAAel+B,EAAAA,EAAAA,SAAQ,IClDDyiC,MAC5B,MAAMhV,EAAexwC,EAAAA,MACrB,OAAOwwC,EAAapmD,OAAOV,IAAK+J,IAC5B,MAAMwN,EAAMuvC,EAAa/8C,GACnBhI,EAAOgI,EAAI8M,QAAQ,KAAM,IAC/B,MAAO,CAAE9M,MAAKhI,OAAMgZ,IAAMxD,EAAIN,SAAWM,EAAMiiB,SAAU,4BAA4Bz3B,QD6CtD+5D,GAAoB,KAGhDxO,GAAyB8J,KAA8BljD,EAAAA,EAAAA,UAASijD,GAAkB,IAAI39B,UAAY,OAClG9xB,GAA0B4vD,KAA+BpjD,EAAAA,EAAAA,UAAS,KAClEm5C,GAAyBgK,KAA8BnjD,EAAAA,EAAAA,UAAS,YAChEsjD,GAAyBC,KAA8BvjD,EAAAA,EAAAA,UAAS,MAGjE6nD,IAAgB5hC,EAAAA,EAAAA,aAAY,KElEfa,QACnBz5B,WACAC,YACAP,cACAC,gBACAC,gBACAC,iBACAyoD,UACA8L,cACA8F,YACAnO,0BACAD,0BACA3lD,2BACA8vD,0BACAtvC,gBACAwzC,mBAEA,MAAMM,GAAc,IAAI5wD,MAAOG,cAYzBnJ,EAAU,CACZE,KAAM,CACF4B,MAAO3C,EACP4C,OAAQ3C,EACR6a,SAAU,GACV4/C,QAAS,MACTl6D,KAAM8nD,EACNE,OAAQ4L,EACR5c,oBAnBY0iB,GAAaO,EAoBzBljB,sBAAuBkjB,EACvBnmC,gBAAiBy3B,GAA2B,KAC5C73C,gBAAiB63C,EAA0B,KAAOD,EAClD3lD,yBAA0BA,EAC1BgjD,gBAAiB8M,GAA2B,KAC5Cp2D,eAAgBA,GAAkB,CAAC,GAEvC86D,WAAY,CACRC,YAAa56D,EAAWC,EACxB46D,aA1Ban7D,EAAY2F,OAAOkL,GAAW,OAANA,GAAYyG,OA2BjD8jD,cA1Ban7D,EAAc0F,OAAOtG,GAAW,OAANA,GAAYiY,OA2BnD+jD,YA1BWp7D,EAAc0F,OAAOtG,IACpC,IAAKA,EAAG,OAAO,EACf,MAAMmX,EAAOyQ,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOG,GAC9C,OAAOmX,GAAQA,EAAK1V,MAAQ0V,EAAK1V,KAAKgV,WAAW,WAClDwB,QAwBC+zB,OAAQ,CACJ,CAAE1iC,KAAM,OAAQ7H,KAAM,aAAcyV,KAAMvW,GAC1C,CAAE2I,KAAM,SAAU7H,KAAM,WAAYyV,KAAMtW,GAC1C,CAAE0I,KAAM,SAAU7H,KAAM,UAAWyV,KAAMrW,GAAiB2W,MAAMvW,EAAWC,GAAW0b,KAAK,SAI7FstC,EAAW,GAAGX,EAAQhzC,QAAQ,OAAQ,YACtC0lD,EAAOpzD,KAAKM,UAAUrH,EAAS,KAAM,GAE3C,UACwBo6D,GAASD,EAAM/R,EAAU,sBAEpCiR,GAAWC,EAAaM,GAC7B1jB,GAAajrC,KAAK,yBAA0B,CACxCkrC,UAAW,SACXsR,UACAW,WACAV,WAAY,GAAGvoD,KAAYC,MAGvC,CAAE,MAAOE,GACL42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,SACXC,SAAU,UACVqR,UACAW,aAEJ1B,MAAM,iDACV,GFbI+M,CAAQ,CACJt0D,WAAUC,YAAWP,cAAaC,gBAAeC,gBAAeC,iBAChEyoD,UAAS8L,cAAa8F,YACtBnO,2BAAyBD,2BACzB3lD,4BAA0B8vD,2BAC1BtvC,gBAAewzC,kBAEpB,CACCn6D,EAAUC,EAAWP,EAAaC,EAAeC,EAAeC,EAChEyoD,EAAS8L,EAAa8F,EACtBnO,GAAyBD,GACzB3lD,GAA0B8vD,GAC1BtvC,KAIG+tC,GAAYwG,KAAiBvoD,EAAAA,EAAAA,WAAS,IACtCwoD,GAAgBC,KAAqBzoD,EAAAA,EAAAA,UAAS,OAC9CukC,GAAgBmkB,KAAqB1oD,EAAAA,EAAAA,UAAS,CAAElQ,EAAG,IAAKC,EAAG,OAC3D5C,GAAiBw7D,KAAsB3oD,EAAAA,EAAAA,UAAS,KAChD4oD,GAAoBC,KAAyB7oD,EAAAA,EAAAA,UAAS,KACtD8oD,GAAoBC,KAAyB/oD,EAAAA,EAAAA,UAAS,IAGvDgpD,IAAiB7jC,EAAAA,EAAAA,SAAQ,KAAM,CACjC/2B,KAAM,CACF4B,MAAO3C,EACP4C,OAAQ3C,EACR6a,SAAUzY,EACViyB,gBAAiBy3B,GACjB73C,gBAAiB43C,GACjB3lD,yBAA0BA,GAC1BtG,eAAgBA,GAEpBkrC,OAAQ,CACJ,CAAE1iC,KAAM,OAAQ7H,KAAM,aAAcyV,KAAMvW,GAC1C,CAAE2I,KAAM,SAAU7H,KAAM,WAAYyV,KAAMslD,OAE9C,CAACv7D,EAAUC,EAAW8rD,GAAyBD,GAAyB3lD,GAA0BzG,EAAa67D,GAAoB17D,IAEjI2nD,IAAiB5uB,EAAAA,EAAAA,aAAY,KAE/BsiC,IAAc,IACf,IAEG7T,IAAoBzuB,EAAAA,EAAAA,aAAY,CAAC5wB,EAAUlH,KAE7C,GAAIkH,GAAgC,kBAAbA,QAAwC3G,IAAf2G,EAASvF,QAAkCpB,IAAf2G,EAAStF,EACjF24D,GAAkB,CAAE54D,EAAGuF,EAASvF,EAAGC,EAAGsF,EAAStF,SAC5C,GAAiB,gBAAbsF,QAA0C3G,IAAZP,EACrC06D,GAAsBruC,IAClB,MAAM69B,EAAU,IAAI79B,GAEpB,OADA69B,EAAQlqD,GAAW,KACZkqD,SAER,GAAiB,iBAAbhjD,QAA2C3G,IAAZP,EAAuB,CAC7D,MAAM,MAAEI,EAAK,OAAEovC,GAAWxvC,EAC1By1D,EAAkBppC,IACd,MAAM7Z,EAAU6Z,EAAKjsB,IAAU,CAAC,EAC1B0vC,EAAQ2qB,GAAmBr6D,GAC3B4lB,EAAMH,EAAc7P,KAAKC,GAAKA,EAAEnY,KAAOgyC,GAC7C,IAAK9pB,EAAK,OAAOqG,EACjB,MAAM9H,EAAOyB,EAAI3jB,WAAa,IACxBw3C,EAAYn2C,KAAKC,IAAI,QAAuBpD,IAAnBiS,EAAQpQ,OAAuBoQ,EAAQpQ,OAASmiB,GAAQirB,GAEvF,MAAO,IACAnjB,EACH,CAACjsB,GAAQ,IAAKoS,EAASpQ,OAAQy3C,KAG3C,GAID,CAAC4gB,GAAoB50C,IAElBi1C,IAAqBhjC,EAAAA,EAAAA,aAAaijC,IACpCP,GAAmBnuC,GAAQ,IAAIA,EAAM0uC,KACtC,IAEGC,GAAkB3oB,GACpBuhB,GAAaiH,GAAiB,KAC9BjH,GAAah1D,EAAcy0B,GAC3BugC,GAAa6G,GAAqBpnC,GAClCugC,GAAa+G,GAAqBtnC,GAClCr0B,GACA6mB,EACA6gC,GACAH,GACAuU,GACA/7D,IAGJsT,EAAAA,EAAAA,WAAU,KACN4mD,EAASzmD,QAAU,CAAEtT,WAAUC,YAAWP,cAAaC,gBAAeC,gBAAeC,mBACtF,CAACG,EAAUC,EAAWP,EAAaC,EAAeC,EAAeC,KAEpEsT,EAAAA,EAAAA,WAAU,KAEN8lD,EAAe1iD,MADF,KACcoF,KAAK,OAChCu9C,EAAiB3iD,MAFJ,KAEgBoF,KAAK,OAClCw9C,EAAiB5iD,MAHJ,KAGgBoF,KAAK,QACnC,KAGHxI,EAAAA,EAAAA,WAAU,KACN,MAAMogC,EAAiBv0C,IACfstD,IACc,UAAVttD,EAAEwJ,KACFxJ,EAAE68B,iBACFu5B,MACiB,WAAVp2D,EAAEwJ,MACTxJ,EAAE68B,iBACFw5B,QAMZ,OADA5rD,OAAOiK,iBAAiB,UAAW6/B,GAC5B,IAAM9pC,OAAOkK,oBAAoB,UAAW4/B,IACpD,CAAC+Y,EAAWC,EAAiBqN,EAAiB1E,IAEjD,MAAMK,IAASz9B,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GAAQA,EAAK1V,MAAQ0V,EAAK1V,KAAKgV,WAAW,aAAeU,EAAK6Q,OAAS7Q,EAAK6Q,MAAMoE,SAAU,CAACxE,IACzIgJ,IAAUmI,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GAAQA,EAAK6Q,OAAS7Q,EAAK6Q,MAAMoE,QAAS,CAACxE,IACxF4Z,IAAWzI,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,MAC3CA,EAAK1V,OAAS0V,EAAK1V,KAAKuwC,cAAclvC,SAAS,iBAChDqU,EAAKgB,oBAEDhB,EAAK7N,MAAsB,YAAd6N,EAAK7N,MAAoC,WAAd6N,EAAK7N,MAAsC,SAAjB6N,EAAKorB,WAC/E,CAAC3a,IACC6uC,IAAc19B,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GACjC,eAAdA,EAAK7N,UACL6N,EAAK1V,OAAQ0V,EAAK1V,KAAKuwC,cAAclvC,SAAS,oBAC9CqU,EAAKtX,KAAMsX,EAAKtX,GAAGiD,SAAS,iBAEhC,CAAC8kB,IACChP,IAAQmgB,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GAAQA,EAAK1V,MAAQ0V,EAAK1V,KAAKuwC,cAAclvC,SAAS,UAAW,CAAC8kB,IAC7G8uC,IAAgB39B,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GAAQA,EAAK1V,MAAQ0V,EAAK1V,KAAKuwC,cAAclvC,SAAS,kBAAmB,CAAC8kB,IAC7H+uC,IAAU59B,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GAAsB,WAAdA,EAAK7N,MAAsB6N,EAAK1V,MAAQ0V,EAAK1V,KAAKuwC,cAAclvC,SAAS,YAAc,CAAC8kB,IAC7IgvC,IAAU79B,EAAAA,EAAAA,SAAQ,IAAMnR,EAActhB,OAAO6Q,GAAsB,WAAdA,EAAK7N,MAAsB6N,EAAK1V,MAAQ0V,EAAK1V,KAAKuwC,cAAclvC,SAAS,YAAc,CAAC8kB,IAE7Io1C,GAAmBnG,GAAkB9+C,KAAMqjB,GAAOA,EAAGlC,WAAa8zB,KAA4B6J,GAAkB,GAChH/J,GAAwBkQ,IAAoBhQ,GAA0BgQ,GAAiBviD,IAAM,KA6B7FsxC,GAAiBA,IACC,SAAhBmB,EAA+BvsD,EACf,WAAhBusD,EAAiCtsD,EACjB,WAAhBssD,EAAiCrsD,EAC9BF,EAELqrD,GAAkBC,IACA,SAAhBiB,EAAwBgN,EAAejO,GAClB,WAAhBiB,EAELiN,EAAkB/rC,IACd,MAAM6uC,EAAc,IAAKn8D,GACzB,IAAIo8D,GAAkB,EAUtB,OARAjR,EAAQrpD,QAAQ,CAAC/C,EAAIgD,KACburB,EAAKvrB,KAAShD,GAAMiB,EAAe+B,YAC5Bo6D,EAAYp6D,GACnBq6D,GAAkB,KAItBA,GAAiB1F,EAAkByF,GAChChR,IAGU,WAAhBiB,GAA0BkN,EAAiBnO,IA+HlDoK,GAAkBA,KACpB,IAAK9I,IAAcC,IAAoBqN,EAAiB,OAExD,MAAMsC,EAAa,IAAItC,EAAgBuC,SACjCC,EAAe,IAAIxC,EAAgByC,WACnCC,EAAe,IAAI1C,EAAgB2C,WAGzC,GAAsB,QAAlBrH,EACA,IAAK,IAAIjsC,EAAK,EAAGA,EAAKqjC,EAAU3sC,EAAGsJ,IAC/B,IAAK,IAAID,EAAK,EAAGA,EAAKsjC,EAAU5sC,EAAGsJ,IAAM,CACrC,MAAMpnB,GAAO0qD,EAAUuC,UAAY5lC,GAAMjpB,GAAYssD,EAAUsC,UAAY5lC,GACvEpnB,GAAO,GAAKA,EAAMs6D,EAAWllD,SAC7BklD,EAAWt6D,GAAO,KAClBw6D,EAAax6D,GAAO,KACpB06D,EAAa16D,GAAO,KAE5B,CAKR,IAAK,IAAIqnB,EAAK,EAAGA,EAAKqjC,EAAU3sC,EAAGsJ,IAC/B,IAAK,IAAID,EAAK,EAAGA,EAAKsjC,EAAU5sC,EAAGsJ,IAAM,CACrC,MAAMwzC,EAAQjQ,EAAgB9pD,EAAIumB,EAC5ByzC,EAAQlQ,EAAgB7pD,EAAIumB,EAClC,GAAIuzC,GAAS,GAAKA,EAAQx8D,GAAYy8D,GAAS,GAAKA,EAAQx8D,EAAW,CACnE,MAAMy8D,EAAUD,EAAQz8D,EAAWw8D,EAC7BG,EAAa1zC,EAAKqjC,EAAU5sC,EAAIsJ,EAEtCkzC,EAAWQ,GAAWpQ,EAAUzkB,SAAS80B,GACzCP,EAAaM,GAAWpQ,EAAUjjB,WAAWszB,GAC7CL,EAAaI,GAAWpQ,EAAU3b,aAAagsB,IAAe,IAClE,CACJ,CAGJ1D,EAAeiD,GACfhD,EAAiBkD,GACjBjD,EAAiBmD,GACjBrH,EAAa,MACb0E,EAAmB,MACnBE,EAAmB,OAGjBxE,GAAkBA,KACpBJ,EAAa,MACb0E,EAAmB,MACnBE,EAAmB,MACnBH,GAAqB,IAmGnBvD,GAAan2D,EAAWC,EACxBm2D,GAAe12D,EAAY2F,OAAOkL,GAAW,OAANA,GAAYyG,OACnDq/C,GAAcF,GAAaC,GAC3BE,GAAe32D,EAAc0F,OAAOtG,GAAW,OAANA,GAAYiY,OAE3D,OACIlG,EAAAA,GAAAA,MAAA,OAAKO,UAAU,iBAAiBN,MAAO,CAAE6rB,SAAU,WAAYh6B,OAAQ,OAAQmV,SAAU,UAAW7G,SAAA,EAChGC,EAAAA,GAAAA,KAACs/C,GAAW,CACRC,OAAQ0J,GACRzJ,YAAaA,GACbC,eAAgBA,GAChBC,gBAAiBA,GACjBC,mBAAoBA,GACpBC,cA9UUA,KAClB,GAAItnD,OAAOmzD,QAAQ,4EAA6E,CAC5F,MAAMx2C,EAAO,IACb2yC,EAAY,IACZC,EAAa,IACbC,EAAe1iD,MAAM6P,GAAMzK,KAAK,OAChCu9C,EAAiB3iD,MAAM6P,GAAMzK,KAAK,OAClCw9C,EAAiB5iD,MAAM6P,GAAMzK,KAAK,OAElCq+C,EAAWrJ,IAAe,WAC1BsJ,EAAepJ,IAAmB,aAClCsJ,EAAa,MACbtE,GAA2BD,GAAkB,IAAI39B,UAAY,MAC7D89B,GAA4B,IAC5BD,GAA2B,WAC3BI,GAA2B,MAE3BmE,IAAqB,EACzB,GA6TQza,QAASA,IAAMya,IAAqB,MAGxCvpD,EAAAA,GAAAA,MAAA,OAAKO,UAAU,mBAAmBN,MAAO,CACrCC,QAAS,OAAQpO,OAAQ,OAAQgV,cAAe,MAChDvS,OAAQ+0D,GAAoB,4BAA8B,OAC1Dnb,WAAY,mBACZgO,cAAemN,GAAoB,OAAS,QAC9ClpD,SAAA,EACEC,EAAAA,GAAAA,KAACgjD,GAAc,CACX7L,QAASA,EACT8L,YAAaA,EACbC,gBAjWQA,KACpBzD,GAAe,WACfE,GAAmBsD,GACnBiG,IAAqB,IA+VT/F,QAASkG,GACTjG,QAAUlhD,GEnePkhD,GACnBlhD,QACA0lD,cACAC,eACAgB,aACAC,iBACAE,eACAtE,6BACAC,6BACAC,8BACAG,6BACA+C,iBACAC,mBACAC,mBACA5C,wBAEA,MAAM3N,EAAa,IAAIC,WACjBH,EAAOr1C,EAAMG,OAAOm1C,MAAM,GAC5BD,IACAE,EAAWE,WAAWJ,EAAM,SAC5BE,EAAWG,OAAU/pD,IACjB,IACI,MAAMgqD,EAASphD,KAAKC,MAAM7I,EAAEwU,OAAOowB,QACnC,GAAIolB,EAAOjoD,KAAM,CAqBb,GApBAg4D,EAAY/P,EAAOjoD,KAAK4B,OACxBq2D,EAAahQ,EAAOjoD,KAAK6B,QAErBomD,EAAOjoD,KAAKP,MAAMw5D,EAAWhR,EAAOjoD,KAAKP,MACzCwoD,EAAOjoD,KAAKynD,QAAQyR,EAAejR,EAAOjoD,KAAKynD,QAC/CQ,EAAOjoD,KAAKy2C,qBAAqB2iB,EAAanR,EAAOjoD,KAAKy2C,qBAEnB,qBAAhCwR,EAAOjoD,KAAKuzB,iBAAmC00B,EAAOjoD,KAAKuzB,gBAClEuhC,EAA2B7M,EAAOjoD,KAAKuzB,iBAEvCuhC,EAA2B,MAEY,qBAAhC7M,EAAOjoD,KAAKmT,iBAAmC80C,EAAOjoD,KAAKmT,iBAClE4hD,EAA2B9M,EAAOjoD,KAAKmT,iBAES,qBAAzC80C,EAAOjoD,KAAKoF,yBACnB4vD,EAA4B/M,EAAOjoD,KAAKoF,0BAExC4vD,EAA4B,IAEW,qBAAhC/M,EAAOjoD,KAAKooD,iBAAmCH,EAAOjoD,KAAKooD,gBAAiB,CACnF,MAAMlvC,EAAI+uC,EAAOjoD,KAAKooD,gBAChB0T,EAA0B,kBAAN5iD,EAAiBA,EAAE3E,QAAQ,qBAAsB,6BAA+B2E,EAC1Gi8C,EAA2B2G,EAC/B,MACI3G,EAA2B,MAG3BlN,EAAOjoD,KAAKlB,eACZ02D,EAAkBvN,EAAOjoD,KAAKlB,gBAE9B02D,EAAkB,CAAC,GAGvB,MAAMvO,EAAUgB,EAAOje,OAAOj0B,KAAKk0B,GAAgB,eAAXA,EAAExqC,MACpCm3C,EAAWqR,EAAOje,OAAOj0B,KAAKk0B,GAAgB,aAAXA,EAAExqC,MACrCynD,EAAce,EAAOje,OAAOj0B,KAAKk0B,GAAgB,YAAXA,EAAExqC,MAC1CwnD,GAASiR,EAAejR,EAAQ/xC,MAChC0hC,GAAUuhB,EAAiBvhB,EAAS1hC,MAEpCkjD,EADAlR,EACiBA,EAAYhyC,KAEZM,MAAMyyC,EAAOjoD,KAAK4B,MAAQqmD,EAAOjoD,KAAK6B,QAAQ+Y,KAAK,OAGxEo7B,GAAajrC,KAAK,0BAA2B,CACzCkrC,UAAW,SACXsR,QAASU,EAAOjoD,KAAKP,KACrB+nD,WAAY,GAAGS,EAAOjoD,KAAK4B,SAASqmD,EAAOjoD,KAAK6B,UAExD,MAEQomD,EAAOrmD,OAAOo2D,EAAY/P,EAAOrmD,OACjCqmD,EAAOpmD,QAAQo2D,EAAahQ,EAAOpmD,QACnComD,EAAO75B,OAAO8pC,EAAejQ,EAAO75B,OACxC+pC,EAAiB3iD,MAAMyyC,EAAOrmD,MAAQqmD,EAAOpmD,QAAQ+Y,KAAK,OAE1Do7B,GAAa7hC,KAAK,8BAA+B,CAC7C8hC,UAAW,SACXiS,SAAUP,EAAKloD,MAG3B,CAAE,MAAOL,GACL42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,SACXC,SAAU,UACVgS,SAAUP,EAAKloD,OAEnB+mD,MAAM,gDACV,GAEJqB,EAAWM,QAAW/oD,IAClB42C,GAAa52C,MAAMA,EAAO,CACtB62C,UAAW,SACXC,SAAU,UACVgS,SAAUP,EAAKloD,KACfke,MAAO,eAEX6oC,MAAM,0BF6XsBgN,CAAQ,CACxBlhD,QAAO0lD,cAAaC,eAAcgB,aAAYC,iBAC9CE,eAActE,8BAA4BC,8BAC1CC,+BAA6BG,8BAC7B+C,iBAAgBC,mBAAkBC,mBAAkB5C,sBAExDvK,SAAUA,EACVwI,YAAaA,EACbC,SAAUA,IEhYNA,GAAGz0D,WAAUC,YAAWg5D,iBAAgBC,mBAAkBC,mBAAkB5C,wBAChG,GAAI9sD,OAAOmzD,QAAQ,2CAA4C,CAC3D,MAAMx2C,EAAOpmB,EAAWC,EACxBg5D,EAAe1iD,MAAM6P,GAAMzK,KAAK,OAChCu9C,EAAiB3iD,MAAM6P,GAAMzK,KAAK,OAClCw9C,EAAiB5iD,MAAM6P,GAAMzK,KAAK,OAClC46C,EAAkB,CAAC,EACvB,GFyXgC9B,CAAS,CAAEz0D,WAAUC,YAAWg5D,iBAAgBC,mBAAkBC,mBAAkB5C,sBACpG7B,WAAYA,GACZC,WA9GGA,KAEfyG,GAAkB,CACdz7D,cAAe,IAAIA,GACnBC,cAAe,IAAIA,GACnBC,eAAgB,IAAKA,GACrBq3C,eAAgB,IAAKA,MAIzB,MAAM4lB,EAAW,IAAIn9D,GAGrB,IAAIo9D,EAAaD,EAASllB,UAAUh5C,GAAMA,GAAMA,EAAGiD,SAAS,WAC5D,IAAoB,IAAhBk7D,EAAmB,CAEnB,MAAM1tB,EAAS7qC,KAAKE,IAAI,EAAG1E,EAAW,GAEtC+8D,EADev4D,KAAKE,IAAI,EAAGzE,EAAY,GACjBD,EAAWqvC,EAEjCytB,EAASC,GAAc,QAC3B,CAEAvB,GAAsBsB,GACtBpB,GAAsB,IAAI97D,IAC1B07D,GAAmB,IAEnBJ,IAAc,IAoFFtG,YAjFIA,KAChBsG,IAAc,GAGd,MAAM8B,EAAY,IAAIzB,IAItB,MADyG,IAA/EJ,GAAex7D,cAAci4C,UAAUh5C,GAAMA,GAAMA,EAAGiD,SAAS,YACjE,CACpB,MAAMo7D,EAAcD,EAAUplB,UAAUh5C,GAAMA,GAAMA,EAAGiD,SAAS,YAC3C,IAAjBo7D,IACAD,EAAUC,GAAe,KAEjC,CAEA/D,EAAiB8D,GACjB7D,EAAiB,IAAIsC,MAkET5G,YA/DIA,KAChB,GAAIsG,IAAkBzG,GAAY,CAG9B,MAAMwI,EAAY,IAAI/B,GAAex7D,eAGrC,IAAIo9D,EAAaG,EAAUtlB,UAAUh5C,GAAMA,GAAMA,EAAGiD,SAAS,WAC7D,IAAoB,IAAhBk7D,EAAmB,CACnB,MAAM1tB,EAAS7qC,KAAKE,IAAI,EAAG1E,EAAW,GAEtC+8D,EADev4D,KAAKE,IAAI,EAAGzE,EAAY,GACjBD,EAAWqvC,EACjC6tB,EAAUH,GAAc,QAC5B,CAEAvB,GAAsB0B,GACtBxB,GAAsB,IAAIP,GAAev7D,gBACzC22D,EAAkB,IAAK4E,GAAet7D,iBACtCy7D,GAAmB,GAEvB,GA4CYpP,WAAYA,EACZ4I,cAAeA,EACfjK,UAAWA,EACXkK,aAAcA,EACd9I,YAAaA,EACbK,UAAWA,EACX0I,cA7MMA,CAACnqC,EAAIF,KACvB,IAAK2hC,IAAcC,EAAiB,OAEpC,MAAMpb,EAAOob,EAAgB9pD,EAAIooB,EAC3BumB,EAAOmb,EAAgB7pD,EAAIioB,EAGjCgvC,EAAmB,CAAEl3D,EAAG0uC,EAAMzuC,EAAG0uC,KAuMrB6jB,aAAcA,EACdC,cAAeA,EACfC,iBAAkBA,EAClBC,gBAAiBA,GACjBC,gBAAiBA,GACjBzK,aAAcA,EACd0K,oBAtIYA,CAACp/C,EAAM2iB,KAC/BugC,EAAgBljD,GAChBojD,EAAezgC,GACfi8B,EAAc,SACdG,EAAa,OAmIDM,OAAQA,GACR5lC,QAASA,GACT4Q,SAAUA,GACV5oB,MAAOA,GACP69C,YAAaA,GACbC,cAAeA,GACfC,QAASA,GACTC,QAASA,GACTC,kBAAmBA,GACnB7J,wBAAyBA,GACzB8J,2BAA4BA,GAC5B/J,wBAAyBA,GACzBgK,2BAA4BA,GAC5B3vD,yBAA0BA,GAC1B4vD,4BAA6BA,GAC7BC,aAAcA,GACdC,wBAAyBA,GACzBC,2BAA4BA,GAC5BC,WAAYA,GACZC,aAAcA,GACdC,YAAaA,GACbC,aAAcA,GACdt2D,SAAUA,EACVC,UAAWA,EACXP,YAAaA,EACbC,cAAeA,EACfE,eAAgBA,EAChB02D,kBAAmBA,EACnB5vC,cAAeA,EACf6vC,YApLQ2G,CAAClJ,EAAUC,KAC3BD,IAAaj0D,GAAYk0D,IAAcj0D,GEnPtBm9D,GAAGnJ,WAAUC,YAAW6F,WAAUhB,cAAaC,eAAcC,iBAAgBC,mBAAkBC,mBAAkB5C,wBAC1I,MAAQv2D,SAAUq9D,EAAMp9D,UAAWq9D,EAAM59D,YAAa69D,EAAU59D,cAAe69D,EAAS59D,cAAe69D,EAAY59D,eAAgB69D,GAAY3D,EAASzmD,QACxJ,GAAI2gD,EAAW,GAAKC,EAAY,EAAG,OACnC,GAAID,IAAaoJ,GAAQnJ,IAAcoJ,EAAM,OAE7C,MAAMK,EAAeC,IACjB,MAAMC,EAAStnD,MAAM09C,EAAWC,GAAWv4C,KAAK,MAChD,IAAKiiD,EAAQ,OAAOC,EACpB,IAAK,IAAIn7D,EAAI,EAAGA,EAAI8B,KAAKE,IAAI44D,EAAMpJ,GAAYxxD,IAC3C,IAAK,IAAID,EAAI,EAAGA,EAAI+B,KAAKE,IAAI24D,EAAMpJ,GAAWxxD,IAC1Co7D,EAAOn7D,EAAIuxD,EAAWxxD,GAAKm7D,EAAOl7D,EAAI26D,EAAO56D,GAGrD,OAAOo7D,GAkBX9E,EAAY9E,GACZ+E,EAAa9E,GACb+E,EAAe0E,EAAYJ,IAC3BrE,EAAiByE,EAAYH,IAC7BrE,EAAiBwE,EAAYF,IAC7BlH,EApBwBuH,KACpB,MAAMC,EAAO,CAAC,EACd,IAAKD,EAAM,OAAOC,EAClB,IAAK,IAAIr7D,EAAI,EAAGA,EAAI8B,KAAKE,IAAI44D,EAAMpJ,GAAYxxD,IAC3C,IAAK,IAAID,EAAI,EAAGA,EAAI+B,KAAKE,IAAI24D,EAAMpJ,GAAWxxD,IAAK,CAC/C,MAAMu7D,EAASt7D,EAAI26D,EAAO56D,EACpBw7D,EAASv7D,EAAIuxD,EAAWxxD,EAC1Bq7D,EAAKE,KACLD,EAAKE,GAAUH,EAAKE,GAE5B,CAEJ,OAAOD,GAQOG,CAAeR,KFiN7BN,CAAc,CACVnJ,WACAC,YACA6F,WACAhB,cACAC,eACAC,iBACAC,mBACAC,mBACA5C,uBAyKQnK,iBAAkBA,EAClBqK,oBAAqBA,KAGvB/B,IA8BEvjD,EAAAA,GAAAA,KAAA,OAAKJ,MAAO,CAAEsvC,KAAM,EAAGzjB,SAAU,WAAY1oB,gBAAiB,QAAShD,UACnEC,EAAAA,GAAAA,KAACkjB,GAAS,CACNr0B,SAAUA,EACVC,UAAWA,EACX6a,SAAUzY,EACV3C,YAAaA,EACbC,cAAe47D,GACf37D,cAAe67D,GACf37D,gBAAiBA,GACjB6mB,cAAeA,EACfkC,YAAaizC,GACbvoC,cAAeA,EACf1zB,eAAgBA,EAChBy0B,gBAAiBy3B,GACjB73C,gBAAiB43C,GACjB3lD,yBAA0BA,GAC1BxC,YAAam4D,IAAiBn4D,aAAewwB,GAC7CztB,kBAAkB,EAClBC,kBAAkB,EAClBC,gBAAgB,EAChB2tB,UAAU,OAjDlBpjB,EAAAA,GAAAA,KAAC01C,GAAQ,CACL7mD,SAAUA,EACVC,UAAWA,EACX4rD,sBAAuBA,GACvBC,wBAAyBA,GACzBC,wBAAyBA,GACzBC,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZxsD,YAAaA,EACbC,cAAeA,EACfC,cAAeA,EACfC,eAAgBA,EAChB8mB,cAAeA,EACfwlC,WAAYA,EACZC,iBAAkBA,EAClBvB,UAAWA,EACXwB,qBAAsBA,EACtBC,UAAWA,EACXC,gBAAiBA,EACjBC,UAAWA,EACXC,WAAYA,EACZC,oBAhYQA,CAACxrD,EAAOlC,KAIhC,GAHAA,EAAE68B,iBAGEywB,GAAaC,EAAiB,CAC9B,MAAM9pD,EAAIvB,EAAQlB,EACZ0C,EAAI8B,KAAK2W,MAAMja,EAAQlB,GAG7B,GAAIyC,GAAK8pD,EAAgB9pD,GAAKA,EAAI8pD,EAAgB9pD,EAAI6pD,EAAU5sC,GAC5Dhd,GAAK6pD,EAAgB7pD,GAAKA,EAAI6pD,EAAgB7pD,EAAI4pD,EAAU3sC,EAG5D,OAFA+5C,GAAqB,QACrB5M,GAAc,EAGtB,CAEA,GAAmB,UAAfZ,EACAY,GAAc,GACdnC,GAAUzpD,EAAO0pD,EAAcC,EAAW7qD,EAAUC,EAAW6qD,GAAgBC,SAE9E,GAAmB,WAAfmB,EAAyB,CVxQjBiS,EAAC16B,EAAY26B,EAAUtT,EAAgBC,EAAgB/qD,EAAUC,KACtF,MAAMuqD,EAAcM,IAEpB,GADgBN,EAAY/mB,KACZ26B,EAAU,OAE1B,MAAMzW,EAAU4C,GAAoB9mB,EAAY+mB,EAAaxqD,EAAUC,GACjE+qD,EAAU,IAAIR,GACpB7C,EAAQhmD,QAAQC,GAAOopD,EAAQppD,GAAOw8D,GACtCrT,EAAeC,IUkQPmT,CAAUj9D,EADO0pD,EAAeA,EAAahsD,GAAK,KACvBksD,GAAgBC,GAAgB/qD,EAAUC,GACrEu5D,EAAwB,IAAI7sC,IAChC,MAAO,GAAmB,SAAfu/B,EAAuB,CAC9B,MAAMzpD,EAAIvB,EAAQlB,EACZ0C,EAAI8B,KAAK2W,MAAMja,EAAQlB,GAC7Bu5D,EAAa,CAAE92D,IAAGC,MAClBuyD,EAAa,MACb0E,EAAmB,MACnBE,EAAmB,MACnB/M,GAAc,EAClB,GAgWgBH,qBA7VUzrD,IAI1B,GAHAm4D,EAAcn4D,GAGVu4D,GAAqBhN,GAAcF,EAAiB,CACpD,MAAM9pD,EAAIvB,EAAQlB,EACZ0C,EAAI8B,KAAK2W,MAAMja,EAAQlB,GAE7B,YADA25D,EAAmB,CAAEl3D,IAAGC,KAE5B,CAEIo3D,EAAexmD,UACf+qD,aAAavE,EAAexmD,SAC5BwmD,EAAexmD,QAAU,MAE7BkmD,EAAwB,IAAI7sC,KACT,UAAfu/B,GAA0BO,EAC1B9B,GAAUzpD,EAAO0pD,EAAcC,EAAW7qD,EAAUC,EAAW6qD,GAAgBC,IAE3D,WAAfmB,GAA4BO,IACjCqN,EAAexmD,QAAUwsC,WAAW,KAChC,MAAM0K,EAAcM,KACdnD,EAAU4C,GAAoBrpD,EAAOspD,EAAaxqD,EAAUC,GAClEu5D,EAAwB,IAAI7sC,IAAIg7B,KACjC,OAsUSiF,kBA5TO1rD,IACvB,GAAIu4D,EAEAC,GAAqB,QAKzB,GADA5M,GAAc,GACK,SAAfZ,GAAyBM,EAAW,CACpC,MAAM8R,EAAOp9D,EAAQlB,EACfokB,EAAO5f,KAAK2W,MAAMja,EAAQlB,GAC1BstD,EAAK9oD,KAAKE,IAAI8nD,EAAU/pD,EAAG67D,GAC3B/Q,EAAK/oD,KAAKE,IAAI8nD,EAAU9pD,EAAG0hB,GAG3B1E,EAFKlb,KAAKC,IAAI+nD,EAAU/pD,EAAG67D,GAElBhR,EAAK,EACd3tC,EAFKnb,KAAKC,IAAI+nD,EAAU9pD,EAAG0hB,GAElBmpC,EAAK,EAEdgR,EAAc,GACdC,EAAgB,GAChBC,EAAgB,GAEtB,IAAK,IAAIx1C,EAAK,EAAGA,EAAKtJ,EAAGsJ,IACrB,IAAK,IAAID,EAAK,EAAGA,EAAKtJ,EAAGsJ,IAAM,CAC3B,MAAMpnB,GAAO2rD,EAAKtkC,GAAMjpB,GAAYstD,EAAKtkC,GACzCu1C,EAAYz8D,KAAKpC,EAAYkC,IAC7B48D,EAAc18D,KAAKnC,EAAciC,IACjC68D,EAAc38D,KAAKlC,EAAcgC,GACrC,CAIJi4D,EAAmB,CACfsC,QAAS,IAAIz8D,GACb28D,UAAW,IAAI18D,GACf48D,UAAW,IAAI38D,KAGnBq1D,EAAa,CAAExyD,EAAG6qD,EAAI5qD,EAAG6qD,EAAI7tC,IAAGC,IAAGkoB,SAAU02B,EAAal1B,WAAYm1B,EAAe7tB,WAAY8tB,EAAe7P,UAAWtB,EAAIuB,UAAWtB,IAC1IoM,EAAmB,CAAEl3D,EAAG6qD,EAAI5qD,EAAG6qD,IAC/BgM,EAAa,KACjB,GAoRgB1M,qBAnUSA,KACzBwM,EAAc,MACVS,EAAexmD,SAAS+qD,aAAavE,EAAexmD,SACxDkmD,EAAwB,IAAI7sC,MAiUZmgC,cAAeA,WG/oBxB,SAAS4R,KAEpB,OACIvtD,EAAAA,GAAAA,KAAAkzC,GAAAA,SAAA,CAAAnzC,UACIC,EAAAA,GAAAA,KAAA,KAAAD,SAAG,cAGf,CCLe,SAASytD,KACpB,MAAMh4C,EAAgBlP,KAWhBmnD,EAAY,CACdnyD,OAAQ,iBACRS,aAAc,MACdkH,QAAS,OACTzR,MAAO,QACPqO,QAAS,OACT4G,cAAe,SACfE,WAAY,SACZ5D,gBAAiB,WAIf2qD,EAAa,CACfl8D,MAAO,OACPC,OAAQ,OACRstD,UAAW,UACXoD,eAAgB,YAChBnP,aAAc,OACd13C,OAAQ,mBAGNqyD,EAAuB,CACzBn8D,MAAO,OACP0K,SAAU,OACVi3C,UAAW,QAGf,OACIxzC,EAAAA,GAAAA,MAAA,OAAKC,MApCc,CACnBC,QAAS,OACTmnD,SAAU,OACVlnD,IAAK,OACLmD,QAAS,QAgCkBlD,SAAA,CACtByV,EAAcloB,IAAI,CAACyX,EAAMhV,KACtB4P,EAAAA,GAAAA,MAAA,OAA4BC,MAAO6tD,EAAU1tD,SAAA,CAGxCgF,EAAKI,UAAYJ,EAAKI,SAASU,OAAS,GACrC7F,EAAAA,GAAAA,KAAC+5C,GAAY,CACT50C,SAAUJ,EAAKI,SACfF,QAASF,EAAKE,QACd0F,MAAO5F,EAAKe,eACZlG,MAAO8tD,EACPplD,IAAKvD,EAAK1V,QAGd2Q,EAAAA,GAAAA,KAAA,OACIqI,IAAKtD,EAAKE,QACVqD,IAAKvD,EAAK1V,KACVuQ,MAAO8tD,EACPE,QAAU//D,IAAQA,EAAEwU,OAAOzC,MAAMC,QAAU,WAKnDG,EAAAA,GAAAA,KAAA,OAAKJ,MAAO+tD,EAAqB5tD,SAC5B9R,OAAO4tB,QAAQ9W,GACX7Q,OAAO,EAAEmD,MAAU,CAAC,UAAW,WAAY,kBAAkB3G,SAAS2G,IACtE/J,IAAI,EAAE+J,EAAKC,MACRqI,EAAAA,GAAAA,MAAA,OAAeC,MAAO,CAAEozC,aAAc,MAAO6a,UAAW,aAAc9tD,SAAA,EAClEJ,EAAAA,GAAAA,MAAA,UAAAI,SAAA,CAAS1I,EAAI,QACb2I,EAAAA,GAAAA,KAAA,QAAMJ,MAAO,CAAE8yC,WAAY,MAAOxvC,MAAO,QAASnD,SAC5B,kBAAVzI,EAAqBb,KAAKM,UAAUO,GAAS0pC,OAAO1pC,OAH1DD,QAzBhB0N,EAAKtX,IAAMsC,IAoCC,IAAzBylB,EAAc3P,SAAgB7F,EAAAA,GAAAA,KAAA,KAAAD,SAAG,kCAG9C,CCpEa+tD,EAAAA,WAAoBxrD,SAASyrD,eAAe,SACpDC,QACDhuD,EAAAA,GAAAA,KAACiuD,EAAAA,GAAQ,CAACC,MAAOA,GAAMnuD,UACnBJ,EAAAA,GAAAA,MAACwuD,EAAAA,GAAa,CAACC,MAAOA,GAAMruD,SAAA,EACxBC,EAAAA,GAAAA,KAACquD,GAAY,KACbruD,EAAAA,GAAAA,KAACsuD,EAAAA,GAAa,CAACC,SAAUn0D,mBAAuB2F,UAC5CC,EAAAA,GAAAA,KAACwuD,EAAAA,GAAM,CAAAzuD,UAEPJ,EAAAA,GAAAA,MAAC8uD,EAAAA,GAAK,CAACnpD,KAAK,IAAIopD,SAAS1uD,EAAAA,GAAAA,KAAC2uD,GAAG,IAAI5uD,SAAA,EAC7BC,EAAAA,GAAAA,KAACyuD,EAAAA,GAAK,CAAC1+D,OAAK,EAAC2+D,SAAS1uD,EAAAA,GAAAA,KAAC8H,GAAI,OAC3B9H,EAAAA,GAAAA,KAACyuD,EAAAA,GAAK,CAACnpD,KAAK,OAAOopD,SAAS1uD,EAAAA,GAAAA,KAAC81C,GAAI,OACjC91C,EAAAA,GAAAA,KAACyuD,EAAAA,GAAK,CAACnpD,KAAK,SAASopD,SAAS1uD,EAAAA,GAAAA,KAAC2nD,GAAM,OACrC3nD,EAAAA,GAAAA,KAACyuD,EAAAA,GAAK,CAACnpD,KAAK,WAAWopD,SAAS1uD,EAAAA,GAAAA,KAACutD,GAAQ,OACzCvtD,EAAAA,GAAAA,KAACyuD,EAAAA,GAAK,CAACnpD,KAAK,aAAaopD,SAAS1uD,EAAAA,GAAAA,KAACwtD,GAAU,kB,s00CC9BjE,IAAIlgE,EAAM,CACT,6DAA8D,IAC9D,kFAAmF,KACnF,kCAAmC,KACnC,mCAAoC,MAIrC,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,uuDCzBpB,IAAIH,EAAM,CACT,kCAAmC,KACnC,kCAAmC,KACnC,kCAAmC,IACnC,kCAAmC,KACnC,kCAAmC,KACnC,kCAAmC,KACnC,kCAAmC,KACnC,kCAAmC,IACnC,kCAAmC,KACnC,8BAA+B,KAC/B,gCAAiC,KACjC,gCAAiC,KACjC,gCAAiC,KACjC,gCAAiC,KACjC,gCAAiC,KACjC,gCAAiC,KACjC,iCAAkC,KAClC,+BAAgC,KAChC,2BAA4B,KAC5B,gCAAiC,KACjC,gCAAiC,KACjC,4BAA6B,KAC7B,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,uCAAwC,KACxC,gCAAiC,KACjC,qCAAsC,KACtC,wCAAyC,KACzC,uCAAwC,KACxC,4BAA6B,KAC7B,4BAA6B,KAC7B,4BAA6B,KAC7B,4BAA6B,KAC7B,kCAAmC,KACnC,yCAA0C,KAC1C,yCAA0C,KAC1C,0CAA2C,KAC3C,uCAAwC,KACxC,qCAAsC,KACtC,0CAA2C,KAC3C,qCAAsC,KACtC,+CAAgD,KAChD,kCAAmC,KACnC,qCAAsC,KACtC,kCAAmC,KACnC,uCAAwC,KACxC,6BAA8B,KAC9B,0BAA2B,KAC3B,mCAAoC,KACpC,2BAA4B,KAC5B,+BAAgC,KAChC,+BAAgC,KAChC,+BAAgC,MAIjC,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,itnBChFpB,IAAIH,EAAM,CACT,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,IACrB,oBAAqB,MAItB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOP,EAAIE,EACZ,CACAD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,EACpB,EACAC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I","sources":["webpack://element_masters/./src/assets/sound/background/ sync nonrecursive \\.ogg$","webpack://element_masters/./src/assets/images/ sync \\.(png%7Cjpe","webpack://element_masters/./src/store/slices/gameSlice.js","webpack://element_masters/./src/constants/gameConstants.js","webpack://element_masters/./src/store/slices/playerSlice.js","webpack://element_masters/./src/store/slices/settingsSlice.js","webpack://element_masters/./src/store/slices/uiSlice.js","webpack://element_masters/./src/store/index.js","webpack://element_masters/./src/styles/theme.js","webpack://element_masters/./src/styles/GlobalStyles.js","webpack://element_masters/./src/i18n/i18n.js","webpack://element_masters/./src/sections/section.header.navigation.chapters.js","webpack://element_masters/./src/sections/section.header.navigation.languages.js","webpack://element_masters/./src/sections/section.header.navigation.logo.js","webpack://element_masters/./src/sections/section.header.js","webpack://element_masters/./src/sections/section.footer.js","webpack://element_masters/./src/sections/section.content.js","webpack://element_masters/./src/engine/registry/index.js","webpack://element_masters/./src/App.js","webpack://element_masters/./src/config.js","webpack://element_masters/./src/sections/chapters/home.jsx","webpack://element_masters/./src/Pixi/TextureCache.js","webpack://element_masters/./src/Pixi/effects/weather/Rain.js","webpack://element_masters/./src/Pixi/effects/weather/Snow.js","webpack://element_masters/./src/Pixi/effects/weather/Clouds.js","webpack://element_masters/./src/Pixi/effects/weather/Fog.js","webpack://element_masters/./src/Pixi/effects/weather/Thunder.js","webpack://element_masters/./src/Pixi/effects/liquids/WaterSplashFX.js","webpack://element_masters/./src/Pixi/effects/liquids/LavaEmbers.js","webpack://element_masters/./src/Pixi/effects/liquids/LavaSteamFX.js","webpack://element_masters/./src/Pixi/effects/liquids/LiquidRegionSystem.js","webpack://element_masters/./src/Pixi/ui/HealthBar.js","webpack://element_masters/./src/renderer/stage/layers/LayerOrder.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/helpers.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/liquidRendering.js","webpack://element_masters/./src/Pixi/layers/ParallaxBackground.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/parallaxManager.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/playerManager.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/index.jsx","webpack://element_masters/./src/sections/chapters/game/PixiStage/projectileManager.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/entityManager.js","webpack://element_masters/./src/sections/chapters/game/PixiStage/layerBuilder.js","webpack://element_masters/./src/engine/gameplay/secrets.js","webpack://element_masters/./src/engine/audio/audio.js","webpack://element_masters/./src/engine/physics/horizontal.js","webpack://element_masters/./src/engine/physics/vertical.js","webpack://element_masters/./src/engine/liquids/liquidUtils.js","webpack://element_masters/./src/engine/loop/updateFrame.js","webpack://element_masters/./src/engine/gameplay/entities.js","webpack://element_masters/./src/engine/physics/collision.js","webpack://element_masters/./src/services/errorHandler.js","webpack://element_masters/./src/utilities/useGameEngine.js","webpack://element_masters/./src/utilities/useInput.js","webpack://element_masters/./src/engine/gameplay/hazards.js","webpack://element_masters/./src/engine/gameplay/spawnProjectile.js","webpack://element_masters/./src/engine/gameplay/collectItem.js","webpack://element_masters/./src/engine/gameplay/interactables.js","webpack://element_masters/./src/engine/gameplay/updateProjectiles.js","webpack://element_masters/./src/sections/chapters/game/GameHeader.jsx","webpack://element_masters/./src/commands/gameCommands.js","webpack://element_masters/./src/sections/chapters/game/GameTerminal.jsx","webpack://element_masters/./src/sections/chapters/game/GameSettings.jsx","webpack://element_masters/./src/utilities/BackgroundMusicPlayer.jsx","webpack://element_masters/./src/sections/chapters/game/index.jsx","webpack://element_masters/./src/utilities/saveFile.js","webpack://element_masters/./src/sections/chapters/editor/paintingTools.js","webpack://element_masters/./src/utilities/AnimatedItem.jsx","webpack://element_masters/./src/sections/chapters/editor/Viewport.jsx","webpack://element_masters/./src/sections/chapters/editor/constants.js","webpack://element_masters/./src/sections/chapters/editor/NewMapModal.jsx","webpack://element_masters/./src/sections/chapters/editor/DraggableWindow.jsx","webpack://element_masters/./src/sections/chapters/editor/PaletteSection.jsx","webpack://element_masters/./src/sections/chapters/editor/Minimap.jsx","webpack://element_masters/./src/sections/chapters/editor/MapResizer.jsx","webpack://element_masters/./src/sections/chapters/editor/ToolbarWindows.jsx","webpack://element_masters/./src/sections/chapters/editor/index.jsx","webpack://element_masters/./src/sections/chapters/editor/assetLoaders.js","webpack://element_masters/./src/sections/chapters/editor/mapOperations.js","webpack://element_masters/./src/sections/chapters/crystals.jsx","webpack://element_masters/./src/sections/chapters/repository.jsx","webpack://element_masters/./src/index.js","webpack://element_masters/./src/assets/sound/ sync \\.(mp3%7Cwav%7Cogg%7Cm4a%7Caac%7Cflac%7Cwebm)$","webpack://element_masters/./src/assets/json/ sync \\.json$","webpack://element_masters/./src/assets/background/ sync nonrecursive \\.(png%7Cjpe"],"sourcesContent":["var map = {\n\t\"./170515__rolandasb__forest_ambient_01_loop.ogg\": 344,\n\t\"./830253__nicktayloe__afternoon-woods-in-october-midwest-us-loop.ogg\": 3004\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1032;","var map = {\n\t\"./blocks/block_pack_01/dirt_block_0002.png\": 1006,\n\t\"./blocks/block_pack_01/dirt_block_0003.png\": 2967,\n\t\"./blocks/block_pack_01/dirt_block_0004.png\": 7800,\n\t\"./blocks/block_pack_01/dirt_block_0005.png\": 2017,\n\t\"./blocks/block_pack_01/dirt_block_0006.png\": 1850,\n\t\"./blocks/block_pack_01/ice_block_0001.png\": 9745,\n\t\"./blocks/desert_pack_01/desert_pack_0001.png\": 7741,\n\t\"./blocks/desert_pack_01/desert_pack_0002.png\": 182,\n\t\"./blocks/desert_pack_01/desert_pack_0003.png\": 1727,\n\t\"./blocks/desert_pack_01/desert_pack_0004.png\": 6352,\n\t\"./blocks/desert_pack_01/desert_pack_0005.png\": 2601,\n\t\"./blocks/desert_pack_01/desert_pack_0006.png\": 6018,\n\t\"./blocks/desert_pack_01/desert_pack_0007.png\": 6523,\n\t\"./blocks/desert_pack_01/desert_pack_0008.png\": 5132,\n\t\"./blocks/desert_pack_01/desert_pack_0009.png\": 1045,\n\t\"./blocks/diorite_block.png\": 8276,\n\t\"./blocks/dirt_block_0001.png\": 7157,\n\t\"./blocks/grass_block_0001.png\": 1764,\n\t\"./blocks/sand_block_0001.png\": 2250,\n\t\"./blocks/sand_block_0002.png\": 2145,\n\t\"./blocks/water_block.png\": 1635,\n\t\"./decorations/stone_pack_01/stone_pack_01_001.png\": 1978,\n\t\"./decorations/stone_pack_01/stone_pack_01_002.png\": 4526,\n\t\"./decorations/stone_pack_01/stone_pack_01_003.png\": 7928,\n\t\"./decorations/stone_pack_01/stone_pack_01_004.png\": 9447,\n\t\"./decorations/stone_pack_01/stone_pack_01_005.png\": 1134,\n\t\"./decorations/stone_pack_01/stone_pack_01_006.png\": 8485,\n\t\"./decorations/stone_pack_01/stone_pack_01_007.png\": 3036,\n\t\"./decorations/stone_pack_01/stone_pack_01_008.png\": 7195,\n\t\"./decorations/stone_pack_01/stone_pack_01_009.png\": 9330,\n\t\"./decorations/stone_pack_01/stone_pack_01_010.png\": 2952,\n\t\"./entities/player/player_dead_01.png\": 2735,\n\t\"./entities/player/player_dead_02.png\": 2820,\n\t\"./entities/player/player_dead_03.png\": 5325,\n\t\"./entities/player/player_dead_04.png\": 3762,\n\t\"./entities/player/player_dead_05.png\": 2763,\n\t\"./entities/player/player_dead_06.png\": 7728,\n\t\"./entities/player/player_dead_07.png\": 8905,\n\t\"./entities/player/player_dead_08.png\": 3662,\n\t\"./entities/player/player_dead_09.png\": 1351,\n\t\"./entities/player/player_dead_10.png\": 1297,\n\t\"./entities/player/player_default_100.A.png\": 6847,\n\t\"./entities/player/player_default_100.B.png\": 4388,\n\t\"./entities/player/player_target_100.A.png\": 2155,\n\t\"./entities/player/player_target_100.B.png\": 8336,\n\t\"./entities/tanks/tank_0000.png\": 2386,\n\t\"./entities/tanks/tank_0001.png\": 3563,\n\t\"./entities/tanks/tank_0002.png\": 5232,\n\t\"./hazards/bushes_001.png\": 6343,\n\t\"./hazards/death_block_0001.png\": 3527,\n\t\"./interactables/arrows/arrow_down.png\": 7152,\n\t\"./interactables/arrows/arrow_left.png\": 8047,\n\t\"./interactables/arrows/arrow_right.png\": 592,\n\t\"./interactables/arrows/arrow_up.png\": 7263,\n\t\"./interactables/berry_bush_01_A.png\": 2534,\n\t\"./interactables/berry_bush_01_B.png\": 4157,\n\t\"./interactables/berry_bush_02_A.png\": 3945,\n\t\"./interactables/berry_bush_02_B.png\": 7858,\n\t\"./interactables/ends/end_0001.png\": 8597,\n\t\"./interactables/platforms/platform_0001.png\": 9427,\n\t\"./interactables/portals/portal_01/portal_A_001.png\": 8518,\n\t\"./interactables/portals/portal_01/portal_A_002.png\": 3933,\n\t\"./interactables/portals/portal_01/portal_A_003.png\": 692,\n\t\"./interactables/portals/portal_01/portal_A_004.png\": 5499,\n\t\"./interactables/portals/portal_01/portal_A_005.png\": 3954,\n\t\"./interactables/portals/portal_01/portal_A_006.png\": 8489,\n\t\"./interactables/portals/portal_01/portal_A_007.png\": 4288,\n\t\"./interactables/portals/portal_01/portal_A_008.png\": 8519,\n\t\"./interactables/portals/portal_01/portal_A_009.png\": 2734,\n\t\"./interactables/portals/portal_01/portal_A_010.png\": 3124,\n\t\"./interactables/portals/portal_01/portal_A_011.png\": 4253,\n\t\"./interactables/portals/portal_01/portal_A_012.png\": 6838,\n\t\"./interactables/portals/portal_01/portal_A_013.png\": 5583,\n\t\"./interactables/portals/portal_01/portal_A_014.png\": 9712,\n\t\"./interactables/portals/portal_01/portal_A_015.png\": 5465,\n\t\"./interactables/portals/portal_01/portal_A_016.png\": 1458,\n\t\"./interactables/stone_0001.png\": 1020,\n\t\"./interactables/wooden_box_0001.png\": 1169,\n\t\"./items/fireball_basic_A.png\": 9240,\n\t\"./items/fireball_basic_B.png\": 4851,\n\t\"./items/fireball_basic_C.png\": 9290,\n\t\"./items/fireball_basic_D.png\": 9717,\n\t\"./items/hertz_item.A.png\": 7720,\n\t\"./items/hertz_item.B.png\": 3475,\n\t\"./projectiles/fireball_basic_A.png\": 9792,\n\t\"./projectiles/fireball_basic_B.png\": 1083,\n\t\"./projectiles/fireball_basic_C.png\": 9954,\n\t\"./projectiles/fireball_basic_D.png\": 4205\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1621;","/**\n * Game Slice\n * Manages game-level state (maps, registry, game status)\n */\n\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  activeMapData: null,\n  tileMapData: [],\n  objectMapData: [],\n  secretMapData: [],\n  objectMetadata: {}, // Track metadata per object position { index: { health: 100, etc } }\n  revealedSecrets: [], // Track which secret zones have been revealed (array of indices)\n  objectTextureIndices: {}, // Track texture index per object position { index: textureIndex }\n  mapWidth: 20,\n  mapHeight: 15,\n  isLoading: false,\n  error: null,\n  isPaused: false,\n  isGameOver: false,\n};\n\nconst gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    setActiveMap: (state, action) => {\n      const { mapData, tileMapData, objectMapData, secretMapData, mapWidth, mapHeight } = action.payload;\n      state.activeMapData = mapData;\n      state.tileMapData = tileMapData;\n      state.objectMapData = objectMapData;\n      state.secretMapData = secretMapData || [];\n      state.objectMetadata = mapData?.meta?.objectMetadata || {}; // Load initial metadata from map\n      state.revealedSecrets = []; // Reset revealed secrets on new map\n      state.objectTextureIndices = {}; // Reset texture indices on new map\n      state.mapWidth = mapWidth;\n      state.mapHeight = mapHeight;\n      state.isGameOver = false;\n    },\n    updateObjectMap: (state, action) => {\n      state.objectMapData = action.payload;\n    },\n    updateObjectMetadata: (state, action) => {\n      const { index, metadata } = action.payload;\n      state.objectMetadata[index] = {\n        ...(state.objectMetadata[index] || {}),\n        ...metadata\n      };\n    },\n    removeObjectAtIndex: (state, action) => {\n      const index = action.payload;\n      if (state.objectMapData[index] !== undefined) {\n        state.objectMapData[index] = null;\n      }\n    },\n    updateObjectAtIndex: (state, action) => {\n      const { index, newId } = action.payload;\n      if (state.objectMapData[index] !== undefined) {\n        state.objectMapData[index] = newId;\n      }\n    },\n    setObjectTextureIndex: (state, action) => {\n      const { index, textureIndex } = action.payload;\n      state.objectTextureIndices[index] = textureIndex;\n    },\n    revealSecretZone: (state, action) => {\n      const indices = action.payload; // Array of tile indices to reveal\n      // Add new indices to revealed array (avoid duplicates)\n      indices.forEach(idx => {\n        if (!state.revealedSecrets.includes(idx)) {\n          state.revealedSecrets.push(idx);\n        }\n      });\n    },\n    setLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    setPaused: (state, action) => {\n      state.isPaused = action.payload;\n    },\n    setGameOver: (state, action) => {\n      state.isGameOver = action.payload;\n    },\n    resetGame: (state) => {\n      return { ...initialState, activeMapData: state.activeMapData };\n    },\n  },\n});\n\nexport const {\n  setActiveMap,\n  updateObjectMap,\n  updateObjectMetadata,\n  removeObjectAtIndex,\n  updateObjectAtIndex,\n  setObjectTextureIndex,\n  revealSecretZone,\n  setLoading,\n  setError,\n  setPaused,\n  setGameOver,\n  resetGame,\n} = gameSlice.actions;\n\nexport default gameSlice.reducer;\n","/**\n * Game Constants\n * All game-wide constants centralized in one place\n */\n\n// Physics Constants\nexport const TILE_SIZE = 32;\nexport const GRAVITY = 0.6;\nexport const TERMINAL_VELOCITY = 12;\nexport const MOVE_SPEED = 4;\nexport const JUMP_FORCE = 10;\n\n// Player Stats Constants\nexport const MAX_HEALTH = 100;\nexport const MAX_OXYGEN = 100;\nexport const MAX_LAVA_RESIST = 100;\nexport const MAX_ICE_RESIST = 100;\n\n// Combat Constants\nexport const SHOOT_COOLDOWN = 350; // milliseconds\nexport const HIT_FLASH_DURATION = 500; // milliseconds\n\n// Animation Constants\nexport const IDLE_ANIMATION = 'idle';\nexport const RUN_ANIMATION = 'run';\nexport const JUMP_ANIMATION = 'jump';\n\n// Liquid Constants\nexport const WATER_HORIZONTAL_DAMPING = 0.82;\nexport const LAVA_HORIZONTAL_DAMPING = 0.78;\n\n// Default Liquid Parameters\nexport const DEFAULT_OXYGEN_PARAMS = {\n  drainPerSecond: 20,\n  regenPerSecond: 35,\n  damagePerSecondWhenDepleted: 10,\n};\n\nexport const DEFAULT_LAVA_PARAMS = {\n  drainPerSecond: 25,\n  regenPerSecond: 40,\n  damagePerSecondWhenDepleted: 15,\n};\n\n// Timing Constants\nexport const HAZARD_DAMAGE_TICK_INTERVAL = 1000; // milliseconds\nexport const LIQUID_DAMAGE_TICK_INTERVAL = 1000; // milliseconds\n\n// Direction Constants\nexport const DIRECTION_RIGHT = 1;\nexport const DIRECTION_LEFT = -1;\n\n// Map Defaults\nexport const DEFAULT_MAP_WIDTH = 20;\nexport const DEFAULT_MAP_HEIGHT = 15;\n\n// Viewport Constants\nexport const VIEWPORT_DEAD_ZONE_LEFT = 0.3;\nexport const VIEWPORT_DEAD_ZONE_RIGHT = 0.7;\n\n// Sound Constants\nexport const DEFAULT_BACKGROUND_MUSIC_VOLUME = 0.6;\nexport const DEFAULT_SFX_VOLUME = 0.5;\n","/**\n * Player Slice\n * Manages player state (position, health, resources, etc.)\n */\n\nimport { createSlice } from '@reduxjs/toolkit';\nimport { MAX_HEALTH, MAX_OXYGEN, MAX_LAVA_RESIST } from '../../constants/gameConstants';\n\nconst initialState = {\n  x: 0,\n  y: 0,\n  width: 32,\n  height: 32,\n  vx: 0,\n  vy: 0,\n  isGrounded: false,\n  direction: 1,\n  animation: 'idle',\n  health: 90,\n  maxHealth: MAX_HEALTH,\n  strength: 30,\n  maxStrength: 100,\n  ammo: 0,\n  oxygen: MAX_OXYGEN,\n  maxOxygen: MAX_OXYGEN,\n  lavaResist: MAX_LAVA_RESIST,\n  maxLavaResist: MAX_LAVA_RESIST,\n  projectiles: [],\n  inWater: false,\n  headUnderWater: false,\n  atSurface: false,\n  liquidType: null,\n  hitTimerMs: 0,\n  isWinning: false,\n  winCounter: 0,\n};\n\nconst playerSlice = createSlice({\n  name: 'player',\n  initialState,\n  reducers: {\n    updateState: (state, action) => {\n      return { ...state, ...action.payload };\n    },\n    setPosition: (state, action) => {\n      const { x, y } = action.payload;\n      state.x = x;\n      state.y = y;\n    },\n    setVelocity: (state, action) => {\n      const { vx, vy } = action.payload;\n      state.vx = vx;\n      state.vy = vy;\n    },\n    setHealth: (state, action) => {\n      state.health = Math.max(0, Math.min(state.maxHealth, action.payload));\n    },\n    addHealth: (state, action) => {\n      state.health = Math.max(0, Math.min(state.maxHealth, state.health + action.payload));\n    },\n    takeDamage: (state, action) => {\n      state.health = Math.max(0, state.health - action.payload);\n      state.hitTimerMs = Math.max(state.hitTimerMs, 500);\n    },\n    setAmmo: (state, action) => {\n      state.ammo = Math.max(0, action.payload);\n    },\n    addAmmo: (state, action) => {\n      state.ammo = Math.max(0, state.ammo + action.payload);\n    },\n    setOxygen: (state, action) => {\n      state.oxygen = Math.max(0, Math.min(state.maxOxygen, action.payload));\n    },\n    setLavaResist: (state, action) => {\n      state.lavaResist = Math.max(0, Math.min(state.maxLavaResist, action.payload));\n    },\n    setStrength: (state, action) => {\n      state.strength = Math.max(0, Math.min(state.maxStrength, action.payload));\n    },\n    setProjectiles: (state, action) => {\n      state.projectiles = action.payload;\n    },\n    addProjectile: (state, action) => {\n      state.projectiles.push(action.payload);\n    },\n    removeProjectile: (state, action) => {\n      state.projectiles = state.projectiles.filter(p => p.id !== action.payload);\n    },\n    setDirection: (state, action) => {\n      state.direction = action.payload;\n    },\n    setAnimation: (state, action) => {\n      state.animation = action.payload;\n    },\n    setGrounded: (state, action) => {\n      state.isGrounded = action.payload;\n    },\n    setInWater: (state, action) => {\n      state.inWater = action.payload;\n    },\n    setLiquidType: (state, action) => {\n      state.liquidType = action.payload;\n    },\n    resetPlayer: () => initialState,\n  },\n});\n\nexport const {\n  updateState,\n  setPosition,\n  setVelocity,\n  setHealth,\n  addHealth,\n  takeDamage,\n  setAmmo,\n  addAmmo,\n  setOxygen,\n  setLavaResist,\n  setStrength,\n  setProjectiles,\n  addProjectile,\n  removeProjectile,\n  setDirection,\n  setAnimation,\n  setGrounded,\n  setInWater,\n  setLiquidType,\n  resetPlayer,\n} = playerSlice.actions;\n\nexport default playerSlice.reducer;\n","/**\n * Settings Slice\n * Manages game settings (audio, graphics, controls, etc.)\n */\n\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  sound: {\n    enabled: false,\n    masterVolume: 1.0,\n    sfxVolume: 0.5,\n    musicVolume: 0.6,\n  },\n  graphics: {\n    backgroundParallaxFactor: 0.3,\n    weatherRain: 0,\n    weatherSnow: 0,\n    weatherClouds: 0,\n    weatherFog: 0,\n    weatherThunder: 0,\n  },\n  ui: {\n    healthBarEnabled: true,\n    oxygenBarEnabled: true,\n    lavaBarEnabled: true,\n    waterSplashesEnabled: true,\n    lavaEmbersEnabled: true,\n  },\n  controls: {\n    keyUp: 'w',\n    keyDown: 's',\n    keyLeft: 'a',\n    keyRight: 'd',\n    keyJump: 'Space',\n    keyShoot: 'MouseLeft',\n  },\n};\n\n// Load settings from localStorage\nconst loadSettings = () => {\n  try {\n    const saved = localStorage.getItem('game_settings');\n    if (saved) {\n      const parsed = JSON.parse(saved);\n      return { ...initialState, ...parsed };\n    }\n  } catch (error) {\n    console.error('Failed to load settings:', error);\n  }\n  return initialState;\n};\n\nconst settingsSlice = createSlice({\n  name: 'settings',\n  initialState: loadSettings(),\n  reducers: {\n    updateSettings: (state, action) => {\n      const newState = { ...state, ...action.payload };\n      // Save to localStorage\n      try {\n        localStorage.setItem('game_settings', JSON.stringify(newState));\n      } catch (error) {\n        console.error('Failed to save settings:', error);\n      }\n      return newState;\n    },\n    setSoundEnabled: (state, action) => {\n      state.sound.enabled = action.payload;\n      try {\n        localStorage.setItem('game_sound_enabled', action.payload ? '1' : '0');\n      } catch (error) {\n        console.error('Failed to save sound setting:', error);\n      }\n    },\n    setSoundVolume: (state, action) => {\n      const { type, volume } = action.payload;\n      if (type === 'master') state.sound.masterVolume = volume;\n      else if (type === 'sfx') state.sound.sfxVolume = volume;\n      else if (type === 'music') state.sound.musicVolume = volume;\n    },\n    setGraphicsSetting: (state, action) => {\n      const { key, value } = action.payload;\n      if (state.graphics[key] !== undefined) {\n        state.graphics[key] = value;\n      }\n    },\n    setUISetting: (state, action) => {\n      const { key, value } = action.payload;\n      if (state.ui[key] !== undefined) {\n        state.ui[key] = value;\n      }\n    },\n    setControlBinding: (state, action) => {\n      const { key, value } = action.payload;\n      if (state.controls[key] !== undefined) {\n        state.controls[key] = value;\n      }\n    },\n    resetSettings: () => {\n      try {\n        localStorage.removeItem('game_settings');\n      } catch (error) {\n        console.error('Failed to clear settings:', error);\n      }\n      return initialState;\n    },\n  },\n});\n\nexport const {\n  updateSettings,\n  setSoundEnabled,\n  setSoundVolume,\n  setGraphicsSetting,\n  setUISetting,\n  setControlBinding,\n  resetSettings,\n} = settingsSlice.actions;\n\nexport default settingsSlice.reducer;\n","/**\n * UI Slice\n * Manages UI state (modals, menus, notifications, etc.)\n */\n\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  isMapModalOpen: true,\n  isSettingsOpen: false,\n  isTerminalOpen: false,\n  isPauseMenuOpen: false,\n  notifications: [],\n  cameraScrollX: 0,\n  shouldCenterMap: false,\n};\n\nconst uiSlice = createSlice({\n  name: 'ui',\n  initialState,\n  reducers: {\n    setMapModalOpen: (state, action) => {\n      state.isMapModalOpen = action.payload;\n    },\n    setSettingsOpen: (state, action) => {\n      state.isSettingsOpen = action.payload;\n    },\n    setTerminalOpen: (state, action) => {\n      state.isTerminalOpen = action.payload;\n      // Also set global flag for game loop\n      try {\n        window.__GAME_TERMINAL_OPEN__ = action.payload;\n      } catch {}\n    },\n    setPauseMenuOpen: (state, action) => {\n      state.isPauseMenuOpen = action.payload;\n    },\n    addNotification: (state, action) => {\n      state.notifications.push({\n        id: Date.now(),\n        timestamp: new Date().toISOString(),\n        ...action.payload,\n      });\n    },\n    removeNotification: (state, action) => {\n      state.notifications = state.notifications.filter(n => n.id !== action.payload);\n    },\n    clearNotifications: (state) => {\n      state.notifications = [];\n    },\n    setCameraScrollX: (state, action) => {\n      state.cameraScrollX = action.payload;\n    },\n    setShouldCenterMap: (state, action) => {\n      state.shouldCenterMap = action.payload;\n    },\n    resetUI: () => initialState,\n  },\n});\n\nexport const {\n  setMapModalOpen,\n  setSettingsOpen,\n  setTerminalOpen,\n  setPauseMenuOpen,\n  addNotification,\n  removeNotification,\n  clearNotifications,\n  setCameraScrollX,\n  setShouldCenterMap,\n  resetUI,\n} = uiSlice.actions;\n\nexport default uiSlice.reducer;\n","/**\n * Redux Store Configuration\n * Centralized state management for the game\n */\n\nimport { configureStore } from '@reduxjs/toolkit';\nimport gameReducer from './slices/gameSlice';\nimport playerReducer from './slices/playerSlice';\nimport settingsReducer from './slices/settingsSlice';\nimport uiReducer from './slices/uiSlice';\n\nconst store = configureStore({\n  reducer: {\n    game: gameReducer,\n    player: playerReducer,\n    settings: settingsReducer,\n    ui: uiReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        // Ignore these action types for serialization checks\n        ignoredActions: ['game/setActiveMap', 'player/updateState'],\n        // Ignore these field paths in all actions\n        ignoredActionPaths: ['payload.projectiles', 'payload.timestamp'],\n        // Ignore these paths in the state\n        ignoredPaths: ['game.activeMapData', 'player.projectiles'],\n      },\n    }),\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\nexport default store;\n","/**\n * Theme Configuration for Styled Components\n * Centralized design tokens and theme variables\n */\n\nconst theme = {\n  colors: {\n    primary: '#4CAF50',\n    secondary: '#2196F3',\n    danger: '#f44336',\n    warning: '#ff9800',\n    success: '#8bc34a',\n    info: '#00bcd4',\n    dark: '#222',\n    darkGray: '#333',\n    mediumGray: '#555',\n    lightGray: '#777',\n    background: '#111',\n    surface: '#f9f9f9',\n    overlay: 'rgba(0, 0, 0, 0.6)',\n    text: '#333',\n    textLight: '#666',\n    textDark: '#fff',\n    border: '#ddd',\n    borderLight: '#eee',\n  },\n\n  spacing: {\n    xs: '4px',\n    sm: '8px',\n    md: '16px',\n    lg: '24px',\n    xl: '32px',\n    xxl: '48px',\n  },\n\n  borderRadius: {\n    sm: '4px',\n    md: '6px',\n    lg: '8px',\n    xl: '12px',\n    round: '50%',\n  },\n\n  shadows: {\n    sm: '0 2px 4px rgba(0,0,0,0.1)',\n    md: '0 4px 8px rgba(0,0,0,0.2)',\n    lg: '0 10px 25px rgba(0,0,0,0.5)',\n  },\n\n  fontSize: {\n    xs: '11px',\n    sm: '12px',\n    md: '14px',\n    base: '16px',\n    lg: '18px',\n    xl: '24px',\n    xxl: '32px',\n  },\n\n  fontWeight: {\n    light: 300,\n    normal: 400,\n    medium: 500,\n    semibold: 600,\n    bold: 700,\n  },\n\n  transitions: {\n    fast: '0.15s ease',\n    normal: '0.3s ease',\n    slow: '0.5s ease',\n  },\n\n  zIndex: {\n    base: 1,\n    dropdown: 100,\n    modal: 1000,\n    tooltip: 1100,\n    notification: 1200,\n  },\n\n  breakpoints: {\n    mobile: '480px',\n    tablet: '768px',\n    desktop: '1024px',\n    wide: '1280px',\n  },\n};\n\nexport default theme;\n","/**\n * Global Styles using Styled Components\n */\n\nimport { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyles = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    overflow: hidden;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n\n  button {\n    cursor: pointer;\n    font-family: inherit;\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.6;\n    }\n  }\n\n  input, textarea, select {\n    font-family: inherit;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n\n  ul, ol {\n    list-style: none;\n  }\n\n  img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  /* Scrollbar Styles */\n  ::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #222;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #555;\n    border-radius: 5px;\n\n    &:hover {\n      background: #777;\n    }\n  }\n`;\n\nexport default GlobalStyles;\n","import i18n from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\n\nimport lv_navigation_home from \"./translations/lv/navigation_home.json\"\nimport no_navigation_home from  \"./translations/no/navigation_home.json\"\nimport en_navigation_home from  \"./translations/en/navigation_home.json\"\nimport ru_navigation_home from  \"./translations/ru/navigation_home.json\"\nimport ja_navigation_home from  \"./translations/ja/navigation_home.json\"\n\nconst lv_navigation = {\n    ...lv_navigation_home\n}\n\nconst no_navigation = {\n    ...no_navigation_home\n}\n\nconst en_navigation = {\n    ...en_navigation_home\n}\n\nconst ru_navigation = {\n    ...ru_navigation_home\n}\n\nconst ja_navigation = {\n    ...ja_navigation_home\n}\n\ni18n\n    .use(initReactI18next)\n    .init({\n        lng: \"en\",\n        fallbackLng: \"en\",\n        supportedLngs: [\"lv\", \"no\", \"en\", \"ru\", \"ja\"],\n        ns: [\"navigation\"],\n        defaultNS: \"navigation\",\n        interpolation: { escapeValue: false },\n        resources: {\n            lv: {\n                navigation: lv_navigation\n            },\n            no: {\n                navigation: no_navigation\n            },\n            en: {\n                navigation: en_navigation\n            },\n            ru: {\n                navigation: ru_navigation\n            },\n            ja: {\n                navigation: ja_navigation\n            },\n        },\n    })\n\nexport default i18n","import styled from \"styled-components\"\nimport { NavLink } from \"react-router-dom\"\nimport { useTranslation } from \"react-i18next\"\n\nexport const NavLinkButton = styled(NavLink)`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: transparent;\n    color: lightgray;\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    padding: 0 10px;\n    font-size: 13px;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    white-space: nowrap;\n    border-radius: 0;\n    text-decoration: none;\n\n    &:hover {\n        background-color: #f4c542;\n        color: #2a2a2a;\n        border-color: #f4c542;\n    }\n\n    &.active {\n        background-color: rgba(255, 255, 255, 0.15);\n        border-color: rgba(255, 255, 255, 0.5);\n        color: black;\n    }\n`\n\nexport function SectionHeaderNavigationChapters() {\n    const { t } = useTranslation(\"navigation\");\n    const chapter_home = t(\"NAVIGATION_HOME\")\n    const chapter_game = t(\"NAVIGATION_NEW_GAME\")\n    const chapter_editor = t(\"NAVIGATION_EDITOR\")\n    const chapter_crystals = t(\"NAVIGATION_CRYSTALS\")\n    const chapter_repository = t(\"NAVIGATION_REPOSITORY\")\n\n    // JAUNS: Funkcija, kas nosta signlu atvrt modlo logu\n    const handleNewGameClick = () => {\n        // Nostam globlu notikumu, ko 'game.jsx' vars uztvert\n        window.dispatchEvent(new Event('open-new-game-modal'));\n    };\n\n    return (\n        <nav style={{ display: \"flex\", gap: \"0\" }}>\n            <NavLinkButton to=\"/\" className={({ isActive }) => isActive ? \"active\" : \"\"}>\n                { chapter_home }\n            </NavLinkButton>\n\n            {/* JAUNS: Pievienots onClick handleris */}\n            <NavLinkButton to=\"/game\" onClick={handleNewGameClick} className={({ isActive }) => isActive ? \"active\" : \"\"}>\n                { chapter_game }\n            </NavLinkButton>\n\n            <NavLinkButton to=\"/editor\" className={({ isActive }) => isActive ? \"active\" : \"\"}>\n                { chapter_editor }\n            </NavLinkButton>\n\n            <NavLinkButton to=\"/crystals\" className={({ isActive }) => isActive ? \"active\" : \"\"}>\n                { chapter_crystals }\n            </NavLinkButton>\n\n            <NavLinkButton to=\"/repository\" className={({ isActive }) => isActive ? \"active\" : \"\"}>\n                { chapter_repository }\n            </NavLinkButton>\n        </nav>\n    )\n}\n","import styled from \"styled-components\"\nimport { useTranslation } from \"react-i18next\"\nimport { useState, useRef, useEffect } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { setSoundEnabled } from \"../store/slices/settingsSlice\"\n\nconst NavButton = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: transparent;\n    color: lightgray;\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    //height: 36px;              /* fiksts augstums desktop */\n    padding: 0 10px;           /* horizontlais padding */\n    font-size: 13px;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    white-space: nowrap;\n    border-radius: 0;\n    height: 36px;\n\n    &:hover {\n        background-color: #f4c542;\n        color: #2a2a2a;\n        border-color: #f4c542;\n    }\n\n    &.active {\n        background-color: rgba(255, 255, 255, 0.15);\n        border-color: rgba(255, 255, 255, 0.5);\n        color: black;\n    }\n`\n\nconst DropdownContainer = styled.div`\n    position: relative;\n    display: flex;\n`\n\nconst DropdownMenu = styled.div`\n    position: absolute;\n    top: 100%;\n    right: 0;\n    background-color: #333;\n    border: 1px solid #444;\n    border-radius: 4px;\n    padding: 10px;\n    z-index: 2000;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.5);\n    min-width: 150px;\n    margin-top: 5px;\n`\n\nconst MenuItem = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px;\n    color: white;\n    font-size: 12px;\n    cursor: pointer;\n    border-radius: 4px;\n\n    &:hover {\n        background-color: #444;\n    }\n`\n\nconst ToggleSwitch = styled.div`\n    width: 34px;\n    height: 18px;\n    background-color: ${props => props.$active ? '#f4c542' : '#666'};\n    border-radius: 9px;\n    position: relative;\n    transition: background-color 0.3s;\n\n    &::after {\n        content: '';\n        position: absolute;\n        top: 2px;\n        left: ${props => props.$active ? '18px' : '2px'};\n        width: 14px;\n        height: 14px;\n        background-color: white;\n        border-radius: 50%;\n        transition: left 0.3s;\n    }\n`\n\nexport default function SectionHeaderNavigationLanguages() {\n    const { i18n } = useTranslation();\n    const dispatch = useDispatch();\n    const dropdownRef = useRef(null);\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    \n    const { sound } = useSelector(state => state.settings);\n    const soundEnabled = sound?.enabled ?? false;\n\n    const currentLang = i18n.language || 'en'\n\n    const handleLanguageChange = (newLang) => {\n        i18n.changeLanguage(newLang)\n    }\n\n    const toggleSound = () => {\n        const next = !soundEnabled;\n        dispatch(setSoundEnabled(next));\n        try { window.dispatchEvent(new CustomEvent('game-sound-toggle', { detail: { enabled: next } })); } catch {}\n        try { window.dispatchEvent(new CustomEvent('game-sound-user-gesture')); } catch {}\n    };\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setIsMenuOpen(false);\n            }\n        };\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    return (\n        <nav style={{ display: \"flex\", gap: \"0\" }}>\n            <NavButton\n                className={currentLang === 'lv' ? 'active' : ''}\n                onClick={() => handleLanguageChange('lv')}\n            >\n                LV\n            </NavButton>\n\n            <NavButton\n                className={currentLang === 'no' ? 'active' : ''}\n                onClick={() => handleLanguageChange('no')}\n            >\n                NO\n            </NavButton>\n\n            <NavButton\n                className={currentLang === 'en' ? 'active' : ''}\n                onClick={() => handleLanguageChange('en')}\n            >\n                EN\n            </NavButton>\n\n            <NavButton\n                className={currentLang === 'ru' ? 'active' : ''}\n                onClick={() => handleLanguageChange('ru')}\n            >\n                RU\n            </NavButton>\n\n            <NavButton\n                className={currentLang === 'ja' ? 'active' : ''}\n                onClick={() => handleLanguageChange('ja')}\n            >\n                JA\n            </NavButton>\n\n            <DropdownContainer ref={dropdownRef}>\n                <NavButton onClick={() => setIsMenuOpen(!isMenuOpen)} title=\"Settings\">\n                    \n                </NavButton>\n                {isMenuOpen && (\n                    <DropdownMenu>\n                        <MenuItem onClick={toggleSound}>\n                            <span>Sound Effects</span>\n                            <ToggleSwitch $active={soundEnabled} />\n                        </MenuItem>\n                        <div style={{ height: '1px', backgroundColor: '#444', margin: '5px 0' }} />\n                        <div style={{ padding: '5px 8px', fontSize: '10px', color: '#888' }}>\n                            GAME SETTINGS\n                        </div>\n                    </DropdownMenu>\n                )}\n            </DropdownContainer>\n        </nav>\n    )\n}","import styled from \"styled-components\"\n\nconst StyledLogo = styled.p`\n    text-transform: uppercase;\n`\n\nexport function SectionHeaderNavigationLogo() {\n\n    return (\n        <StyledLogo>\n            Element Masters\n        </StyledLogo>\n    )\n}","import styled from \"styled-components\"\nimport { SectionHeaderNavigationChapters } from \"./section.header.navigation.chapters\"\nimport SectionHeaderNavigationLanguages from \"./section.header.navigation.languages\"\nimport {SectionHeaderNavigationLogo} from \"./section.header.navigation.logo\";\n\nconst StyledSectionHeaderNavigation = styled.div`\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    height: auto;\n    border: solid 1px lightgrey;\n    \n    .innerHeader {\n        display: flex;\n        flex-direction: row;\n        width: 100%;\n        height: auto;\n        margin: 5px 20px;\n        //border: solid 1px red;\n        \n        .innerHeaderLogo {\n            display: flex;\n            flex-direction: row;\n            width: 220px;\n            height: auto;\n            //border: solid 1px green;\n        }\n        \n        .innerHeaderChapters {\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            width: 100%;\n            height: auto;\n            //border: solid 1px brown;\n        }\n        \n        .innerHeaderLanguages {\n            display: flex;\n            flex-direction: row;\n            width: auto;\n            height: auto;\n            //border: solid 1px red;\n        }\n    }\n`\n\nfunction SectionHeader() {\n\n    return (\n        <StyledSectionHeaderNavigation>\n            <div className=\"innerHeader\">\n                <div className=\"innerHeaderLogo\">\n                    <SectionHeaderNavigationLogo />\n                </div>\n\n                <div className=\"innerHeaderChapters\">\n                    <SectionHeaderNavigationChapters />\n                </div>\n\n                <div className=\"innerHeaderLanguages\">\n                    <SectionHeaderNavigationLanguages />\n                </div>\n            </div>\n        </StyledSectionHeaderNavigation>\n    )\n}\n\nexport default SectionHeader","import styled from \"styled-components\"\n\nconst StyledSectionHeaderFooter = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    width: 100%;\n    height: auto;\n    border: solid 1px lightgray;\n\n    .innerFooter {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-end;\n        width: 100%;\n        height: auto;\n        margin: 5px 20px;\n        //border: solid 1px red;\n    }\n\n    p {\n        font-size: 12px;\n        color: lightgrey;\n    }\n`\n\nfunction SectionFooter() {\n\n    return (\n        <StyledSectionHeaderFooter>\n            <div className=\"innerFooter\">\n                <p>element_masters v.0.0.0</p>\n            </div>\n        </StyledSectionHeaderFooter>\n    )\n}\n\nexport default SectionFooter","import styled from \"styled-components\"\n\nconst StyledSectionContent = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    border: solid 1px lightgray;\n`\n\nfunction SectionContent({ children, style }) {\n\n    return (\n        <StyledSectionContent style={style}>\n            { children }\n        </StyledSectionContent>\n    )\n}\n\nexport default SectionContent","/**\n * Game Registry Module\n * Loads all JSON files and creates a registry array.\n * Executed only once during initialization.\n */\n\nlet _registry = null;\n\n/**\n * Initialize the registry by loading all JSON, image, and sound assets.\n * This is executed only once when the module is first imported.\n * @returns {Array} The loaded registry items\n */\nconst initRegistry = () => {\n    // If registry already exists, do nothing\n    if (_registry) return _registry;\n\n    console.time(\"Registry Load Time\");\n\n    try {\n        // 1. Load JSON data\n        const jsonContext = require.context('../../assets/json', true, /\\.json$/);\n\n        // 2. Load IMAGES\n        const imageContext = require.context('../../assets/images', true, /\\.(png|jpe?g|svg)$/);\n\n        // 3. Load SOUNDS (non-fatal: if not supported or directory doesn't exist, continue without sounds)\n        let soundContext = null;\n        try {\n            soundContext = require.context('../../assets/sound', true, /\\.(mp3|wav|ogg|m4a|aac|flac|webm)$/);\n        } catch (e) {\n            // Sound context not available  not fatal\n            soundContext = null;\n        }\n\n        // Check if sound context is available\n        if (!soundContext) {\n            console.warn('Sound context unavailable. Continuing without pre-resolved sound assets.');\n        }\n\n        // Helper function for path resolution\n        const resolvePath = (rawPath) => {\n            if (!rawPath) return null;\n            try {\n                // Convert JSON path to relative Webpack path\n                // Example: \"/assets/images/blocks/dirt.png\" -> \"./blocks/dirt.png\"\n                const cleanPath = rawPath.replace('/assets/images/', './').replace('src/assets/images/', './');\n                const relativePath = cleanPath.startsWith('./') ? cleanPath : `./${cleanPath}`;\n\n                const imageModule = imageContext(relativePath);\n                return imageModule.default || imageModule;\n            } catch (e) {\n                console.warn(`Image not found: ${rawPath}`);\n                return rawPath; // If not found, return original path\n            }\n        };\n\n        let _warnedUnresolvedSound = false;\n        const resolveSound = (rawPath) => {\n            if (!rawPath) return null;\n            // Normalize path for sound context\n            const normalize = (p) => {\n                let out = p;\n                out = out.replace('/assets/sounds/', './').replace('src/assets/sounds/', './');\n                out = out.replace('/assets/sound/', './').replace('src/assets/sound/', './');\n                return out.startsWith('./') ? out : `./${out}`;\n            };\n            const rel = normalize(rawPath);\n            // Try to resolve with sound context\n            if (soundContext) {\n                try {\n                    const mod = soundContext(rel);\n                    return mod.default || mod;\n                } catch {}\n            }\n            // Unable to resolve in bundler  return original path to try loading via public URL\n            if (!_warnedUnresolvedSound) {\n                console.warn(`SFX not bundled: ${rawPath}. Will try loading via public URL. Place files under src/assets/sound, or copy to public/assets/sound.`);\n                _warnedUnresolvedSound = true;\n            }\n            return rawPath;\n        };\n\n        _registry = jsonContext.keys().map((key) => {\n            const data = jsonContext(key);\n            const item = data.default || data;\n\n            // Apstrdjam vienu bildi (vecais variants)\n            let resolvedTexture = resolvePath(item.texture);\n\n            // Apstrdjam bilu masvu (jaunais variants animcijm)\n            let resolvedTextures = [];\n            if (item.textures && Array.isArray(item.textures)) {\n                resolvedTextures = item.textures.map(path => resolvePath(path));\n            }\n\n            return {\n                ...item,\n                texture: resolvedTexture,     // Viena bilde (ja ir)\n                textures: resolvedTextures,   // Masvs (ja ir)\n                // Skaas ce (ja ir)  prvrsts uz bundlera URL\n                sfx: resolveSound(item.sfx || item.sfxResolved || null)\n            };\n        });\n\n        // --- JAUNS: Pcapstrde (Linking & Merging) ---\n        // Ms ejam cauri visiem elementiem un mekljam tos, kuriem ir 'defaultAnimation'.\n        // Ja atrodam, ms kopjam vizulos datus no animcijas uz galveno objektu.\n        \n        _registry.forEach(item => {\n            if (item.defaultAnimation) {\n                // Mekljam animcijas objektu pc ID\n                // Piezme: Tav piemr player.json ir \"player_default\", bet fail id ir \"player_default_100\". \n                // eit ms minm atrast preczu vai daju atbilstbu, lai kods strdtu abos gadjumos.\n                const animItem = _registry.find(r => r.id === item.defaultAnimation || r.id === item.defaultAnimation + \"_100\");\n                \n                if (animItem) {\n                    // Kopjam vizulos datus uz galveno 'player' objektu\n                    if (!item.texture) item.texture = animItem.texture;\n                    if (!item.textures || item.textures.length === 0) item.textures = animItem.textures;\n                    if (!item.animationSpeed) item.animationSpeed = animItem.animationSpeed;\n                    \n                    // Iezmjam animcijas objektu k 'hidden', lai to nerdtu Editor\n                    animItem.isHiddenInEditor = true;\n                }\n                \n                // Tpat paslpjam ar dead un target animcijas, ja ts eksist k atsevii itemi\n                if (item.deadAnimation) {\n                     const deadItem = _registry.find(r => r.id === item.deadAnimation);\n                     if (deadItem) deadItem.isHiddenInEditor = true;\n                }\n                if (item.targetAnimation) {\n                     const targetItem = _registry.find(r => r.id === item.targetAnimation || r.id === item.targetAnimation + \"_100\");\n                     if (targetItem) targetItem.isHiddenInEditor = true;\n                }\n            }\n        });\n\n        console.log(` Game Registry initialized. Loaded ${_registry.length} items.`);\n\n    } catch (error) {\n        console.error(\" Failed to load Game Registry:\", error);\n        _registry = [];\n    }\n\n    console.timeEnd(\"Registry Load Time\");\n    return _registry;\n};\n\n// Automtiski inicializjam, kad is fails tiek importts pirmo reizi\ninitRegistry();\n\n// Eksportjam funkciju, lai piektu datiem (getter)\nexport const getRegistry = () => {\n    return _registry;\n};\n\n// Eksportjam palgfunkciju, lai mekltu pc ID\nexport const findItemById = (id) => {\n    return _registry ? _registry.find(item => item.id === id) : null;\n};\n\nexport default _registry;\n","import React, { useEffect } from 'react';\nimport { Outlet, Link } from \"react-router-dom\"\nimport SectionHeader from \"./sections/section.header\";\nimport SectionFooter from \"./sections/section.footer\";\nimport SectionContent from \"./sections/section.content\";\n\n// Import the registry getter from the centralized engine registry\n// The import itself ensures that the registry code executes and data loads into memory.\nimport { getRegistry } from './engine/registry';\n\nfunction App() {\n\n  useEffect(() => {\n    // Verify that registry data is loaded into memory\n    const items = getRegistry();\n    console.log(\"App start - Current Registry in Memory:\", items);\n  }, []);\n\n  return (\n        <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'flex-start',\n            alignItems: 'center',\n            width: '100vw',\n            height: '100vh',\n            overflow: 'hidden'\n        }}>\n            <div style={{ width: '100%', flexShrink: 0 }}>\n                <SectionHeader />\n            </div>\n            <SectionContent style={{ flexGrow: 1, width: '100%', overflow: 'auto' }}>\n                <Outlet />\n            </SectionContent>\n            <div style={{ width: '100%', flexShrink: 0 }}>\n                <SectionFooter />\n            </div>\n        </div>\n      )\n    }\n\nexport default App","const PUBLIC_URL = (typeof process !== 'undefined' && process.env?.PUBLIC_URL) || '';\n\nconst config = {\n    apiUrl: (typeof process !== 'undefined' && process.env?.REACT_APP_API_URL) || 'http://localhost:8000',\n\n    logo: {\n        URL_LOGO_01: `${PUBLIC_URL}/assets/logo/Logo1.png`,\n        URL_LOGO_02: `${PUBLIC_URL}/assets/logo/Logo2.png`,\n        URL_LOGO_03: `${PUBLIC_URL}/assets/logo/Logo3.png`,\n        URL_LOGO_04: `${PUBLIC_URL}/assets/logo/Logo4.png`,\n        URL_LOGO_05: `${PUBLIC_URL}/assets/logo/Logo5.png`,\n    },\n\n};\n\nexport default config","import React from 'react'\nimport styled from 'styled-components'\nimport config from '../../config'\n\nconst HomeContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    //background-color: darkred;\n    \n    .logoRow{\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        width: 100%;\n        height: auto;\n        margin: 10px;\n        //border: solid 1px red;\n        \n        & img {\n            width: 350px;\n        }\n    }\n`\n\nexport default function Home() {\n    const LOGO_01 = config.logo.URL_LOGO_01\n    const LOGO_02 = config.logo.URL_LOGO_02\n    const LOGO_03 = config.logo.URL_LOGO_03\n    const LOGO_04 = config.logo.URL_LOGO_04\n    const LOGO_05 = config.logo.URL_LOGO_05\n    console.log(LOGO_01, LOGO_02, LOGO_03, LOGO_04, LOGO_05)\n\n    return (\n        <HomeContainer>\n           <div className={\"logoRow\"}>\n               <img src={LOGO_01} alt=\"logo\" />\n               <img src={LOGO_02} alt=\"logo\" />\n               <img src={LOGO_03} alt=\"logo\" />\n               <img src={LOGO_04} alt=\"logo\" />\n\n           </div>\n        </HomeContainer>\n    )\n}\n","// Lightweight texture cache around PIXI.Texture.from\n// Usage:\n//   const cache = new TextureCache();\n//   const tex = cache.get(url);\n//   cache.dispose(); // optional\n\nimport { Texture } from 'pixi.js';\n\nexport class TextureCache {\n  constructor() {\n    this._map = new Map();\n  }\n\n  get(url) {\n    if (!url) return null;\n    const m = this._map;\n    if (m.has(url)) return m.get(url);\n    const tex = Texture.from(url);\n    m.set(url, tex);\n    return tex;\n  }\n\n  has(url) {\n    return this._map.has(url);\n  }\n\n  dispose(url) {\n    // Do not destroy textures created by Texture.from (managed by Pixi's cache);\n    // only release our Map reference.\n    if (url && this._map.has(url)) this._map.delete(url);\n  }\n\n  clear() {\n    this._map.clear();\n  }\n}\n","import { Graphics } from 'pixi.js';\n\n// Simple rain system with variable speeds and single-bounce behavior on solid tiles.\nexport default class WeatherRain {\n  constructor(container, api, getIntensity) {\n    this.container = container;\n    this.api = api;\n    this.getIntensity = getIntensity || (() => 0);\n    this.width = api.mapWidth * api.tileSize;\n    this.height = api.mapHeight * api.tileSize;\n    this.particles = [];\n    this.intensity = 0;\n    const area = this.width * this.height;\n    // Reasonable particle cap depending on map area to keep FPS stable\n    this.maxParticles = Math.max(160, Math.floor(area / 2600));\n  }\n\n  setIntensity(v) {\n    this.intensity = Math.max(0, Math.min(100, Number(v) || 0));\n  }\n\n  spawnOne() {\n    const g = new Graphics();\n    g.clear();\n    // Draw a thin slanted line to mimic a raindrop motion blur\n    g.rect(0, 0, 1.3, 9);\n    g.fill({ color: 0x4aa3ff, alpha: 0.92 });\n    const x = Math.random() * this.width;\n    const y = -10 - Math.random() * 30;\n    const speed = 520 + Math.random() * 520; // px/s, different speeds for depth\n    const vx = (Math.random() * 60 - 30); // slight wind\n    const vy = speed;\n    g.x = x;\n    g.y = y;\n    g.rotation = 0.15; // slight tilt\n    this.container.addChild(g);\n    this.particles.push({ g, x, y, vx, vy, bounces: 0, alive: true });\n  }\n\n  update(dtMs) {\n    // adjust intensity dynamically\n    this.setIntensity(this.getIntensity());\n\n    // Constant-density controller: keep active particles near target count\n    const norm = Math.max(0, Math.min(1, this.intensity / 100));\n    const scaled = Math.pow(norm, 1.15);\n    let target = Math.floor(this.maxParticles * scaled);\n    if (scaled > 0 && target < 8) target = 8; // small baseline so low intensity still visible\n\n    const deficit = target - this.particles.length;\n    if (deficit > 0) {\n      // Smooth ramp, spawn only a fraction per frame to avoid bursts\n      const maxPerFrame = 48;\n      const smooth = Math.max(1, Math.ceil(target * 0.02));\n      const toSpawn = Math.min(deficit, smooth, maxPerFrame);\n      for (let i = 0; i < toSpawn; i++) this.spawnOne();\n    }\n    // Gentle over-target culling to keep density steady\n    if (this.particles.length > target) {\n      const surplus = this.particles.length - target;\n      const toCull = Math.min(surplus, Math.max(1, Math.ceil(this.particles.length * 0.02)));\n      for (let i = 0; i < toCull; i++) {\n        const p = this.particles.pop();\n        if (!p) break;\n        try { p.g.parent && p.g.parent.removeChild(p.g); } catch {}\n        try { p.g.destroy(); } catch {}\n      }\n    }\n\n    const gAcc = 1800; // gravity px/s^2\n    const dt = dtMs / 1000;\n    const toRemove = [];\n\n    for (let i = 0; i < this.particles.length; i++) {\n      const p = this.particles[i];\n      if (!p.alive) { toRemove.push(i); continue; }\n\n      p.vy += gAcc * dt;\n      let nx = p.x + p.vx * dt;\n      let ny = p.y + p.vy * dt;\n\n      // Liquid surface interaction: water/lava\n      try {\n        if (typeof this.api.getLiquidSurfaceY === 'function') {\n          // Prefer closest surface above current ny\n          const syWater = this.api.getLiquidSurfaceY('water', nx);\n          if (Number.isFinite(syWater) && ny >= syWater) {\n            // Hit water surface  spawn small splash and despawn\n            const speed = Math.max(0, Math.min(1500, p.vy));\n            const strength = Math.min(2, 0.4 + speed / 900);\n            if (typeof this.api.onWaterImpact === 'function') this.api.onWaterImpact({ x: nx, strength });\n            p.alive = false; toRemove.push(i);\n            continue;\n          }\n          const syLava = this.api.getLiquidSurfaceY('lava', nx);\n          if (Number.isFinite(syLava) && ny >= syLava) {\n            // Hit lava  steam puff and despawn\n            const speed = Math.max(0, Math.min(1500, p.vy));\n            const strength = Math.min(2, 0.35 + speed / 1200);\n            if (typeof this.api.onLavaImpact === 'function') this.api.onLavaImpact({ x: nx, y: syLava, strength });\n            p.alive = false; toRemove.push(i);\n            continue;\n          }\n        }\n      } catch {}\n\n      // Collision check (treat as point)\n      if (this.api.isSolidAt(nx, ny)) {\n        // Backtrack slightly to stand above surface\n        let guard = 0;\n        while (this.api.isSolidAt(nx, ny) && guard < 6) { ny -= 1; guard++; }\n        // Bounce once, then fade out quickly on next impact\n        if (p.bounces === 0 && Math.abs(p.vy) > 150) {\n          p.vy = -p.vy * 0.3; // dampened bounce\n          p.vx *= 0.8;\n          p.bounces++;\n        } else {\n          // Small splash effect: shrink line and fade\n          p.alive = false;\n          toRemove.push(i);\n        }\n      }\n\n      p.x = nx;\n      p.y = ny;\n      p.g.x = p.x;\n      p.g.y = p.y;\n\n      // Off-screen cleanup\n      if (p.y > this.height + 40 || p.x < -40 || p.x > this.width + 40) {\n        p.alive = false;\n        toRemove.push(i);\n      }\n    }\n\n    // remove in reverse\n    for (let j = toRemove.length - 1; j >= 0; j--) {\n      const idx = toRemove[j];\n      const p = this.particles[idx];\n      if (p && p.g && p.g.parent) p.g.parent.removeChild(p.g);\n      if (p && p.g && p.g.destroy) try { p.g.destroy(); } catch {}\n      this.particles.splice(idx, 1);\n    }\n  }\n\n  destroy() {\n    this.particles.forEach(p => {\n      try { p.g.parent && p.g.parent.removeChild(p.g); } catch {}\n      try { p.g.destroy(); } catch {}\n    });\n    this.particles = [];\n  }\n}\n","import { Graphics } from 'pixi.js';\n\n// Snow system: slow fluttering flakes with varied speeds; stop on blocks without bouncing.\nexport default class WeatherSnow {\n  constructor(container, api, getIntensity) {\n    this.container = container;\n    this.api = api;\n    this.getIntensity = getIntensity || (() => 0);\n    this.width = api.mapWidth * api.tileSize;\n    this.height = api.mapHeight * api.tileSize;\n    this.flakes = [];\n    this.intensity = 0;\n    const area = this.width * this.height;\n    // Snow lasts longer; keep a tighter cap than rain for performance\n    this.maxFlakes = Math.max(120, Math.floor(area / 3800));\n  }\n\n  setIntensity(v) {\n    this.intensity = Math.max(0, Math.min(100, Number(v) || 0));\n  }\n\n  spawnOne() {\n    const g = new Graphics();\n    g.clear();\n    // Slightly larger/more visible flakes on average\n    const r = 1.2 + Math.random() * 2.0; // radius\n    g.circle(0, 0, r);\n    g.fill({ color: 0xffffff, alpha: 0.97 });\n    const x = Math.random() * this.width;\n    const y = -10 - Math.random() * 30;\n    const speed = 40 + Math.random() * 80; // slower than rain, but a bit more range\n    const drift = (Math.random() * 50 - 25); // horizontal drift\n    g.x = x;\n    g.y = y;\n    this.container.addChild(g);\n    this.flakes.push({ g, x, y, vx: drift, vy: speed, alive: true, settled: false, life: 1.0, phase: 'fall', restMs: 0 });\n  }\n\n  update(dtMs) {\n    // adjust intensity dynamically\n    this.setIntensity(this.getIntensity());\n\n    // Constant-density controller to avoid wavey bursts\n    const norm = Math.max(0, Math.min(1, this.intensity / 100));\n    const scaled = Math.pow(norm, 1.15);\n    let target = Math.floor(this.maxFlakes * scaled);\n    if (scaled > 0 && target < 10) target = 10;\n\n    const deficit = target - this.flakes.length;\n    if (deficit > 0) {\n      const maxPerFrame = 24; // slower than rain\n      const smooth = Math.max(1, Math.ceil(target * 0.015));\n      const toSpawn = Math.min(deficit, smooth, maxPerFrame);\n      for (let i = 0; i < toSpawn; i++) this.spawnOne();\n    }\n    // Gentle over-target culling to keep density steady when slider decreases\n    if (this.flakes.length > target) {\n      const surplus = this.flakes.length - target;\n      const toCull = Math.min(surplus, Math.max(1, Math.ceil(this.flakes.length * 0.015)));\n      for (let i = 0; i < toCull; i++) {\n        const f = this.flakes.pop();\n        if (!f) break;\n        try { f.g.parent && f.g.parent.removeChild(f.g); } catch {}\n        try { f.g.destroy(); } catch {}\n      }\n    }\n\n    const gAcc = 200; // gentle gravity\n    const dt = dtMs / 1000;\n    const toRemove = [];\n\n    for (let i = 0; i < this.flakes.length; i++) {\n      const f = this.flakes[i];\n      if (!f.alive) { toRemove.push(i); continue; }\n\n      if (f.phase === 'fall') {\n        f.vy = Math.min(140, f.vy + gAcc * dt);\n        // small oscillation for flutter\n        f.vx += Math.sin((f.y + i) * 0.02) * 7 * dt;\n        let nx = f.x + f.vx * dt;\n        let ny = f.y + f.vy * dt;\n\n        // Liquid interaction first\n        try {\n          if (typeof this.api.getLiquidSurfaceY === 'function') {\n            const sYwater = this.api.getLiquidSurfaceY('water', nx);\n            if (Number.isFinite(sYwater) && ny >= sYwater) {\n              // Land on water surface and rest for a bit\n              ny = sYwater - 0.5;\n              f.x = nx; f.y = ny; f.vx = 0; f.vy = 0;\n              f.phase = 'rest';\n              f.restMs = 800 + Math.random() * 400; // 0.8..1.2s\n              // Do not continue to solid collision checks this frame\n              // Update display and proceed to next flake\n              f.g.x = f.x; f.g.y = f.y;\n              continue;\n            }\n            const sYlava = this.api.getLiquidSurfaceY('lava', nx);\n            if (Number.isFinite(sYlava) && ny >= sYlava) {\n              // Steam puff and despawn\n              if (typeof this.api.onLavaImpact === 'function') this.api.onLavaImpact({ x: nx, y: sYlava, strength: 0.5 });\n              f.alive = false; toRemove.push(i); continue;\n            }\n          }\n        } catch {}\n\n        // Solid collision\n        if (this.api.isSolidAt(nx, ny)) {\n          // backtrack up to stand above the surface\n          let guard = 0;\n          while (this.api.isSolidAt(nx, ny) && guard < 10) { ny -= 1; guard++; }\n          f.settled = true;\n          f.vx = 0;\n          f.vy = 0;\n          f.phase = 'rest';\n          f.restMs = 800 + Math.random() * 400;\n        }\n\n        f.x = nx;\n        f.y = ny;\n      } else if (f.phase === 'rest') {\n        // Flake rests on surface for a short time (water or ground), then starts sinking/falling slowly\n        f.restMs -= dtMs;\n        if (f.restMs <= 0) {\n          f.phase = 'sinking';\n          // resume gentle fall with reduced alpha\n          f.vx = (Math.random() * 20 - 10);\n          f.vy = 20 + Math.random() * 20;\n        }\n      } else if (f.phase === 'sinking') {\n        // Continue downward slowly; fade out progressively\n        f.vy = Math.min(60, f.vy + gAcc * 0.3 * dt);\n        f.x += f.vx * dt;\n        f.y += f.vy * dt;\n        f.life -= 0.22 * dt;\n        if (f.life <= 0) { f.alive = false; toRemove.push(i); }\n      }\n\n      f.g.x = f.x;\n      f.g.y = f.y;\n      if (f.phase === 'rest' || f.phase === 'sinking' || f.settled) f.g.alpha = Math.max(0, Math.min(1, f.life));\n\n      if (f.y > this.height + 40 || f.x < -40 || f.x > this.width + 40) {\n        f.alive = false;\n        toRemove.push(i);\n      }\n    }\n\n    for (let j = toRemove.length - 1; j >= 0; j--) {\n      const idx = toRemove[j];\n      const f = this.flakes[idx];\n      if (f && f.g && f.g.parent) f.g.parent.removeChild(f.g);\n      if (f && f.g && f.g.destroy) try { f.g.destroy(); } catch {}\n      this.flakes.splice(idx, 1);\n    }\n  }\n\n  destroy() {\n    this.flakes.forEach(f => {\n      try { f.g.parent && f.g.parent.removeChild(f.g); } catch {}\n      try { f.g.destroy(); } catch {}\n    });\n    this.flakes = [];\n  }\n}\n","import { Graphics, BlurFilter } from 'pixi.js';\n\n// Clouds overlay: organic cloud blobs drifting in the top 30% of the screen.\nexport default class WeatherClouds {\n  constructor(container, api, getIntensity) {\n    this.container = container;\n    this.api = api;\n    this.getIntensity = getIntensity || (() => 0);\n    this.width = api.mapWidth * api.tileSize;\n    this.height = api.mapHeight * api.tileSize;\n    this.bandHeight = Math.max(1, Math.floor(this.height * 0.3)); // top 30%\n    this.patches = [];\n    this.intensity = 0;\n\n    // Soft blur for nicer cloud appearance\n    try {\n      this.container.filters = [new BlurFilter({ strength: 2.0, quality: 2 })];\n    } catch {}\n\n    this.rebuild();\n  }\n\n  setIntensity(v) {\n    const nv = Math.max(0, Math.min(100, Number(v) || 0));\n    if (nv === this.intensity) return;\n    this.intensity = nv;\n    this.rebuild();\n  }\n\n  rebuild() {\n    // Clear existing\n    for (const p of this.patches) {\n      try { p.g.parent && p.g.parent.removeChild(p.g); } catch {}\n      try { p.g.destroy(); } catch {}\n    }\n    this.patches = [];\n\n    const count = Math.round((this.intensity / 100) * 18); // a bit fewer than fog by default\n    for (let i = 0; i < count; i++) {\n      const g = new Graphics();\n      const w = 140 + Math.random() * 300; // cloud size\n      const h = 80 + Math.random() * 160;\n      const x = Math.random() * (this.width + 200) - 100;\n      const y = -40 + Math.random() * (this.bandHeight - 20); // only in band\n      const alpha = 0.08 + (this.intensity / 100) * (0.12 + Math.random() * 0.08);\n      const speed = 8 + Math.random() * 22; // horizontal drift speed\n      const vy = (Math.random() - 0.5) * 4; // subtle vertical drift\n\n      // Draw an organic cloud using overlapping circles (soft edges)\n      const rx = w * 0.5;\n      const ry = h * 0.5;\n      const circles = 8 + Math.floor(Math.random() * 6); // 8..13 lobes\n      const baseR = Math.min(rx, ry) * 0.55;\n      for (let k = 0; k < circles; k++) {\n        const t = (k / circles) * Math.PI * 2 + Math.random() * 0.6;\n        const dist = 0.2 + Math.random() * 0.35;\n        const cx = Math.cos(t) * rx * dist;\n        const cy = Math.sin(t) * ry * dist;\n        const r = baseR * (0.7 + Math.random() * 0.7);\n        g.circle(cx, cy, r);\n      }\n      // central mass\n      g.circle(0, 0, baseR * (0.9 + Math.random() * 0.5));\n      g.fill({ color: 0xffffff, alpha: 1.0 });\n      g.alpha = alpha;\n      g.x = x;\n      g.y = y;\n      this.container.addChild(g);\n      this.patches.push({ g, w, h, vx: speed * (Math.random() < 0.5 ? -1 : 1), vy, alpha, phase: Math.random() * Math.PI * 2 });\n    }\n  }\n\n  update(dtMs) {\n    // live intensity update\n    const cur = Math.max(0, Math.min(100, this.getIntensity()));\n    if (cur !== this.intensity) this.setIntensity(cur);\n\n    const dt = dtMs / 1000;\n    const W = this.width;\n    const bandTop = -100; // allow spawn/wrap margin above\n    const bandBottom = this.bandHeight - 20; // keep away from lower area\n    for (const p of this.patches) {\n      // drift\n      p.g.x += p.vx * dt;\n      p.g.y += p.vy * dt;\n\n      // very gentle alpha oscillation\n      p.phase += dt * 0.35;\n      const osc = (Math.sin(p.phase) + 1) * 0.5; // 0..1\n      p.g.alpha = Math.max(0.04, Math.min(0.55, p.alpha * (0.75 + 0.5 * osc)));\n\n      // wrap horizontally\n      if (p.g.x < -180) p.g.x = W + 180;\n      if (p.g.x > W + 180) p.g.x = -180;\n      // constrain within top band vertically (wrap within band only)\n      if (p.g.y < bandTop) p.g.y = bandBottom;\n      if (p.g.y > bandBottom) p.g.y = bandTop;\n    }\n  }\n\n  destroy() {\n    try { this.container.filters = []; } catch {}\n    for (const p of this.patches) {\n      try { p.g.parent && p.g.parent.removeChild(p.g); } catch {}\n      try { p.g.destroy(); } catch {}\n    }\n    this.patches = [];\n  }\n}\n","import { Graphics, Texture, TilingSprite } from 'pixi.js';\n\n// Full-screen fog overlay: a semi-transparent rectangle covering entire viewport.\n// Intensity 0..100 maps to alpha 0..0.65.\nexport default class WeatherFog {\n  constructor(container, api, getIntensity) {\n    this.container = container;\n    this.api = api;\n    this.getIntensity = getIntensity || (() => 0);\n    this.width = api.mapWidth * api.tileSize;\n    this.height = api.mapHeight * api.tileSize;\n    this.intensity = 0;\n    this.time = 0; // ms accumulator for subtle breathing\n\n    // Base tint rectangle drawn once; alpha controlled via displayObject alpha (no redraws per frame)\n    this.g = new Graphics();\n    this.container.addChild(this.g);\n\n    // Build procedural noise texture once (small size, repeats as tiling sprites)\n    this.noiseTex = WeatherFog._createNoiseTexture(128, 128);\n    this.layer1 = new TilingSprite(this.noiseTex, this.width, this.height);\n    this.layer2 = new TilingSprite(this.noiseTex, this.width, this.height);\n    // Different scales for parallax effect\n    this.layer1.tileScale.set(1.0, 1.0);\n    this.layer2.tileScale.set(0.6, 0.8);\n    // Start with zero alpha; will be set based on intensity\n    this.layer1.alpha = 0;\n    this.layer2.alpha = 0;\n    this.container.addChild(this.layer1);\n    this.container.addChild(this.layer2);\n\n    // Precompute parameters\n    this._recalcParams();\n    this._draw();\n  }\n\n  _alphaFromIntensity(v) {\n    const t = Math.max(0, Math.min(100, Number(v) || 0)) / 100; // 0..1\n    return Math.max(0, Math.min(0.65, t * 0.65));\n  }\n\n  setIntensity(v) {\n    const nv = Math.max(0, Math.min(100, Number(v) || 0));\n    if (nv === this.intensity) return;\n    this.intensity = nv;\n    this._recalcParams();\n    this._applyAlphas(0); // update layer alphas based on new intensity\n    this._draw();\n  }\n\n  resize(width, height) {\n    const w = Math.max(1, Math.floor(width));\n    const h = Math.max(1, Math.floor(height));\n    if (w === this.width && h === this.height) return;\n    this.width = w;\n    this.height = h;\n    // Resize tiling sprites and redraw base rect\n    if (this.layer1) { this.layer1.width = w; this.layer1.height = h; }\n    if (this.layer2) { this.layer2.width = w; this.layer2.height = h; }\n    this._draw();\n  }\n\n  _draw() {\n    const w = this.width;\n    const h = this.height;\n    const g = this.g;\n    g.clear();\n    const baseAlpha = this._alphaFromIntensity(this.intensity);\n    if (baseAlpha <= 0) {\n      g.alpha = 0;\n      return;\n    }\n    // Draw once with alpha 1, then control real alpha via g.alpha each frame\n    g.rect(0, 0, w, h);\n    g.fill({ color: 0x9fb7c9, alpha: 1 });\n    g.alpha = baseAlpha;\n  }\n\n  update(dtMs) {\n    // Live intensity update from settings\n    const cur = Math.max(0, Math.min(100, this.getIntensity()));\n    if (cur !== this.intensity) this.setIntensity(cur);\n\n    // Advance time for breathing/pulse\n    const dt = Math.max(0, Number(dtMs) || 16.67);\n    this.time += dt;\n    // Very subtle breathing: sine between ~0.96 .. 1.04\n    const pulse = 1 + 0.04 * Math.sin(this.time * 0.0012);\n    this._applyAlphas(pulse);\n\n    // Scroll noise layers slowly\n    if (this.layer1) {\n      this.layer1.tilePosition.x += this.speed1.x * dt;\n      this.layer1.tilePosition.y += this.speed1.y * dt;\n    }\n    if (this.layer2) {\n      this.layer2.tilePosition.x += this.speed2.x * dt;\n      this.layer2.tilePosition.y += this.speed2.y * dt;\n    }\n  }\n\n  destroy() {\n    if (this.g) {\n      try { this.g.parent && this.g.parent.removeChild(this.g); } catch {}\n      try { this.g.destroy(); } catch {}\n    }\n    this.g = null;\n    try {\n      if (this.layer1) { this.layer1.parent && this.layer1.parent.removeChild(this.layer1); this.layer1.destroy(true); }\n    } catch {}\n    try {\n      if (this.layer2) { this.layer2.parent && this.layer2.parent.removeChild(this.layer2); this.layer2.destroy(true); }\n    } catch {}\n    this.layer1 = null;\n    this.layer2 = null;\n    try { this.noiseTex?.destroy(true); } catch {}\n    this.noiseTex = null;\n  }\n\n  _applyAlphas(pulseFactor = 1) {\n    const base = this._alphaFromIntensity(this.intensity);\n    // Noise contribution grows with intensity but remains subtle\n    const t = Math.max(0, Math.min(1, this.intensity / 100));\n    const noiseAlpha = base * (0.25 + 0.35 * t); // up to ~0.4 of base\n    if (this.g) this.g.alpha = base * pulseFactor;\n    if (this.layer1) this.layer1.alpha = noiseAlpha * 0.8;\n    if (this.layer2) this.layer2.alpha = noiseAlpha;\n  }\n\n  _recalcParams() {\n    // Map intensity to drift speeds (pixels per ms)\n    const t = Math.max(0, Math.min(1, this.intensity / 100));\n    const lerp = (a, b, u) => a + (b - a) * u;\n    // Two layers drifting in different directions\n    this.speed1 = { x: lerp(0.005, 0.025, t), y: lerp(0.0, 0.012, t) };\n    this.speed2 = { x: lerp(-0.006, -0.018, t), y: lerp(0.004, 0.02, t) };\n  }\n\n  // Static helper: generate small grayscale noise texture\n  static _createNoiseTexture(w = 128, h = 128) {\n    const canvas = document.createElement('canvas');\n    canvas.width = w; canvas.height = h;\n    const ctx = canvas.getContext('2d');\n    const img = ctx.createImageData(w, h);\n    // Use a gentle noise range to avoid harsh contrast\n    for (let i = 0; i < img.data.length; i += 4) {\n      const v = 200 + Math.floor(Math.random() * 55); // 200..254\n      img.data[i] = v;\n      img.data[i + 1] = v;\n      img.data[i + 2] = v;\n      img.data[i + 3] = 255;\n    }\n    ctx.putImageData(img, 0, 0);\n    return Texture.from(canvas);\n  }\n}\n","import { Graphics, BlurFilter } from 'pixi.js';\n\n// Thunder/Lightning weather effect\n// API:\n//   new WeatherThunder(container, api, getIntensity)\n//   setIntensity(v), resize(w,h), update(dtMs), destroy()\n// Notes:\n// - Renders inside weather layer (below fog). Blocks/tiles remain above fog.\n// - Picks random strike targets above solid tiles using api.isSolidAt(x,y).\nexport default class WeatherThunder {\n  constructor(container, api, getIntensity) {\n    this.container = container;\n    this.api = api || {};\n    this.getIntensity = getIntensity || (() => 0);\n    this.width = (api?.mapWidth || 0) * (api?.tileSize || 32);\n    this.height = (api?.mapHeight || 0) * (api?.tileSize || 32);\n\n    this.intensity = 0;\n    this.time = 0;\n    this.nextStrikeMs = Infinity; // scheduled delay to next strike\n    this.flashAlpha = 0; // global white flash\n    this.flashDecay = 0.0;\n    this.boltAlive = false;\n    this.boltTime = 0; // ms since bolt spawned\n    this.boltDuration = 0; // ms total\n\n    // Graphics\n    this.flashG = new Graphics();\n    this.boltG = new Graphics();\n    // Add slight glow to bolt\n    try {\n      this.boltG.filters = [new BlurFilter(2, 1)];\n    } catch {}\n    this.container.addChild(this.flashG);\n    this.container.addChild(this.boltG);\n\n    // Build once\n    this._scheduleNextStrike(true);\n  }\n\n  setIntensity(v) {\n    const nv = Math.max(0, Math.min(100, Number(v) || 0));\n    if (nv === this.intensity) return;\n    this.intensity = nv;\n    if (nv <= 0) {\n      // disable visuals\n      this.flashAlpha = 0;\n      this.boltAlive = false;\n      this._redrawFlash();\n      this._clearBolt();\n      this.nextStrikeMs = Infinity;\n    } else if (!Number.isFinite(this.nextStrikeMs) || this.nextStrikeMs === Infinity) {\n      this._scheduleNextStrike(true);\n    }\n  }\n\n  resize(w, h) {\n    const W = Math.max(1, Math.floor(w));\n    const H = Math.max(1, Math.floor(h));\n    if (W === this.width && H === this.height) return;\n    this.width = W;\n    this.height = H;\n    // redraw flash when active\n    if (this.flashAlpha > 0) this._redrawFlash();\n  }\n\n  update(dtMs) {\n    // live intensity updates\n    const curInt = Math.max(0, Math.min(100, this.getIntensity()));\n    if (curInt !== this.intensity) this.setIntensity(curInt);\n\n    const dt = Math.max(0, Number(dtMs) || 16.67);\n    if (this.intensity <= 0) return;\n\n    // Update scheduling\n    this.nextStrikeMs -= dt;\n    if (this.nextStrikeMs <= 0) {\n      // Perform strike: trigger screen flash and draw bolt\n      this._triggerFlash();\n      this._createBolt();\n      this._scheduleNextStrike(false); // schedule next time after immediate strike window\n    }\n\n    // Flash decay\n    if (this.flashAlpha > 0) {\n      // exponential-like decay via linear factor raised with dt\n      const decayPerMs = this.flashDecay || 0.004; // higher = quicker fade\n      this.flashAlpha = Math.max(0, this.flashAlpha - decayPerMs * dt);\n      this._redrawFlash();\n    }\n\n    // Bolt lifetime\n    if (this.boltAlive) {\n      this.boltTime += dt;\n      const t = this.boltTime / Math.max(1, this.boltDuration);\n      // Fade color/alpha over time\n      const remain = Math.max(0, 1 - t);\n      this.boltG.alpha = 0.25 + 0.75 * remain;\n      if (this.boltTime >= this.boltDuration) {\n        this._clearBolt();\n      }\n    }\n  }\n\n  destroy() {\n    try { this.flashG.parent && this.flashG.parent.removeChild(this.flashG); } catch {}\n    try { this.flashG.destroy(true); } catch {}\n    try { this.boltG.parent && this.boltG.parent.removeChild(this.boltG); } catch {}\n    try { this.boltG.destroy(true); } catch {}\n    this.flashG = null;\n    this.boltG = null;\n    this.container = null;\n  }\n\n  // Internal helpers\n  _scheduleNextStrike(initial) {\n    // Map intensity 1..100 to delay: from ~9000..6000 ms down to ~2500..1000 ms\n    if (this.intensity <= 0) { this.nextStrikeMs = Infinity; return; }\n    const t = Math.max(0, Math.min(1, this.intensity / 100));\n    const minDelay = this._lerp(1000, 2500, 1 - t); // at high intensity, between 12.5s\n    const maxDelay = this._lerp(2500, 9000, 1 - t); // at low intensity, up to ~9s\n    const delay = this._rand(minDelay, maxDelay);\n    this.nextStrikeMs = initial ? this._rand(400, 1400) : delay; // first strike quicker on enable\n  }\n\n  _triggerFlash() {\n    // Brightness based on intensity, with slight randomness\n    const t = Math.max(0, Math.min(1, this.intensity / 100));\n    const base = this._lerp(0.25, 0.9, t);\n    this.flashAlpha = Math.min(1, base * this._rand(0.8, 1));\n    // fade time scales with intensity (brighter fades a bit slower)\n    this.flashDecay = this._lerp(0.008, 0.004, t);\n    this._redrawFlash();\n  }\n\n  _redrawFlash() {\n    const g = this.flashG;\n    g.clear();\n    if (this.flashAlpha <= 0) return;\n    g.rect(0, 0, this.width, this.height);\n    g.fill({ color: 0xffffff, alpha: this.flashAlpha });\n  }\n\n  _createBolt() {\n    // Determine target using solid scan from top\n    const W = this.width, H = this.height;\n    const x = Math.floor(this._rand(8, W - 8));\n    const topY = -Math.floor(this._rand(10, 40)); // start slightly above top\n    const targetY = this._findGroundY(x, H);\n    const endY = Number.isFinite(targetY) ? Math.max(0, targetY - this._rand(8, 16)) : Math.floor(H * 0.6);\n\n    // Build polyline with jittered segments from top to end\n    const segments = Math.max(8, Math.floor((endY - topY) / this._rand(10, 16)));\n    const jitterX = this._lerp(6, 18, Math.max(0, Math.min(1, this.intensity / 100)));\n    const points = [];\n    let cx = x;\n    let cy = topY;\n    points.push({ x: cx, y: cy });\n    for (let i = 1; i <= segments; i++) {\n      const ny = topY + Math.floor(((endY - topY) * i) / segments);\n      const nx = x + this._rand(-jitterX, jitterX);\n      cx = nx; cy = ny;\n      points.push({ x: cx, y: cy });\n    }\n\n    // Draw main bolt\n    const g = this.boltG;\n    g.clear();\n    const thickness = this._lerp(2, 5, Math.max(0, Math.min(1, this.intensity / 100)));\n    const color = 0xCCEEFF;\n    g.moveTo(points[0].x, points[0].y);\n    for (let i = 1; i < points.length; i++) g.lineTo(points[i].x, points[i].y);\n    g.stroke({ width: thickness, color, alpha: 1, alignment: 0.5, cap: 'round', join: 'round' });\n\n    // Branches: some short forks from random mid points\n    const branchCount = Math.floor(this._lerp(1, 3, Math.max(0, Math.min(1, this.intensity / 100))));\n    for (let b = 0; b < branchCount; b++) {\n      const idx = Math.floor(this._rand(2, points.length - 2));\n      const p = points[idx];\n      const len = this._rand(30, 80);\n      const ang = this._rand(-Math.PI * 0.5, Math.PI * 0.5);\n      const bx = p.x + Math.cos(ang) * len;\n      const by = p.y + Math.sin(ang) * len;\n      g.moveTo(p.x, p.y);\n      g.lineTo(bx, by);\n      g.stroke({ width: Math.max(1, thickness * 0.55), color, alpha: 0.9, alignment: 0.5 });\n    }\n\n    this.boltAlive = true;\n    this.boltTime = 0;\n    this.boltDuration = this._rand(120, 260); // very brief\n    this.boltG.alpha = 1;\n  }\n\n  _clearBolt() {\n    if (!this.boltG) return;\n    this.boltAlive = false;\n    this.boltTime = 0;\n    this.boltDuration = 0;\n    try { this.boltG.clear(); } catch {}\n  }\n\n  _findGroundY(worldX, maxH) {\n    // Scan from top to bottom to find first solid tile boundary\n    const isSolid = this.api?.isSolidAt;\n    if (typeof isSolid !== 'function') return null;\n    for (let y = 0; y < maxH; y += 4) {\n      if (isSolid(worldX, y)) {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  _rand(a, b) {\n    if (b === undefined) { b = a; a = 0; }\n    return a + Math.random() * (b - a);\n  }\n\n  _lerp(a, b, t) { return a + (b - a) * t; }\n}\n","import { Container, Graphics } from 'pixi.js';\n\n// WaterSplashFX: lightweight pooled splash particles (droplets + ring ripples)\n// API:\n//   const fx = new WaterSplashFX(container)\n//   fx.trigger({ x, y, strength, upward }) // upward=true for exit splash\n//   fx.update(dtMs)\n//   fx.resize(w,h) // noop (kept for symmetry)\n//   fx.destroy()\nexport default class WaterSplashFX {\n  constructor(container) {\n    this.container = container;\n    this.node = new Container();\n    this.container.addChild(this.node);\n    this.droplets = []; // {g,x,y,vx,vy,life,max}\n    this.rings = [];    // {g,x,y,r,vr,life,max}\n    this.maxDroplets = 48;\n    this.maxRings = 6;\n  }\n\n  destroy() {\n    try { this.node.parent && this.node.parent.removeChild(this.node); } catch {}\n    try { this.node.destroy({ children: true }); } catch {}\n    this.node = null;\n    this.droplets = [];\n    this.rings = [];\n  }\n\n  resize() {}\n\n  trigger({ x = 0, y = 0, strength = 1, upward = false } = {}) {\n    const s = Math.max(0.2, Math.min(3, Number(strength) || 1));\n    // Ring ripple on surface (entry/exit)\n    if (this.rings.length < this.maxRings) {\n      const g = new Graphics();\n      g.x = 0; g.y = 0; g.alpha = 0.8;\n      this.node.addChild(g);\n      this.rings.push({ g, x, y, r: 2 + 4 * s, vr: 0.08 + 0.12 * s, life: 0, max: 450 + 250 * s });\n    }\n    // Droplets burst\n    const count = Math.floor(8 + 18 * s);\n    for (let i = 0; i < count && this.droplets.length < this.maxDroplets; i++) {\n      const ang = upward ? (-Math.PI * 0.15 + Math.random() * Math.PI * 0.3) : (Math.PI * 0.6 + (Math.random() - 0.5) * Math.PI * 0.6);\n      const spd = (0.12 + Math.random() * 0.25) * (upward ? 1.2 : 1) * (0.6 + 0.8 * s);\n      const g = new Graphics();\n      g.x = 0; g.y = 0; g.alpha = 1;\n      this.node.addChild(g);\n      this.droplets.push({ g, x, y, vx: Math.cos(ang) * spd, vy: Math.sin(ang) * spd, life: 0, max: 500 + Math.random() * 400 });\n    }\n  }\n\n  update(dtMs) {\n    const dt = Math.max(0, Number(dtMs) || 16.67);\n    // Droplets update\n    for (let i = this.droplets.length - 1; i >= 0; i--) {\n      const d = this.droplets[i];\n      d.life += dt;\n      d.vy += 0.0018 * dt; // gravity\n      d.x += d.vx * dt;\n      d.y += d.vy * dt;\n      const t = Math.min(1, d.life / d.max);\n      const alpha = 1 - t;\n      const size = 1 + 1.5 * (1 - t);\n      const g = d.g; g.clear();\n      g.circle(d.x, d.y, size);\n      g.fill({ color: 0xc9ecff, alpha: Math.max(0, alpha) });\n      if (d.life >= d.max) {\n        try { g.parent && g.parent.removeChild(g); } catch {}\n        try { g.destroy(); } catch {}\n        this.droplets.splice(i, 1);\n      }\n    }\n    // Rings update\n    for (let i = this.rings.length - 1; i >= 0; i--) {\n      const r = this.rings[i];\n      r.life += dt;\n      r.r += r.vr * dt;\n      const t = Math.min(1, r.life / r.max);\n      const alpha = 0.6 * (1 - t);\n      const g = r.g; g.clear();\n      g.circle(r.x, r.y, r.r);\n      g.stroke({ width: 1.5, color: 0xc9ecff, alpha: Math.max(0, alpha) });\n      if (r.life >= r.max) {\n        try { g.parent && g.parent.removeChild(g); } catch {}\n        try { g.destroy(); } catch {}\n        this.rings.splice(i, 1);\n      }\n    }\n  }\n}\n","import { Container, Graphics } from 'pixi.js';\n\n// LavaEmbers: ambient embers with tiny smoke trails spawning from lava surface tiles\n// API:\n//   const fx = new LavaEmbers(container, api, getIntensity)\n//   fx.setIntensity(v)\n//   fx.rebuildSurfaces({ mapWidth, mapHeight, tileSize, tileMapData, registryItems })\n//   fx.update(dtMs)\n//   fx.resize(w,h)\n//   fx.destroy()\nexport default class LavaEmbers {\n  constructor(container, api, getIntensity) {\n    this.container = container;\n    this.api = api || {};\n    this.getIntensity = getIntensity || (() => 0);\n    this.node = new Container();\n    this.container.addChild(this.node);\n    this.intensity = 0;\n    this.time = 0;\n    this.spawnAcc = 0;\n    this.embers = []; // {g,x,y,vx,vy,life,max,trail}\n    this.maxEmbers = 60;\n    this.surfaces = []; // {x,y,w}\n  }\n\n  destroy() {\n    try { this.node.parent && this.node.parent.removeChild(this.node); } catch {}\n    try { this.node.destroy({ children: true }); } catch {}\n    this.embers = [];\n    this.surfaces = [];\n  }\n\n  setIntensity(v) {\n    const nv = Math.max(0, Math.min(100, Number(v) || 0));\n    this.intensity = nv;\n  }\n\n  resize() {}\n\n  rebuildSurfaces({ mapWidth, mapHeight, tileSize, tileMapData, registryItems }) {\n    const getDef = (id) => Array.isArray(registryItems) ? registryItems.find(r => r.id === id) : null;\n    const isLava = (def) => !!(def && def.flags && def.flags.lava);\n    const W = mapWidth, H = mapHeight, TS = tileSize;\n    const spans = [];\n    for (let gy = 0; gy < H; gy++) {\n      let runStart = -1;\n      for (let gx = 0; gx < W; gx++) {\n        const idx = gy * W + gx;\n        const id = tileMapData[idx];\n        if (!id) { if (runStart !== -1) { runStart = -1; } continue; }\n        const def = getDef(id);\n        const aboveIdx = (gy - 1) * W + gx;\n        const aboveLava = gy > 0 && isLava(getDef(tileMapData[aboveIdx]));\n        const hereLava = isLava(def);\n        const isSurface = hereLava && !aboveLava;\n        if (isSurface) {\n          if (runStart === -1) runStart = gx;\n        } else {\n          if (runStart !== -1) {\n            const w = (gx - runStart) * TS;\n            if (w > 0) spans.push({ x: runStart * TS, y: gy * TS, w });\n            runStart = -1;\n          }\n        }\n      }\n      if (runStart !== -1) {\n        const w = (W - runStart) * TS;\n        if (w > 0) spans.push({ x: runStart * TS, y: gy * TS, w });\n      }\n    }\n    this.surfaces = spans;\n  }\n\n  _spawnOne() {\n    if (!this.surfaces.length) return;\n    if (this.embers.length >= this.maxEmbers) return;\n    const s = this.surfaces[Math.floor(Math.random() * this.surfaces.length)];\n    const x = s.x + Math.random() * s.w;\n    const y = s.y - 2; // just above surface\n    const g = new Graphics();\n    this.node.addChild(g);\n    const vx = (Math.random() - 0.5) * 0.02; // small horizontal drift\n    const vy = -0.05 - Math.random() * 0.06; // initial upward\n    const life = 0; const max = 1200 + Math.random() * 1200; // 1.2..2.4s\n    this.embers.push({ g, x, y, vx, vy, life, max, trail: [] });\n  }\n\n  update(dtMs) {\n    const dt = Math.max(0, Number(dtMs) || 16.67);\n    // live intensity\n    const cur = Math.max(0, Math.min(100, this.getIntensity()))\n    this.setIntensity(cur);\n    if (this.intensity <= 0) return;\n\n    // Spawn rate depends on intensity and surface count\n    const baseRate = 0.0015 + 0.0035 * (this.intensity / 100); // embers per ms\n    const mult = Math.max(0.5, Math.min(3, this.surfaces.length / 6));\n    this.spawnAcc += dt * baseRate * mult;\n    while (this.spawnAcc >= 1) {\n      this._spawnOne();\n      this.spawnAcc -= 1;\n    }\n\n    // Update embers\n    for (let i = this.embers.length - 1; i >= 0; i--) {\n      const e = this.embers[i];\n      e.life += dt;\n      // motion: rise then fall slightly\n      e.vy += 0.00006 * dt; // gravity slowly pulls down\n      e.x += e.vx * dt;\n      e.y += e.vy * dt;\n      // record simple smoke trail points\n      if (e.trail.length < 14) e.trail.push({ x: e.x, y: e.y });\n      else { e.trail.shift(); e.trail.push({ x: e.x, y: e.y }); }\n\n      const t = Math.min(1, e.life / e.max);\n      const emberAlpha = 1 - t;\n      const emberSize = 1 + 1.5 * (1 - t);\n      const g = e.g; g.clear();\n      // smoke trail (fainter)\n      for (let k = 1; k < e.trail.length; k++) {\n        const p0 = e.trail[k - 1]; const p1 = e.trail[k];\n        g.moveTo(p0.x, p0.y);\n        g.lineTo(p1.x, p1.y);\n      }\n      g.stroke({ width: 1, color: 0x555555, alpha: 0.25 * emberAlpha });\n\n      // glowing ember\n      g.circle(e.x, e.y, emberSize);\n      g.fill({ color: 0xffa229, alpha: 0.9 * emberAlpha });\n\n      if (e.life >= e.max) {\n        try { g.parent && g.parent.removeChild(g); } catch {}\n        try { g.destroy(); } catch {}\n        this.embers.splice(i, 1);\n      }\n    }\n  }\n}\n","import { Container, Graphics } from 'pixi.js';\n\n// LavaSteamFX: tiny steam puffs when rain/snow hits lava surface\n// API:\n//   const steam = new LavaSteamFX(parentContainer)\n//   steam.trigger({ x, y, strength })\n//   steam.update(dtMs)\n//   steam.destroy()\nexport default class LavaSteamFX {\n  constructor(container) {\n    this.container = container;\n    this.node = new Container();\n    this.container.addChild(this.node);\n    this.puffs = []; // {g,x,y,vx,vy,life,max,r}\n    this.maxPuffs = 80;\n  }\n\n  destroy() {\n    try { this.node.parent && this.node.parent.removeChild(this.node); } catch {}\n    try { this.node.destroy({ children: true }); } catch {}\n    this.node = null;\n    this.puffs = [];\n  }\n\n  resize() {}\n\n  trigger({ x = 0, y = 0, strength = 0.7 } = {}) {\n    const s = Math.max(0.2, Math.min(2.5, Number(strength) || 0.7));\n    const count = Math.max(2, Math.floor(3 + 4 * s));\n    for (let i = 0; i < count && this.puffs.length < this.maxPuffs; i++) {\n      const g = new Graphics();\n      this.node.addChild(g);\n      const vx = (Math.random() - 0.5) * (0.03 + 0.03 * s);\n      const vy = -(0.08 + Math.random() * 0.08) * (0.8 + 0.4 * s);\n      const r = 1.5 + Math.random() * (2.5 * s);\n      const max = 450 + Math.random() * 350;\n      this.puffs.push({ g, x, y: y - 2, vx, vy, life: 0, max, r });\n    }\n  }\n\n  update(dtMs) {\n    const dt = Math.max(0, Number(dtMs) || 16.67);\n    for (let i = this.puffs.length - 1; i >= 0; i--) {\n      const p = this.puffs[i];\n      p.life += dt;\n      p.x += p.vx * dt;\n      p.y += p.vy * dt;\n      // slight expansion and fade\n      const t = Math.min(1, p.life / p.max);\n      const alpha = 0.75 * (1 - t);\n      const radius = p.r * (1 + 0.8 * t);\n      const g = p.g; g.clear();\n      // soft grey-white steam\n      g.circle(p.x, p.y, radius);\n      g.fill({ color: 0xdfdad2, alpha: Math.max(0, alpha) });\n      if (p.life >= p.max) {\n        try { g.parent && g.parent.removeChild(g); } catch {}\n        try { g.destroy(); } catch {}\n        this.puffs.splice(i, 1);\n      }\n    }\n  }\n}\n","import { Container, Graphics, Texture, TilingSprite } from 'pixi.js';\n\n// LiquidRegionSystem: groups contiguous liquid tiles (water/lava) into regions\n// and renders each region as a masked, animated tiling surface (weather-like style)\n// while constrained to the exact sector (region) shape.\n//\n// API:\n//   const sys = new LiquidRegionSystem(parentContainer, { mapWidth, mapHeight, tileSize });\n//   sys.build({ mapWidth, mapHeight, tileSize, tileMapData, registryItems });\n//   sys.update(dtMs);\n//   sys.resize(mapWidth, mapHeight, tileSize);\n//   sys.destroy();\n\nexport default class LiquidRegionSystem {\n  constructor(container, opts = {}) {\n    this.container = container;\n    this.mapWidth = opts.mapWidth || 0;\n    this.mapHeight = opts.mapHeight || 0;\n    this.tileSize = opts.tileSize || 32;\n    this._regions = []; // { type, node, mask, sprite, noise1, noise2, capG, topEdges, waves:[] }\n    this._waterTex = null;\n    this._lavaTex = null;\n    this._time = 0;\n    this._noiseTex = null;\n    this._playerState = null; // Will be set from PixiStage\n  }\n\n  setPlayerState(playerState) {\n    this._playerState = playerState;\n  }\n\n  _checkPlayerInRegion(region) {\n    if (!this._playerState || !region || !region.node) return false;\n    const p = this._playerState;\n    const px = p.x || 0;\n    const py = p.y || 0;\n    const pw = p.width || 32;\n    const ph = p.height || 32;\n    // Simple AABB check against region bounds\n    const b = region.node.getBounds();\n    return (px + pw > b.x && px < b.x + b.width && py + ph > b.y && py < b.y + b.height);\n  }\n\n  // Query approximate surface Y (pixel) for a given X within liquid regions of type ('water'|'lava')\n  getSurfaceY(type, x) {\n    if (!Array.isArray(this._regions) || this._regions.length === 0) return null;\n    const X = Math.max(0, Math.floor(Number(x) || 0));\n    for (const r of this._regions) {\n      if (r.type !== type) continue;\n      if (!Array.isArray(r.topEdges)) continue;\n      for (let i = 0; i < r.topEdges.length; i++) {\n        const e = r.topEdges[i];\n        if (X >= e.x && X <= e.x + e.w) {\n          return e.y; // region tile top in pixels\n        }\n      }\n    }\n    return null;\n  }\n\n  destroy() {\n    try {\n      for (const r of this._regions) {\n        try { if (r.node && r.node.parent) r.node.parent.removeChild(r.node); } catch {}\n        try { r.node?.destroy({ children: true }); } catch {}\n      }\n    } catch {}\n    this._regions = [];\n    try { this._waterTex?.destroy(true); } catch {}\n    try { this._lavaTex?.destroy(true); } catch {}\n    try { this._noiseTex?.destroy(true); } catch {}\n    this._waterTex = null;\n    this._lavaTex = null;\n    this._noiseTex = null;\n  }\n\n  clear() {\n    for (const r of this._regions) {\n      try { r.node?.parent && r.node.parent.removeChild(r.node); } catch {}\n      try { r.node?.destroy({ children: true }); } catch {}\n    }\n    this._regions = [];\n  }\n\n  resize(mapWidth, mapHeight, tileSize) {\n    const mw = Math.max(1, mapWidth | 0);\n    const mh = Math.max(1, mapHeight | 0);\n    const ts = Math.max(1, tileSize | 0);\n    const changed = mw !== this.mapWidth || mh !== this.mapHeight || ts !== this.tileSize;\n    this.mapWidth = mw; this.mapHeight = mh; this.tileSize = ts;\n    if (changed) {\n      // rebuild textures at new tile size; regions will be rebuilt by caller\n      try { this._waterTex?.destroy(true); } catch {}\n      try { this._lavaTex?.destroy(true); } catch {}\n      this._waterTex = null; this._lavaTex = null;\n    }\n  }\n\n  update(dtMs) {\n    const dt = Math.max(0, Number(dtMs) || 16.67);\n    this._time += dt;\n    // Gentle drift speeds (px/ms) per liquid type\n    const waterDrift = { x: 0.010, y: 0.004 };\n    const lavaDrift = { x: -0.012, y: 0.006 };\n    for (const r of this._regions) {\n      const sprite = r.sprite;\n      if (!sprite) continue;\n      const drift = r.type === 'lava' ? lavaDrift : waterDrift;\n      sprite.tilePosition.x += drift.x * dt;\n      sprite.tilePosition.y += drift.y * dt;\n      // Alpha: normally opaque, but becomes transparent when player is inside!\n      // (We'll detect player position and adjust alpha accordingly)\n      if (r.type === 'water') {\n        // Check if player is in this water region (simplified check)\n        const playerInRegion = this._checkPlayerInRegion(r);\n        if (playerInRegion) {\n          sprite.alpha = 0.50; // Transparent when player is inside - can see player/items!\n        } else {\n          sprite.alpha = 0.95; // Opaque when player is outside\n        }\n      } else {\n        // Lava\n        const playerInRegion = this._checkPlayerInRegion(r);\n        if (playerInRegion) {\n          sprite.alpha = 0.60; // Transparent when player is inside\n        } else {\n          sprite.alpha = 0.95; // Opaque when player is outside\n        }\n      }\n\n      // Animate noise overlays to break repetition\n      if (r.noise1) {\n        r.noise1.tilePosition.x += drift.x * 1.6 * dt;\n        r.noise1.tilePosition.y += drift.y * 1.2 * dt;\n      }\n      if (r.noise2) {\n        r.noise2.tilePosition.x += -drift.x * 1.1 * dt;\n        r.noise2.tilePosition.y += drift.y * 0.9 * dt;\n      }\n\n      // Update interactive surface waves (small ripples from impacts)\n      if (!Array.isArray(r.waves)) r.waves = [];\n      if (r.waves.length) {\n        for (let i = r.waves.length - 1; i >= 0; i--) {\n          const w = r.waves[i];\n          w.t += dt; // ms\n          // Lifetimes: water longer than lava\n          const life = r.type === 'water' ? w.lifeMsWater : w.lifeMsLava;\n          if (w.t >= life) { r.waves.splice(i, 1); continue; }\n          // expand radius over time (px)\n          w.radius = w.startRadius + w.speed * (w.t / 1000);\n          // exponential decay of amplitude\n          const decay = Math.exp(-w.t / (r.type === 'water' ? 1400 : 900));\n          w.ampNow = w.amp * decay;\n        }\n      }\n\n      // Animate water surface cap (rim light) with slight sine undulation\n      if (r.type === 'water' && r.capG && Array.isArray(r.topEdges) && r.topEdges.length) {\n        const g = r.capG;\n        const amp = Math.max(1, Math.floor(this.tileSize * 0.06));\n        const thickness = Math.max(1, Math.floor(this.tileSize * 0.08));\n        g.clear();\n        for (let i = 0; i < r.topEdges.length; i++) {\n          const e = r.topEdges[i];\n          // slight vertical offset wave\n          let dy = Math.sin((this._time * 0.002) + e.x * 0.15) * (amp * 0.5);\n          // Add contributions from interactive waves (Gaussian falloff)\n          if (r.waves && r.waves.length) {\n            // use span center for sampling; keeps draw perf O(spans + waves)\n            const centerX = e.x + e.w * 0.5;\n            for (let k = 0; k < r.waves.length; k++) {\n              const w = r.waves[k];\n              const dx = centerX - w.cx;\n              const dist = Math.abs(dx);\n              if (dist > w.radius + e.w * 0.6) continue; // early reject\n              const sigma = Math.max(8, w.radius * 0.6);\n              const gauss = Math.exp(-(dx * dx) / (2 * sigma * sigma));\n              dy += w.ampNow * gauss;\n            }\n            // clamp to avoid excessive displacement\n            const maxDisp = Math.max(2, this.tileSize * 0.22);\n            if (dy > maxDisp) dy = maxDisp;\n            if (dy < -maxDisp) dy = -maxDisp;\n          }\n          g.rect(e.x, e.y - thickness + dy, e.w, thickness);\n        }\n        g.fill({ color: 0xc9ecff, alpha: 0.35 });\n      }\n    }\n  }\n\n  build({ mapWidth, mapHeight, tileSize, tileMapData, registryItems }) {\n    if (!Array.isArray(tileMapData) || !Array.isArray(registryItems)) return;\n    this.resize(mapWidth, mapHeight, tileSize);\n    this.clear();\n\n    const W = this.mapWidth;\n    const H = this.mapHeight;\n    const TS = this.tileSize;\n    const count = W * H;\n\n    const getDef = (id) => registryItems.find((r) => r.id === id);\n    const typeAt = (i) => {\n      const id = tileMapData[i];\n      if (!id) return null;\n      const def = getDef(id);\n      if (!def || !def.flags || !def.flags.liquid) return null;\n      if (def.flags.water) return 'water';\n      if (def.flags.lava) return 'lava';\n      return 'liquid';\n    };\n\n    const visited = new Uint8Array(count);\n    const dirs = [1, -1, W, -W]; // 4-connectivity\n\n    for (let i = 0; i < count; i++) {\n      if (visited[i]) continue;\n      const t = typeAt(i);\n      if (!t) { visited[i] = 1; continue; }\n\n      // Flood fill this region for same liquid type\n      const regionTiles = [];\n      const queue = [i];\n      visited[i] = 1;\n      while (queue.length) {\n        const idx = queue.pop();\n        regionTiles.push(idx);\n        for (let d = 0; d < 4; d++) {\n          const n = idx + dirs[d];\n          if (n < 0 || n >= count) continue;\n          if (visited[n]) continue;\n          // prevent wrapping on left/right when using +/-1\n          if (d < 2) {\n            const row = Math.floor(idx / W);\n            const nrow = Math.floor(n / W);\n            if (row !== nrow) continue;\n          }\n          const nt = typeAt(n);\n          if (nt === t) { visited[n] = 1; queue.push(n); }\n          else { visited[n] = visited[n] || 0; }\n        }\n      }\n\n      if (regionTiles.length === 0) continue;\n      this._addRegion(t, regionTiles, W, H, TS);\n    }\n  }\n\n      _addRegion(type, tileIndices, mapWidth, mapHeight, tileSize) {\n        const node = new Container();\n        const mask = new Graphics();\n        // SVARGI: v8 maskas labk strd bez addChild, ja ts ir Graphics\n        const worldW = mapWidth * tileSize;\n        const worldH = mapHeight * tileSize;\n\n        mask.clear();\n        const bleed = 1; // Palielints bleed, lai nosegtu spraugas\n        for (let k = 0; k < tileIndices.length; k++) {\n          const idx = tileIndices[k];\n          const gx = (idx % mapWidth);\n          const gy = Math.floor(idx / mapWidth);\n          mask.rect(\n            gx * tileSize - bleed,\n            gy * tileSize - bleed,\n            tileSize + bleed * 2,\n            tileSize + bleed * 2\n          );\n        }\n        mask.fill({ color: 0xffffff, alpha: 1 });\n\n        const tex = type === 'lava' ? (this._lavaTex || (this._lavaTex = this._createLavaTexture(tileSize)))\n                                     : (this._waterTex || (this._waterTex = this._createWaterTexture(tileSize)));\n        \n        // v8 addressMode iestatana\n        if (tex.source && tex.source.style) {\n          tex.source.style.addressMode = 'repeat';\n        }\n\n        const tiling = new TilingSprite({\n          texture: tex,\n          width: worldW,\n          height: worldH\n        });\n        \n        tiling.tileScale.set(1, 1);\n        tiling.alpha = type === 'lava' ? 0.98 : 0.92;\n        node.addChild(tiling);\n\n        // Noise sli\n        const noiseTex = this._noiseTex || (this._noiseTex = this._createNoiseTexture(256, 256));\n        if (noiseTex.source && noiseTex.source.style) {\n          noiseTex.source.style.addressMode = 'repeat';\n        }\n\n        const noise1 = new TilingSprite({ texture: noiseTex, width: worldW, height: worldH });\n        const noise2 = new TilingSprite({ texture: noiseTex, width: worldW, height: worldH });\n        \n        if (type === 'water') {\n          noise1.alpha = 0.08; noise2.alpha = 0.1;\n        } else {\n          noise1.alpha = 0.12; noise2.alpha = 0.15;\n        }\n        node.addChild(noise1, noise2);\n\n        // LABOJUMS: Maska tiek pievienota k brns, lai t sekotu ldzi node koordintm\n        node.addChild(mask);\n        node.mask = mask;\n\n        if (type === 'water') {\n          const capG = new Graphics();\n          node.addChild(capG);\n          const topEdges = this._computeTopEdgeSpans(tileIndices, mapWidth, tileSize);\n          // Saglabjam atsauces uz r reistr\n          this._regions.push({ type, node, mask, sprite: tiling, noise1, noise2, capG, topEdges, waves: [] });\n        } else {\n          this._regions.push({ type, node, mask, sprite: tiling, noise1, noise2, waves: [] });\n        }\n\n        this.container.addChild(node);\n      }\n\n      _createWaterTexture(tileSize) {\n        const canvas = document.createElement('canvas');\n        const size = 64; // Power of Two obligts v8 tilingam\n        canvas.width = size; canvas.height = size;\n        const ctx = canvas.getContext('2d');\n\n        // SEAMLESS gradients (skums un beigas ir #3a7fb8)\n        const g = ctx.createLinearGradient(0, 0, 0, size);\n        g.addColorStop(0, '#3a7fb8');   \n        g.addColorStop(0.5, '#5ba3d9'); \n        g.addColorStop(1, '#3a7fb8');   \n        ctx.fillStyle = g;\n        ctx.fillRect(0, 0, size, size);\n\n        return Texture.from(canvas);\n      }\n\n      _createLavaTexture(tileSize) {\n        const canvas = document.createElement('canvas');\n        const size = 64; \n        canvas.width = size; canvas.height = size;\n        const ctx = canvas.getContext('2d');\n\n        // SEAMLESS gradients lavai\n        const g = ctx.createLinearGradient(0, 0, 0, size);\n        g.addColorStop(0, '#ffa229');\n        g.addColorStop(0.5, '#ffb84d');\n        g.addColorStop(1, '#ffa229');\n        ctx.fillStyle = g;\n        ctx.fillRect(0, 0, size, size);\n\n        return Texture.from(canvas);\n  }\n\n  _createNoiseTexture(w = 256, h = 256) {\n    const canvas = document.createElement('canvas');\n    canvas.width = w; canvas.height = h;\n    const ctx = canvas.getContext('2d');\n    \n    ctx.fillStyle = '#ffffff';\n    for(let i=0; i<500; i++) {\n      ctx.globalAlpha = Math.random() * 0.05;\n      ctx.fillRect(Math.random()*w, Math.random()*h, 2, 2);\n    }\n\n    return Texture.from(canvas);\n  }\n\n  // Given tile indices of a region, compute horizontal spans representing its top boundary per row.\n  _computeTopEdgeSpans(tileIndices, mapWidth, tileSize) {\n    // Build a set for O(1) membership\n    const set = new Set(tileIndices);\n    const spans = [];\n    // For each tile that has no neighbor directly above, create a span; merge contiguous tiles in that row\n    const tilesByRow = new Map();\n    for (const idx of tileIndices) {\n      const gy = Math.floor(idx / mapWidth);\n      const gx = idx % mapWidth;\n      const above = idx - mapWidth;\n      if (!set.has(above)) {\n        // This tile contributes to the top edge\n        const rowList = tilesByRow.get(gy) || [];\n        rowList.push(gx);\n        tilesByRow.set(gy, rowList);\n      }\n    }\n    // Merge contiguous gx into spans\n    for (const [gy, cols] of tilesByRow.entries()) {\n      cols.sort((a, b) => a - b);\n      let start = null; let prev = null;\n      for (const gx of cols) {\n        if (start === null) { start = gx; prev = gx; continue; }\n        if (gx === prev + 1) { prev = gx; continue; }\n        // flush previous span\n        spans.push({ x: start * tileSize, y: gy * tileSize, w: (prev - start + 1) * tileSize });\n        start = gx; prev = gx;\n      }\n      if (start !== null) {\n        spans.push({ x: start * tileSize, y: gy * tileSize, w: (prev - start + 1) * tileSize });\n      }\n    }\n    return spans;\n  }\n\n  // Public: add a ripple/wave on a liquid surface of given type at world x\n  // type: 'water'|'lava'\n  // x: world pixel X\n  // strength: 0.2..3 roughly; maps to amplitude and speed\n  addWave(type, x, strength = 1) {\n    const t = (type === 'lava') ? 'lava' : 'water';\n    const X = Math.max(0, Math.min(this.mapWidth * this.tileSize, Number(x) || 0));\n    // Find region and a top edge span containing x\n    for (const r of this._regions) {\n      if (r.type !== t) continue;\n      const spans = r.topEdges;\n      if (!Array.isArray(spans) || spans.length === 0) continue;\n      for (let i = 0; i < spans.length; i++) {\n        const e = spans[i];\n        if (X >= e.x && X <= e.x + e.w) {\n          if (!Array.isArray(r.waves)) r.waves = [];\n          // Cap total waves to keep perf stable\n          if (r.waves.length > 24) r.waves.shift();\n          const ts = this.tileSize;\n          const s = Math.max(0.15, Math.min(3, Number(strength) || 1));\n          const baseAmp = (t === 'water') ? ts * 0.18 : ts * 0.10; // pixels\n          const amp = baseAmp * (0.4 + 0.6 * Math.min(1.0, s));\n          const speed = (t === 'water') ? (40 + 60 * s) : (30 + 40 * s); // px/s growth\n          const startRadius = Math.max(4, ts * 0.2);\n          // lifetimes in ms\n          const lifeMsWater = 1600 + 900 * s;\n          const lifeMsLava = 900 + 600 * s;\n          r.waves.push({ cx: X, t: 0, amp, ampNow: amp, speed, radius: startRadius, startRadius, lifeMsWater, lifeMsLava });\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n","// Lightweight reusable health bar for PixiJS\n// Usage:\n//   import { HealthBar } from './HealthBar';\n//   const hb = new HealthBar({ width: 32, height: 4, offsetY: -6 });\n//   container.addChild(hb);\n//   hb.update(currentHealth, maxHealth);\n\nimport { Container, Graphics } from 'pixi.js';\n\nexport class HealthBar extends Container {\n  constructor(options = {}) {\n    super();\n    const {\n      width = 32,\n      height = 4,\n      offsetX = 0,\n      offsetY = -6,\n      thresholds = { warn: 0.55, danger: 0.35 },\n      colors = { ok: 0x2ecc71, warn: 0xf1c40f, danger: 0xe74c3c },\n      // Use a neutral gray track instead of near-black; keep border options for backward compat (unused)\n      trackColor = 0x666666,\n      borderColor = 0x000000,\n      borderAlpha = 0.8,\n    } = options;\n\n    this._w = Math.max(4, Math.floor(width));\n    this._h = Math.max(2, Math.floor(height));\n    this._pct = -1; // force first draw\n    this._color = 0xffffff;\n    this._thresholds = thresholds;\n    this._colors = colors;\n    this._trackColor = trackColor;\n    this._borderColor = borderColor;\n    this._borderAlpha = borderAlpha;\n\n    this.x = offsetX || 0;\n    this.y = offsetY || 0;\n\n    this._track = new Graphics();\n    this._fill = new Graphics();\n    this.addChild(this._track);\n    this.addChild(this._fill);\n\n    this._redrawAll();\n  }\n\n  resize(width, height) {\n    const w = Math.max(4, Math.floor(width || this._w));\n    const h = Math.max(2, Math.floor(height || this._h));\n    if (w === this._w && h === this._h) return;\n    this._w = w; this._h = h;\n    this._redrawAll();\n  }\n\n  update(current, max) {\n    const m = Math.max(0, Number(max) || 0);\n    if (m <= 0 || !Number.isFinite(current)) {\n      this.visible = false;\n      return;\n    }\n    const c = Math.max(0, Math.min(m, Number(current)));\n    const pct = m > 0 ? c / m : 0;\n    this.visible = true;\n\n    const color = pct < this._thresholds.danger\n      ? this._colors.danger\n      : (pct < this._thresholds.warn ? this._colors.warn : this._colors.ok);\n\n    // Only redraw fill if percent or color changed noticeably\n    if (Math.abs(pct - this._pct) > 0.001 || color !== this._color) {\n      this._pct = pct;\n      this._color = color;\n      this._redrawFill();\n    }\n  }\n\n  _redrawAll() {\n    // Track (no border)\n    const w = this._w, h = this._h;\n    this._track.clear();\n    this._track.roundRect(0, 0, w, h, Math.min(3, h * 0.5));\n    this._track.fill({ color: this._trackColor, alpha: 0.85 });\n    // Redraw fill with current state\n    this._redrawFill();\n  }\n\n  _redrawFill() {\n    const w = this._w, h = this._h;\n    const innerW = Math.max(0, Math.floor(w * Math.max(0, Math.min(1, this._pct))));\n    const radius = Math.min(2, Math.floor(h / 2));\n    this._fill.clear();\n    if (innerW <= 0) return;\n    this._fill.roundRect(0, 0, innerW, h, radius);\n    this._fill.fill({ color: this._color, alpha: 1 });\n  }\n}\n\nexport default HealthBar;\n","// Centralized z-order constants for Pixi stage layers\n// Higher numbers render above lower numbers when sortableChildren = true\nexport const LAYERS = Object.freeze({\n  parallax: 10,\n  tiles: 20,\n  tilesAnim: 25,\n  objBehind: 30,\n  secretsBelow: 35,\n  player: 40,\n  projectiles: 50,\n  objFront: 60,\n  secretsAbove: 65,\n  weather: 70,\n  fog: 80,\n  liquids: 90,\n  liquidFx: 100,\n  overlay: 110,\n});\n\nexport default LAYERS;\n","import { Texture } from 'pixi.js';\n\n// Small helper cache for textures\nconst textureCacheMap = new Map();\n\nexport const getTexture = (url) => {\n  if (!url) {\n    console.warn('[getTexture] No URL provided');\n    return null;\n  }\n  if (textureCacheMap.has(url)) {\n    return textureCacheMap.get(url);\n  }\n  try {\n    const tex = Texture.from(url);\n    if (!tex) {\n      console.warn('[getTexture] Failed to create texture from URL:', url);\n      return null;\n    }\n    textureCacheMap.set(url, tex);\n    return tex;\n  } catch (e) {\n    console.error('[getTexture] Error creating texture:', url, e);\n    return null;\n  }\n};\n\nexport const clearTextureCache = () => {\n  textureCacheMap.forEach((t) => t.destroy && t.destroy(true));\n  textureCacheMap.clear();\n};\n\n// Background images resolver (from src/assets/background)\n// Meta stores `/assets/background/<name>`\nexport const createBackgroundResolver = () => {\n  let bgContext;\n  try {\n    // webpack require.context (CRA)\n    // relative to this file: '../../../../assets/background'\n    bgContext = require.context('../../../../assets/background', false, /\\.(png|jpe?g|svg)$/);\n  } catch (e) {\n    bgContext = null;\n  }\n\n  return (metaPath) => {\n    if (!bgContext) {\n      console.warn('[BackgroundResolver] No bgContext available');\n      return null;\n    }\n    if (!metaPath) {\n      const keys = bgContext.keys();\n      if (keys && keys.length) {\n        const mod = bgContext(keys[0]);\n        return mod.default || mod;\n      }\n      return null;\n    }\n    const name = metaPath.split('/').pop();\n    const rel = `./${name}`;\n    try {\n      const mod = bgContext(rel);\n      return mod.default || mod;\n    } catch (e) {\n      // fallback to first available\n      const keys = bgContext.keys();\n      if (keys && keys.length) {\n        const mod = bgContext(keys[0]);\n        return mod.default || mod;\n      }\n      return null;\n    }\n  };\n};\n\n// Convert ms-per-frame (JSON) to Pixi AnimatedSprite speed factor (1 = 60fps)\nexport const msToSpeed = (ms) => {\n  const m = Number(ms);\n  const msPerFrame = Number.isFinite(m) && m > 0 ? m : 500;\n  const fps = 1000 / msPerFrame;\n  return fps / 60; // Pixi speed factor\n};\n\n// Helper to get registry item by id\nexport const getRegItem = (registryItems, id) => registryItems.find((r) => r.id === id);\n\n// Solid collision helper for world tiles (used by weather systems)\nexport const createSolidChecker = (mapWidth, mapHeight, tileSize, tileMapData, registryItems) => {\n  return (wx, wy) => {\n    // Allow particles (snow/rain) to spawn above the top edge and fall into the world.\n    // Negative Y should NOT be treated as solid, otherwise flakes will \"settle\" off-screen.\n    if (wy < 0) return false;\n    // Keep left-of-world as solid to avoid pushing from outside horizontally.\n    if (wx < 0) return true;\n    const gx = Math.floor(wx / tileSize);\n    const gy = Math.floor(wy / tileSize);\n    if (gx < 0 || gy < 0 || gx >= mapWidth || gy >= mapHeight) return false; // below world is not solid\n    const idx = gy * mapWidth + gx;\n    const id = tileMapData[idx];\n    if (!id) return false;\n    const def = getRegItem(registryItems, id);\n    if (!def) return false;\n    const c = def.collision;\n    if (!c) return false;\n    if (c === true) return true;\n    if (typeof c === 'object') {\n      return !!(c.top || c.bottom || c.left || c.right);\n    }\n    return false;\n  };\n};\n","import { Texture } from 'pixi.js';\n\n// Generate procedural water frames (cached per tile size)\nexport const createWaterFrames = (tileSize) => {\n  const frames = [];\n  const F = 8; // frame count\n  for (let i = 0; i < F; i++) {\n    const canvas = document.createElement('canvas');\n    canvas.width = tileSize;\n    canvas.height = tileSize;\n    const ctx = canvas.getContext('2d');\n\n    // background gradient\n    const g = ctx.createLinearGradient(0, 0, 0, tileSize);\n    g.addColorStop(0, '#2a5d8f');\n    g.addColorStop(1, '#174369');\n    ctx.fillStyle = g;\n    ctx.fillRect(0, 0, tileSize, tileSize);\n\n    // animated ripples via sine stripes\n    ctx.globalAlpha = 0.25;\n    ctx.fillStyle = '#8fc0ff';\n    const t = i / F;\n    const bands = 3;\n    for (let b = 0; b < bands; b++) {\n      const y = Math.floor((tileSize / bands) * b + (tileSize / bands) * 0.5 + Math.sin((t + b * 0.33) * Math.PI * 2) * (tileSize * 0.08));\n      ctx.fillRect(0, y, tileSize, Math.max(1, Math.floor(tileSize * 0.06)));\n    }\n\n    // soft top highlight\n    ctx.globalAlpha = 0.18;\n    ctx.fillStyle = '#c9ecff';\n    ctx.fillRect(0, 0, tileSize, Math.max(1, Math.floor(tileSize * 0.12)));\n\n    const tex = Texture.from(canvas);\n    frames.push(tex);\n  }\n  return frames;\n};\n\n// Generate procedural lava frames (cached per tile size)\nexport const createLavaFrames = (tileSize) => {\n  const frames = [];\n  const F = 8;\n  for (let i = 0; i < F; i++) {\n    const canvas = document.createElement('canvas');\n    canvas.width = tileSize;\n    canvas.height = tileSize;\n    const ctx = canvas.getContext('2d');\n\n    // base gradient (dark red to orange)\n    const g = ctx.createLinearGradient(0, 0, 0, tileSize);\n    g.addColorStop(0, '#6b1a07');\n    g.addColorStop(1, '#c43f0f');\n    ctx.fillStyle = g;\n    ctx.fillRect(0, 0, tileSize, tileSize);\n\n    // glowing veins\n    const t = i / F;\n    ctx.globalAlpha = 0.3;\n    for (let b = 0; b < 3; b++) {\n      const y = Math.floor((tileSize / 3) * b + (tileSize / 3) * 0.5 + Math.sin((t * 2 + b * 0.6) * Math.PI * 2) * (tileSize * 0.1));\n      const h = Math.max(1, Math.floor(tileSize * 0.07));\n      const grad = ctx.createLinearGradient(0, y, 0, y + h);\n      grad.addColorStop(0, '#ffed8a');\n      grad.addColorStop(1, '#ff7b00');\n      ctx.fillStyle = grad;\n      ctx.fillRect(0, y, tileSize, h);\n    }\n\n    // bubbles/dots\n    ctx.globalAlpha = 0.25;\n    ctx.fillStyle = '#ffd36e';\n    const count = Math.max(2, Math.floor(tileSize * 0.12));\n    for (let k = 0; k < count; k++) {\n      const rx = Math.floor((k * 37 + i * 13) % tileSize);\n      const ry = Math.floor((k * 53 + i * 29) % tileSize);\n      ctx.fillRect(rx, ry, 1, 1);\n    }\n\n    const tex = Texture.from(canvas);\n    frames.push(tex);\n  }\n  return frames;\n};\n\n// Helpers to check if a definition is water or lava\nexport const isWaterDef = (def) => !!(def && def.flags && def.flags.water);\nexport const isLavaDef = (def) => !!(def && def.flags && def.flags.lava);\n","import { TilingSprite, Sprite, Texture, WRAP_MODES, BlurFilter, Assets } from 'pixi.js';\n\n// Parallax background helper. Manages background layers (solid color and image).\nexport class ParallaxBackground {\n  constructor(container, textureCache) {\n    this.container = container;\n    this.cache = textureCache;\n    this.bgSprite = null; // Solid color layer\n    this.imgSprite = null; // Image layer\n    this._worldW = 0;\n    this._worldH = 0;\n    this._lastCameraX = 0;\n    this._currentUrl = null;\n  }\n\n  build({ worldWidth, worldHeight, url, color, factor = 0.3, minWidth = 0, minHeight = 0 }) {\n    if (!this.container) return;\n    this.clear();\n\n    const w = Math.max(worldWidth, minWidth);\n    const h = Math.max(worldHeight, minHeight);\n\n    this._worldW = worldWidth;\n    this._worldH = worldHeight;\n    this._currentUrl = url;\n\n    // 1. Render solid color background FIRST (always present as base)\n    const hex = (typeof color === 'string' && color.startsWith('#'))\n      ? parseInt(color.slice(1), 16)\n      : (Number(color) || 0x87CEEB);\n    \n    const solid = new Sprite(Texture.WHITE);\n    solid.tint = hex;\n    solid.width = w;\n    solid.height = h;\n    solid.alpha = 1.0;\n    try {\n      solid.filters = [new BlurFilter({ strength: 0.8, quality: 2 })];\n    } catch {}\n    this.container.addChild(solid);\n    this.bgSprite = solid;\n\n    // 2. If URL is provided, attempt to load and render image on top\n    if (url) {\n      const setupImage = (tex) => {\n        if (!this.container || this._currentUrl !== url) return;\n        \n        // Remove old image if any\n        if (this.imgSprite) {\n          try { this.container.removeChild(this.imgSprite); } catch {}\n          try { this.imgSprite.destroy(); } catch {}\n          this.imgSprite = null;\n        }\n\n        if (!tex) {\n          console.warn('[ParallaxBackground] setupImage called with no texture');\n          return;\n        }\n\n        // Fix wrap mode for tiling\n        if (tex.baseTexture) tex.baseTexture.wrapMode = WRAP_MODES.REPEAT;\n        if (tex.source) tex.source.addressMode = 'repeat';\n\n        const sprite = new TilingSprite({ texture: tex, width: w, height: h });\n        const texH = (tex.height || (tex.source ? tex.source.height : 0) || 1);\n        const scaleY = h / texH;\n        sprite.tileScale.set(1, scaleY);\n        sprite.alpha = 1.0;\n        try {\n          sprite.filters = [new BlurFilter({ strength: 1.2, quality: 2 })];\n        } catch {}\n        \n        this.container.addChild(sprite);\n        this.imgSprite = sprite;\n        this.setScroll(this._lastCameraX || 0, factor);\n      };\n\n      // Try to get from Assets cache or Texture cache\n      let tex = null;\n      try {\n        tex = Assets.get(url);\n      } catch (e) {\n        tex = this.cache?.get(url) || Texture.from(url);\n      }\n\n      const isValid = tex && (\n        tex.valid || \n        (tex.baseTexture && tex.baseTexture.valid) || \n        (tex.source && tex.source.width > 0)\n      );\n\n      if (isValid) {\n        console.log('[ParallaxBackground] Texture already ready');\n        setupImage(tex);\n      } else {\n        console.log('[ParallaxBackground] Texture not ready, loading via Assets.load...');\n        Assets.load(url).then((loadedTex) => {\n          console.log('[ParallaxBackground] Texture loaded via Assets.load');\n          setupImage(loadedTex);\n        }).catch(err => {\n          console.error('[ParallaxBackground] Failed to load background image:', url, err);\n        });\n      }\n    }\n  }\n\n  setScroll(cameraX, factor = 0.3) {\n    this._lastCameraX = cameraX;\n    if (this.imgSprite && 'tilePosition' in this.imgSprite) {\n      this.imgSprite.tilePosition.x = -cameraX * factor;\n      this.imgSprite.tilePosition.y = 0;\n    }\n  }\n\n  resize(worldWidth, worldHeight, minWidth = 0, minHeight = 0) {\n    const w = Math.max(worldWidth, minWidth);\n    const h = Math.max(worldHeight, minHeight);\n\n    this._worldW = worldWidth;\n    this._worldH = worldHeight;\n    if (this.bgSprite) {\n      this.bgSprite.width = w;\n      this.bgSprite.height = h;\n    }\n    if (this.imgSprite) {\n      this.imgSprite.width = w;\n      this.imgSprite.height = h;\n      const tex = this.imgSprite.texture;\n      const texH = (tex?.height || (tex?.source ? tex.source.height : 0) || 1);\n      if (this.imgSprite.tileScale && texH > 0) {\n        const scaleY = h / texH;\n        this.imgSprite.tileScale.set(1, scaleY);\n      }\n    }\n  }\n\n  clear() {\n    if (this.bgSprite) {\n      try { this.container.removeChild(this.bgSprite); } catch {}\n      try { this.bgSprite.destroy(); } catch {}\n      this.bgSprite = null;\n    }\n    if (this.imgSprite) {\n      try { this.container.removeChild(this.imgSprite); } catch {}\n      try { this.imgSprite.destroy(); } catch {}\n      this.imgSprite = null;\n    }\n  }\n\n  destroy() {\n    this.clear();\n    this.container = null;\n    this.cache = null;\n  }\n}\n","import { ParallaxBackground } from '../../../../Pixi/layers/ParallaxBackground';\n\n// Build or rebuild parallax background via helper\nexport const createParallaxManager = (parallaxLayer, textureCacheRef) => {\n  let parallaxHelper = null;\n  let parallaxSprite = null;\n\n  const build = (options) => {\n    const { worldWidth, worldHeight, url, color, factor, resolveBackgroundUrl, minWidth = 0, minHeight = 0 } = options;\n\n    if (!parallaxHelper) {\n      parallaxHelper = new ParallaxBackground(parallaxLayer, textureCacheRef);\n    }\n\n    // Resolve URL and validate it exists\n    let resolvedUrl = null;\n    if (url) {\n      resolvedUrl = resolveBackgroundUrl ? resolveBackgroundUrl(url) : url;\n    }\n\n    // If no valid URL, pass null so ParallaxBackground uses solid color fallback\n    parallaxHelper.build({\n      worldWidth,\n      worldHeight,\n      url: resolvedUrl,\n      color: color || '#87CEEB',\n      factor: factor || 0.3,\n      minWidth,\n      minHeight\n    });\n\n    parallaxSprite = parallaxHelper.imgSprite || parallaxHelper.bgSprite;\n  };\n\n  const setScroll = (cameraX, factor) => {\n    if (parallaxHelper) {\n      parallaxHelper.setScroll(cameraX, factor);\n    }\n  };\n\n  const resize = (worldWidth, worldHeight, minWidth = 0, minHeight = 0) => {\n    if (parallaxHelper) {\n      parallaxHelper.resize(worldWidth, worldHeight, minWidth, minHeight);\n    }\n  };\n\n  const destroy = () => {\n    if (parallaxHelper) {\n      try {\n        parallaxHelper.destroy();\n      } catch (e) {\n        // ignore\n      }\n      parallaxHelper = null;\n      parallaxSprite = null;\n    }\n  };\n\n  return {\n    build,\n    setScroll,\n    resize,\n    destroy,\n    get sprite() {\n      return parallaxHelper?.imgSprite || parallaxHelper?.bgSprite;\n    },\n    get helper() {\n      return parallaxHelper;\n    }\n  };\n};\n","import { Sprite, AnimatedSprite, Texture, Container, Text } from 'pixi.js';\nimport { getTexture, msToSpeed } from './helpers';\nimport HealthBar from '../../../../Pixi/ui/HealthBar';\n\n// Build sprite from definition (static or animated)\nexport const buildSpriteFromDef = (def) => {\n  if (!def) return null;\n\n  let spr = null;\n  if (Array.isArray(def.textures) && def.textures.length > 1) {\n    const frames = def.textures.map((u) => getTexture(u)).filter(Boolean);\n    if (frames.length > 0) {\n      spr = new AnimatedSprite(frames);\n      spr.animationSpeed = msToSpeed(def.animationSpeed);\n      spr.play();\n    }\n  }\n\n  // Ja nav tekstru masva vai tas ir tuks, minm parasto tekstru\n  if (!spr && def.texture) {\n    const tex = getTexture(def.texture);\n    if (tex) {\n      spr = new Sprite(tex);\n    }\n  }\n\n  // Ja joprojm nav spr (piemram, nav tekstras), prbaudm editorIcon\n  if (!spr && def.editorIcon) {\n    spr = new Text({\n        text: def.editorIcon,\n        style: {\n            fontSize: 24,\n            fill: 0xffffff,\n            fontWeight: 'bold',\n            dropShadow: true,\n            dropShadowColor: 0x000000,\n            dropShadowBlur: 4,\n            dropShadowDistance: 2\n        }\n    });\n    // Centrjam tekstu tile ietvaros\n    spr.anchor.set(0.5, 0.5);\n    // T k ms lietojam anchor 0.5, mums bs jpielgo pozcija vlk vai eit\n    // Bet buildSpriteFromDef parasti atgrie objektu, kura anchor ir (0,0) pc noklusjuma\n    // lai tas atbilstu tileSize pozicionanai.\n    // Tpc iestatsim anchor uz 0, bet nedaudz nobdsim?\n    // Labk lietot anchor 0.5 un layerBuilder- pieskaitt tileSize/2.\n  }\n\n  if (!spr) {\n    spr = new Sprite(Texture.WHITE);\n  }\n\n  if (spr instanceof Sprite) {\n    spr.anchor.set(0, 0);\n  } else if (spr instanceof Text) {\n    // Tekstam ms gribam, lai tas btu centr, tpc atstjam 0.5\n  }\n  \n  return spr;\n};\n\n// Create player container with default and hit sprites\nexport const createPlayerContainer = (playerVisuals, registryItems, playerState, tileSize) => {\n  const playerContainer = new Container();\n\n  // Default visuals from prop\n  const defaultDef = playerVisuals || null;\n\n  // Target visuals: try specific IDs\n  const targetDef = Array.isArray(registryItems)\n    ? (registryItems.find(r => r.id === 'player_target_100') || registryItems.find(r => r.id === 'player_target'))\n    : null;\n\n  const defSprite = buildSpriteFromDef(defaultDef) || new Sprite(Texture.WHITE);\n  const hitSprite = buildSpriteFromDef(targetDef) || null;\n\n  playerContainer.addChild(defSprite);\n  if (hitSprite) playerContainer.addChild(hitSprite);\n\n  // Health bar above player\n  let healthBar = null;\n  try {\n    healthBar = new HealthBar({\n      width: (playerState?.width) || tileSize,\n      height: 4,\n      offsetX: 0,\n      offsetY: -5\n    });\n    playerContainer.addChild(healthBar);\n  } catch (e) {\n    console.warn('Failed to create health bar:', e);\n  }\n\n  // Initial visibility\n  defSprite.visible = true;\n  if (hitSprite) hitSprite.visible = false;\n\n  return {\n    container: playerContainer,\n    sprites: { def: defSprite, hit: hitSprite },\n    healthBar\n  };\n};\n\n// Update player sprite position, direction, and visibility\nexport const updatePlayerSprite = (refs, playerState, tileSize, healthBarEnabled) => {\n  const { container, sprites, healthBar } = refs;\n  if (!playerState || !container) return;\n\n  const { def, hit } = sprites || {};\n\n  // Resize child sprites to match player state\n  if (def) {\n    if (playerState.width) def.width = playerState.width;\n    if (playerState.height) def.height = playerState.height;\n  }\n  if (hit) {\n    if (playerState.width) hit.width = playerState.width;\n    if (playerState.height) hit.height = playerState.height;\n  }\n\n  // Update health bar size and value\n  if (healthBar) {\n    const enabled = healthBarEnabled !== false;\n    const inWater = !!playerState.inWater;\n    const inLava = playerState.liquidType === 'lava';\n    if (!enabled) {\n      healthBar.visible = false;\n    } else {\n      // When in water or lava, hide the player-attached HB and use overlay version instead\n      healthBar.visible = !(inWater || inLava);\n      const effectiveWidth = playerState.width || (def?.width) || tileSize;\n      healthBar.resize(effectiveWidth, 4);\n      healthBar.y = -Math.max(4, Math.floor((playerState.height || def?.height || tileSize) * 0.12));\n      healthBar.update(playerState.health, (Number(playerState.maxHealth) || 100));\n    }\n  }\n\n  // Choose which sprite is visible based on hit timer\n  const isHit = Number(playerState.hitTimerMs) > 0 && !!hit;\n  if (def) def.visible = !isHit;\n  if (hit) hit.visible = isHit;\n\n  // Direction flip is applied to the container\n  const dir = playerState.direction || 1;\n  const mag = Math.abs(container.scale.x || 1);\n  container.scale.x = dir >= 0 ? mag : -mag;\n\n  // Position container; when flipped, offset by width\n  const effectiveWidth = playerState.width || (def?.width) || tileSize;\n  container.x = dir >= 0 ? (playerState.x || 0) : ((playerState.x || 0) + effectiveWidth);\n  container.y = playerState.y || 0;\n};\n","import React, { useEffect, useRef, useMemo, useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Application, Container, Graphics, Assets } from 'pixi.js';\nimport { TextureCache } from '../../../../Pixi/TextureCache';\nimport { Rain as WeatherRain, Snow as WeatherSnow, Clouds as WeatherClouds, Fog as WeatherFog, Thunder as WeatherThunder } from '../../../../Pixi/effects/weather';\nimport { WaterSplashFX, LavaEmbers, LavaSteamFX, LiquidRegionSystem } from '../../../../Pixi/effects/liquids';\nimport HealthBar from '../../../../Pixi/ui/HealthBar';\nimport LAYERS from '../../../../renderer/stage/layers/LayerOrder';\nimport { clearTextureCache, createBackgroundResolver, createSolidChecker } from './helpers';\nimport { createWaterFrames, createLavaFrames } from './liquidRendering';\nimport { createParallaxManager } from './parallaxManager';\nimport { createPlayerContainer, updatePlayerSprite } from './playerManager';\nimport { syncProjectiles, cleanupProjectiles } from './projectileManager';\nimport { syncEntities, cleanupEntities } from './entityManager';\nimport { rebuildLayers } from './layerBuilder';\n\n// Suppress noisy Pixi Assets warnings for inlined data URLs (we load textures directly)\nAssets.setPreferences?.({\n  skipCacheIdWarning: true,\n  preferCreateImageBitmap: false, // Prevents WebGL warning: texImage: Alpha-premult and y-flip are deprecated\n});\n\nconst EMPTY_ARRAY = [];\nconst EMPTY_OBJECT = {};\n\nconst PixiStage = ({\n  mapWidth,\n  mapHeight,\n  tileSize = 32,\n  tileMapData = EMPTY_ARRAY,\n  objectMapData = EMPTY_ARRAY,\n  secretMapData = EMPTY_ARRAY,\n  revealedSecrets = EMPTY_ARRAY,\n  registryItems = EMPTY_ARRAY,\n  playerState,\n  playerVisuals,\n  backgroundImage,\n  backgroundColor,\n  backgroundParallaxFactor = 0.3,\n  cameraScrollX = 0,\n  weatherRain = 0,\n  weatherSnow = 0,\n  weatherClouds = 0,\n  projectiles = EMPTY_ARRAY,\n  healthBarEnabled = true,\n  objectMetadata = EMPTY_OBJECT,\n  weatherFog = 0,\n  weatherThunder = 0,\n  oxygenBarEnabled = true,\n  lavaBarEnabled = true,\n  waterSplashesEnabled = true,\n  lavaEmbersEnabled = true,\n  isEditor = false,\n}) => {\n  const [isPixiReady, setIsPixiReady] = useState(false);\n\n  const mountRef = useRef(null);\n  const appRef = useRef(null);\n  const parallaxRef = useRef(null);\n  const parallaxManagerRef = useRef(null);\n  const cameraScrollRef = useRef(0);\n  const parallaxFactorRef = useRef(Number(backgroundParallaxFactor) || 0.3);\n  const cameraPosRef = useRef({ x: 0, y: 0 });\n  const bgRef = useRef(null);\n  const bgAnimRef = useRef(null);\n  const bgImageRef = useRef(backgroundImage);\n  const bgColorRef = useRef(backgroundColor);\n  const objBehindRef = useRef(null);\n  const objFrontRef = useRef(null);\n  const secretLayerRef = useRef(null);\n  const playerRef = useRef(null);\n  const playerLayerRef = useRef(null);\n  const playerSpriteRefs = useRef({ def: null, hit: null });\n  const playerHealthBarRef = useRef(null);\n  const playerStateRef = useRef(null);\n  const weatherLayerRef = useRef(null);\n  const liquidLayerRef = useRef(null);\n  const liquidSystemRef = useRef(null);\n  const fogLayerRef = useRef(null);\n  const weatherSystemsRef = useRef({ rain: null, snow: null, clouds: null, thunder: null });\n  const projectilesLayerRef = useRef(null);\n  const projectileSpritesRef = useRef(new Map());\n  const entitiesLayerRef = useRef(null);\n  const entitySpritesRef = useRef(new Map());\n  const projectilesPropRef = useRef(EMPTY_ARRAY);\n  const pixiTextureCacheRef = useRef(null);\n  const hbEnabledRef = useRef(healthBarEnabled !== false);\n  const oxyEnabledRef = useRef(oxygenBarEnabled !== false);\n  const lavaEnabledRef = useRef(lavaBarEnabled !== false);\n  const overlayLayerRef = useRef(null);\n  const underwaterRef = useRef({ g: null, time: 0, targetAlpha: 0, currentAlpha: 0 });\n  const waterFramesRef = useRef(null);\n  const lavaFramesRef = useRef(null);\n  const overlayHBRef = useRef(null);\n  const oxygenBarRef = useRef(null);\n  const lavaBarRef = useRef(null);\n  const waterFxRef = useRef(null);\n  const lavaEmbersRef = useRef(null);\n  const lavaSteamRef = useRef(null);\n  const splashesEnabledRef = useRef(waterSplashesEnabled !== false);\n  const embersEnabledRef = useRef(lavaEmbersEnabled !== false);\n  const waterStateRef = useRef({ inWater: false, headUnder: false, vy: 0 });\n\n  // Keep latest state in refs for ticker\n  useEffect(() => { playerStateRef.current = playerState; }, [playerState]);\n  useEffect(() => { projectilesPropRef.current = Array.isArray(projectiles) ? projectiles : []; }, [projectiles]);\n  useEffect(() => { hbEnabledRef.current = healthBarEnabled !== false; }, [healthBarEnabled]);\n  useEffect(() => { oxyEnabledRef.current = oxygenBarEnabled !== false; }, [oxygenBarEnabled]);\n  useEffect(() => { lavaEnabledRef.current = lavaBarEnabled !== false; }, [lavaBarEnabled]);\n  useEffect(() => { splashesEnabledRef.current = waterSplashesEnabled !== false; }, [waterSplashesEnabled]);\n  useEffect(() => { embersEnabledRef.current = lavaEmbersEnabled !== false; }, [lavaEmbersEnabled]);\n  useEffect(() => { cameraScrollRef.current = Number(cameraScrollX) || 0; }, [cameraScrollX]);\n  useEffect(() => { parallaxFactorRef.current = Number(backgroundParallaxFactor) || 0.3; }, [backgroundParallaxFactor]);\n  useEffect(() => { bgImageRef.current = backgroundImage; }, [backgroundImage]);\n  useEffect(() => { bgColorRef.current = backgroundColor; }, [backgroundColor]);\n\n  // Background resolver and solid checker (memoized per map)\n  const resolveBackgroundUrl = useMemo(() => createBackgroundResolver(), []);\n  const isSolidAt = useMemo(() => createSolidChecker(mapWidth, mapHeight, tileSize, tileMapData, registryItems), [mapWidth, mapHeight, tileSize, tileMapData, registryItems]);\n\n  // Rebuild parallax helper\n  const rebuildParallax = useCallback(() => {\n    const layer = parallaxRef.current;\n    if (!layer) return;\n    if (!pixiTextureCacheRef.current) pixiTextureCacheRef.current = new TextureCache();\n    if (!parallaxManagerRef.current) {\n      parallaxManagerRef.current = createParallaxManager(layer, pixiTextureCacheRef.current);\n    }\n    \n    const bgUrl = bgImageRef.current;\n    const bgColor = bgColorRef.current;\n    const factor = parallaxFactorRef.current || 0.3;\n\n    parallaxManagerRef.current.build({\n      worldWidth: mapWidth * tileSize,\n      worldHeight: mapHeight * tileSize,\n      url: bgUrl,\n      color: bgColor,\n      factor,\n      resolveBackgroundUrl,\n      minWidth: appRef.current?.screen?.width || 0,\n      minHeight: appRef.current?.screen?.height || 0\n    });\n  }, [mapWidth, mapHeight, tileSize, resolveBackgroundUrl]);\n\n  // Initialize Application\n  useEffect(() => {\n    let destroyed = false;\n\n    const init = async () => {\n      if (appRef.current) return;\n\n      const app = new Application();\n      try {\n        await app.init({\n          resizeTo: mountRef.current,\n          backgroundAlpha: 0,\n          antialias: false,\n          autoDensity: true,\n        });\n\n        if (destroyed) {\n          app.destroy(true, { children: true, texture: true });\n          return;\n        }\n\n        if (!app.renderer) return;\n\n        appRef.current = app;\n        app.stage.sortableChildren = true;\n\n        // Create layers\n      const bg = new Container();\n      const bgAnim = new Container();\n      const objBehind = new Container();\n      const objFront = new Container();\n      const secretBelowLayer = new Container();\n      const secretAboveLayer = new Container();\n      const playerLayer = new Container();\n      const entitiesLayer = new Container();\n      const weatherLayer = new Container();\n      const liquidLayer = new Container();\n      const liquidFxLayer = new Container();\n      const fogLayer = new Container();\n      const projLayer = new Container();\n      const overlayLayer = new Container();\n\n      // Assign zIndex\n      const parallaxLayer = new Container();\n      parallaxLayer.zIndex = LAYERS.parallax;\n      bg.zIndex = LAYERS.tiles;\n      bgAnim.zIndex = LAYERS.tilesAnim;\n      objBehind.zIndex = LAYERS.objBehind;\n      objFront.zIndex = LAYERS.objFront;\n      secretBelowLayer.zIndex = LAYERS.secretsBelow;\n      secretAboveLayer.zIndex = LAYERS.secretsAbove;\n      playerLayer.zIndex = LAYERS.player;\n      entitiesLayer.zIndex = LAYERS.player;\n      weatherLayer.zIndex = LAYERS.weather;\n      fogLayer.zIndex = LAYERS.fog;\n      liquidLayer.zIndex = LAYERS.liquids;\n      liquidFxLayer.zIndex = LAYERS.liquidFx;\n      projLayer.zIndex = LAYERS.projectiles;\n      overlayLayer.zIndex = LAYERS.overlay;\n\n      bgRef.current = bg;\n      bgAnimRef.current = bgAnim;\n      objBehindRef.current = objBehind;\n      objFrontRef.current = objFront;\n      secretLayerRef.current = { below: secretBelowLayer, above: secretAboveLayer };\n      weatherLayerRef.current = weatherLayer;\n      playerLayerRef.current = playerLayer;\n      liquidLayerRef.current = liquidLayer;\n      fogLayerRef.current = fogLayer;\n      projectilesLayerRef.current = projLayer;\n      entitiesLayerRef.current = entitiesLayer;\n      overlayLayerRef.current = overlayLayer;\n      parallaxRef.current = parallaxLayer;\n\n      // Add all layers to stage\n      app.stage.addChild(bg, bgAnim, parallaxLayer, objBehind, secretBelowLayer, playerLayer, entitiesLayer, projLayer, objFront, secretAboveLayer, weatherLayer, fogLayer, liquidLayer, liquidFxLayer, overlayLayer);\n\n      // Preload textures to avoid Assets cache warnings and ensure textures are ready\n      try {\n        const urlSet = new Set();\n        const addUrl = (u) => { if (typeof u === 'string' && u.length) urlSet.add(u); };\n        registryItems.forEach((def) => {\n          addUrl(def?.texture);\n          if (Array.isArray(def?.textures)) def.textures.forEach(addUrl);\n        });\n        if (playerVisuals) {\n          addUrl(playerVisuals.texture);\n          if (Array.isArray(playerVisuals.textures)) playerVisuals.textures.forEach(addUrl);\n        }\n        const bgUrl = resolveBackgroundUrl(bgImageRef.current);\n        if (bgUrl) addUrl(bgUrl);\n        const urls = Array.from(urlSet);\n        if (urls.length) {\n          console.log('[PixiStage] Preloading', urls.length, 'textures...');\n          await Assets.load(urls);\n          console.log('[PixiStage] Textures preloaded successfully');\n        }\n      } catch (e) {\n        console.warn('Pixi Assets preload encountered an issue (continuing):', e);\n      }\n\n      // Create player\n      const playerComponents = createPlayerContainer(playerVisuals, registryItems, playerState, tileSize);\n      playerLayer.addChild(playerComponents.container);\n      playerRef.current = playerComponents.container;\n      playerSpriteRefs.current = playerComponents.sprites;\n      playerHealthBarRef.current = playerComponents.healthBar;\n\n      // Mount canvas - DROA PIEVIENOANA\n      if (mountRef.current && app.renderer && app.canvas) {\n        mountRef.current.innerHTML = '';\n        mountRef.current.appendChild(app.canvas);\n      }\n\n      // Build underwater overlay\n      const g = new Graphics();\n      overlayLayer.addChild(g);\n      underwaterRef.current.g = g;\n      const W = mapWidth * tileSize;\n      const H = mapHeight * tileSize;\n      g.clear();\n      g.rect(0, 0, W, H);\n      g.fill({ color: 0x1d4875, alpha: 1 });\n      g.alpha = 0;\n      g.visible = false;\n\n      // Build overlay bars\n      const hbOverlay = new HealthBar({ width: (playerState?.width) || tileSize, height: 4, offsetX: 0, offsetY: 0 });\n      hbOverlay.visible = false;\n      overlayLayer.addChild(hbOverlay);\n      overlayHBRef.current = hbOverlay;\n\n      const oxyColors = { ok: 0x2ecdf1, warn: 0x3498db, danger: 0x1f6fb2 };\n      const oxyBar = new HealthBar({ width: (playerState?.width) || tileSize, height: 4, offsetX: 0, offsetY: 0, colors: oxyColors });\n      oxyBar.visible = false;\n      overlayLayer.addChild(oxyBar);\n      oxygenBarRef.current = oxyBar;\n\n      const lavaColors = { ok: 0xffa229, warn: 0xff7b00, danger: 0xff3b1a };\n      const lvBar = new HealthBar({ width: (playerState?.width) || tileSize, height: 4, offsetX: 0, offsetY: 0, colors: lavaColors });\n      lvBar.visible = false;\n      overlayLayer.addChild(lvBar);\n      lavaBarRef.current = lvBar;\n\n      // WebGL context loss/restore handlers\n      if (app.canvas && app.renderer) {\n        app.canvas.addEventListener('webglcontextlost', (e) => {\n          e.preventDefault();\n          console.warn('WebGL context lost');\n        });\n        app.canvas.addEventListener('webglcontextrestored', () => {\n          console.info('WebGL context restored');\n          // No need to manually rebuild here as the main useEffect will catch app state or we can just trigger a state change if needed.\n          // But Pixi v8 often recovers automatically. To be safe, we can force a rebuild by just waiting for next tick.\n        });\n      }\n\n      // Initialize liquid system\n      try {\n        if (liquidSystemRef.current) liquidSystemRef.current.destroy();\n        if (liquidLayerRef.current) {\n          liquidSystemRef.current = new LiquidRegionSystem(liquidLayerRef.current, { mapWidth, mapHeight, tileSize });\n        }\n      } catch (e) { console.warn('LiquidRegionSystem init failed:', e); }\n\n      // FX systems\n      try { waterFxRef.current = new WaterSplashFX(liquidFxLayer); } catch {}\n      try { lavaSteamRef.current = new LavaSteamFX(liquidFxLayer); } catch {}\n      try {\n        lavaEmbersRef.current = new LavaEmbers(liquidLayerRef.current, { mapWidth, mapHeight, tileSize }, () => (embersEnabledRef.current ? 100 : 0));\n      } catch {}\n\n      rebuildParallax();\n\n      // Finalize initialization by setting appRef\n      // This will trigger the second useEffect to build layers and player\n      appRef.current = app;\n      setIsPixiReady(true);\n      app.ticker.add(() => {\n        const s = playerStateRef.current;\n        if (s && playerRef.current) {\n          updatePlayerSprite(\n            { container: playerRef.current, sprites: playerSpriteRefs.current, healthBar: playerHealthBarRef.current },\n            s,\n            tileSize,\n            hbEnabledRef.current\n          );\n        }\n\n        // Camera Follow\n        const sw = app.screen.width;\n        const sh = app.screen.height;\n        const worldW = mapWidth * tileSize;\n        const worldH = mapHeight * tileSize;\n\n        if (s) {\n          const targetX = (s.x || 0) + (s.width || tileSize) / 2;\n          const targetY = (s.y || 0) + (s.height || tileSize) / 2;\n\n          let camX = targetX - sw / 2;\n          let camY = targetY - sh / 2;\n\n          // Constraints with centering for small maps\n          if (worldW < sw) {\n            camX = (worldW - sw) / 2;\n          } else {\n            camX = Math.max(0, Math.min(camX, worldW - sw));\n          }\n\n          if (worldH < sh) {\n            camY = (worldH - sh) / 2;\n          } else {\n            camY = Math.max(0, Math.min(camY, worldH - sh));\n          }\n\n          cameraPosRef.current = { x: camX, y: camY };\n          app.stage.pivot.set(camX, camY);\n\n          if (parallaxRef.current) {\n            parallaxRef.current.position.set(camX, camY);\n          }\n\n          const f = parallaxFactorRef.current;\n          if (parallaxManagerRef.current) {\n            parallaxManagerRef.current.resize(worldW, worldH, sw, sh);\n            parallaxManagerRef.current.setScroll(camX, f);\n          }\n        }\n\n        // Weather\n        const dt = app.ticker?.deltaMS || 16.67;\n        const systems = weatherSystemsRef.current;\n        if (systems.rain) systems.rain.update(dt);\n        if (systems.snow) systems.snow.update(dt);\n        if (systems.clouds) systems.clouds.update(dt);\n        if (systems.fog) systems.fog.update(dt);\n        if (systems.thunder) systems.thunder.update(dt);\n\n        // Liquids\n        try {\n          if (liquidSystemRef.current && s) {\n            liquidSystemRef.current.setPlayerState(s);\n          }\n          liquidSystemRef.current?.update(dt);\n        } catch {}\n\n        // FX\n        try { lavaEmbersRef.current?.update(dt); } catch {}\n        try { waterFxRef.current?.update(dt); } catch {}\n        try { lavaSteamRef.current?.update(dt); } catch {}\n\n        // Underwater/lava overlay with smooth fade-in/out\n        try {\n          const u = underwaterRef.current;\n          const sNow = playerStateRef.current || {};\n\n          // Safety check: ensure graphics object exists and is attached\n          if (u && (!u.g || u.g.destroyed)) {\n            const overlayL = overlayLayerRef.current;\n            if (overlayL) {\n              const g = new Graphics();\n              overlayL.addChild(g);\n              u.g = g;\n              u.currentAlpha = 0;\n              u.targetAlpha = 0;\n              u.time = 0;\n            }\n          }\n\n          if (u && u.g) {\n            // Check if player is in water/lava (regardless of head position)\n            const liquidType = sNow.liquidType;\n            const inLiquid = !!(sNow && sNow.inWater && (liquidType === 'water' || liquidType === 'lava'));\n\n            // Determine overlay color based on liquid type\n            let overlayColor = 0x1d4875; // water (blue)\n            if (liquidType === 'lava') {\n              overlayColor = 0x8b2e0f; // lava (dark orange-red)\n            }\n\n            if (inLiquid) {\n              u.time += dt;\n              // Target alpha with pulse effect\n              const pulseBase = 0.12 + 0.06 * Math.sin(u.time * 0.0025);\n              u.targetAlpha = pulseBase;\n\n              // Smooth fade-in: gradually approach target alpha\n              const fadeSpeed = 0.01; // Faster fade-in for immediate visibility\n              const alphaDiff = u.targetAlpha - u.currentAlpha;\n              u.currentAlpha += alphaDiff * Math.min(1, dt * fadeSpeed);\n\n              // Update color if liquid type changed (only when needed to avoid constant redraw)\n              if (!u.g.visible || u.lastLiquidType !== liquidType) {\n                u.g.clear();\n                u.g.rect(0, 0, mapWidth * tileSize, mapHeight * tileSize);\n                u.g.fill({ color: overlayColor, alpha: 1 });\n                u.lastLiquidType = liquidType;\n              }\n\n              u.g.visible = true;\n              u.g.alpha = u.currentAlpha;\n            } else {\n              // Smooth fade-out\n              u.targetAlpha = 0;\n              const fadeOutSpeed = 0.008; // Faster fade-out\n              const alphaDiff = u.targetAlpha - u.currentAlpha;\n              u.currentAlpha += alphaDiff * Math.min(1, dt * fadeOutSpeed);\n              u.g.alpha = u.currentAlpha;\n\n              if (u.currentAlpha < 0.01) {\n                u.currentAlpha = 0;\n                u.g.alpha = 0;\n                u.g.visible = false;\n                u.time = 0; // Reset time for next submersion\n              }\n            }\n          }\n\n          // Water splash detection\n          try {\n            const prev = waterStateRef.current || { inWater: false, headUnder: false, vy: 0 };\n            const nowInWater = !!sNow.inWater;\n            const nowLiquid = sNow.liquidType;\n            const centerX = (sNow.x || 0) + (sNow.width || tileSize) * 0.5;\n\n            if (splashesEnabledRef.current && nowLiquid === 'water' && nowInWater && !prev.inWater) {\n              const sy = liquidSystemRef.current?.getSurfaceY?.('water', centerX);\n              const vy = Number(sNow.vy) || 0;\n              const strength = Math.min(3, Math.max(0.2, Math.abs(vy) * 0.12));\n              waterFxRef.current?.trigger({ x: centerX, y: (Number.isFinite(sy) ? sy : (sNow.y || 0)), strength, upward: false });\n              try { liquidSystemRef.current?.addWave?.('water', centerX, Math.min(2.5, 0.6 + Math.abs(vy) * 0.08)); } catch {}\n            }\n            if (splashesEnabledRef.current && prev.inWater && !nowInWater) {\n              const sy = liquidSystemRef.current?.getSurfaceY?.('water', centerX);\n              const vy = Number(sNow.vy) || 0;\n              const strength = Math.min(3, Math.max(0.2, Math.abs(vy) * 0.08));\n              waterFxRef.current?.trigger({ x: centerX, y: (Number.isFinite(sy) ? sy : (sNow.y || 0)), strength, upward: true });\n              try { liquidSystemRef.current?.addWave?.('water', centerX, Math.min(2.0, 0.4 + Math.abs(vy) * 0.05)); } catch {}\n            }\n            waterStateRef.current = { inWater: nowInWater, headUnder: !!sNow.headUnderWater, vy: Number(sNow.vy) || 0 };\n          } catch {}\n        } catch {}\n\n        // Overlay bars\n        try {\n          const s2 = playerStateRef.current || {};\n          const effW = (s2.width || tileSize);\n          const effH = (s2.height || tileSize);\n          const baseYOffset = Math.max(4, Math.floor(effH * 0.12));\n          const baseX = (s2.x || 0);\n          const baseY = (s2.y || 0) - baseYOffset;\n\n          const hbO = overlayHBRef.current;\n          if (hbO) {\n            const enabled = hbEnabledRef.current !== false;\n            const show = enabled && (!!s2.inWater || s2.liquidType === 'lava');\n            hbO.visible = !!show;\n            if (show) {\n              hbO.x = baseX;\n              hbO.y = baseY;\n              hbO.resize(effW, 4);\n              hbO.update(s2.health, (Number(s2.maxHealth) || 100));\n            }\n          }\n\n          let nextBarY = baseY;\n          if (hbO && hbO.visible) nextBarY += 6;\n\n          const oxyBar = oxygenBarRef.current;\n          if (oxyBar) {\n            const enabled = oxyEnabledRef.current !== false;\n            const maxOxy = Math.max(1, Number(s2.maxOxygen) || 100);\n            const curOxy = Math.max(0, Number(s2.oxygen));\n            const show = enabled && ((s2.liquidType === 'water' || s2.inWater) || (curOxy < maxOxy));\n            oxyBar.visible = !!show;\n            if (show) {\n              oxyBar.x = baseX;\n              oxyBar.y = nextBarY;\n              oxyBar.resize(effW, 4);\n              oxyBar.update((Number.isFinite(curOxy) ? curOxy : maxOxy), maxOxy);\n              nextBarY += 6;\n            }\n          }\n\n          const lvBar = lavaBarRef.current;\n          if (lvBar) {\n            const enabled = lavaEnabledRef.current !== false;\n            const maxLv = Math.max(1, Number(s2.maxLavaResist) || 100);\n            const curLv = Math.max(0, Number(s2.lavaResist));\n            const show = enabled && (s2.liquidType === 'lava' || (curLv < maxLv));\n            lvBar.visible = !!show;\n            if (show) {\n              lvBar.x = baseX;\n              lvBar.y = nextBarY;\n              lvBar.resize(effW, 4);\n              lvBar.update((Number.isFinite(curLv) ? curLv : maxLv), maxLv);\n            }\n          }\n        } catch {}\n\n        // Projectiles\n        syncProjectiles(projectilesLayerRef.current, projectileSpritesRef.current, projectilesPropRef.current, registryItems, tileSize);\n\n        // Entities\n        const sNow = playerStateRef.current || {};\n        syncEntities(entitiesLayerRef.current, entitySpritesRef.current, sNow.entities, registryItems, tileSize);\n      });\n    } catch (error) {\n      console.error('PixiStage init failed:', error);\n    }\n  };\n\n  init();\n\n  return () => {\n    destroyed = true;\n    if (appRef.current) {\n      const appToDestroy = appRef.current;\n      appRef.current = null;\n      appToDestroy.destroy(true, { children: true, texture: true });\n    }\n    try { liquidSystemRef.current?.destroy(); } catch {}\n    try { waterFxRef.current?.destroy(); } catch {}\n    try { lavaEmbersRef.current?.destroy(); } catch {}\n    try { lavaSteamRef.current?.destroy(); } catch {}\n    try { parallaxManagerRef.current?.destroy(); } catch {}\n    parallaxManagerRef.current = null;\n    try { pixiTextureCacheRef.current?.clear?.(); } catch {}\n    try {\n      weatherSystemsRef.current.rain?.destroy();\n      weatherSystemsRef.current.snow?.destroy();\n      weatherSystemsRef.current.fog?.destroy();\n    } catch {}\n    cleanupProjectiles(projectileSpritesRef.current);\n    cleanupEntities(entitySpritesRef.current);\n    clearTextureCache();\n  };\n  }, []);\n\n  // Rebuild layers when map data changes\n  useEffect(() => {\n    const app = appRef.current;\n    if (!app) return;\n\n    let active = true;\n\n    const runRebuild = async () => {\n        // Collect all textures to preload\n        const urlSet = new Set();\n        const addUrl = (u) => { if (typeof u === 'string' && u.length) urlSet.add(u); };\n        registryItems.forEach((def) => {\n            addUrl(def?.texture);\n            if (Array.isArray(def?.textures)) def.textures.forEach(addUrl);\n        });\n        if (playerVisuals) {\n            addUrl(playerVisuals.texture);\n            if (Array.isArray(playerVisuals.textures)) playerVisuals.textures.forEach(addUrl);\n        }\n\n        const urls = Array.from(urlSet);\n        if (urls.length) {\n            await Assets.load(urls);\n        }\n\n        if (!active || !appRef.current) return;\n\n        if (bgRef.current && objBehindRef.current && objFrontRef.current) {\n            rebuildLayers(\n                { bgRef: bgRef.current, objBehindRef: objBehindRef.current, objFrontRef: objFrontRef.current, secretLayerRef: secretLayerRef.current },\n                { mapWidth, mapHeight, tileSize, tileMapData, objectMapData, secretMapData, revealedSecrets, registryItems, objectMetadata, isEditor }\n            );\n\n            // Rebuild player visuals if visuals changed or player not created yet\n            const pLayer = playerLayerRef.current;\n            if (pLayer) {\n                if (playerRef.current) {\n                    pLayer.removeChild(playerRef.current);\n                    try { playerRef.current.destroy({ children: true }); } catch {}\n                }\n                \n                const playerComponents = createPlayerContainer(playerVisuals, registryItems, playerStateRef.current, tileSize);\n                pLayer.addChild(playerComponents.container);\n                playerRef.current = playerComponents.container;\n                playerSpriteRefs.current = playerComponents.sprites;\n                playerHealthBarRef.current = playerComponents.healthBar;\n            }\n\n            // Rebuild liquid regions only if tileMapData changed (not just revealedSecrets)\n            // This prevents liquid \"jumping\" when revealing secrets\n            const tileDataString = JSON.stringify(tileMapData);\n            const prevTileDataString = liquidSystemRef.current?._lastTileData;\n            if (tileDataString !== prevTileDataString) {\n                try {\n                    if (liquidSystemRef.current) liquidSystemRef.current.destroy();\n                    if (liquidLayerRef.current) {\n                        liquidSystemRef.current = new LiquidRegionSystem(liquidLayerRef.current, { mapWidth, mapHeight, tileSize });\n                        liquidSystemRef.current.build({ mapWidth, mapHeight, tileSize, tileMapData, registryItems });\n                        liquidSystemRef.current._lastTileData = tileDataString; // Track what we built\n                    }\n                } catch (e) { console.warn('LiquidRegionSystem rebuild failed:', e); }\n                try { lavaEmbersRef.current?.rebuildSurfaces({ mapWidth, mapHeight, tileSize, tileMapData, registryItems }); } catch {}\n            }\n\n            // Upload to GPU to avoid lazy initialization warnings\n            if (app.renderer && app.renderer.prepare) {\n                try {\n                    await app.renderer.prepare.upload(app.stage);\n                } catch (e) {\n                    // Prepare might fail in some edge cases or context loss\n                }\n            }\n        }\n    };\n\n    runRebuild();\n\n    return () => { active = false; };\n  }, [tileMapData, objectMapData, registryItems, mapWidth, mapHeight, tileSize, secretMapData, revealedSecrets, objectMetadata, playerVisuals, isPixiReady]);\n\n  // Weather systems lifecycle\n  useEffect(() => {\n    const app = appRef.current;\n    const weatherLayer = weatherLayerRef.current;\n    const fogLayer = fogLayerRef.current;\n    if (!app || !weatherLayer || !fogLayer) return;\n\n    const api = {\n      isSolidAt,\n      mapWidth,\n      mapHeight,\n      tileSize,\n      getLiquidSurfaceY: (type, x) => {\n        try { return liquidSystemRef.current?.getSurfaceY?.(type, x); } catch { return null; }\n      },\n      onWaterImpact: ({ x, strength = 0.8 }) => {\n        try {\n          const sy = liquidSystemRef.current?.getSurfaceY?.('water', x);\n          if (Number.isFinite(sy)) waterFxRef.current?.trigger({ x, y: sy, strength: Math.max(0.2, Math.min(2, strength)), upward: false });\n          try { liquidSystemRef.current?.addWave?.('water', x, Math.max(0.2, Math.min(2.2, strength))); } catch {}\n        } catch {}\n      },\n      onLavaImpact: ({ x, y, strength = 0.6 }) => {\n        try {\n          const sy = liquidSystemRef.current?.getSurfaceY?.('lava', x);\n          const yy = Number.isFinite(y) ? y : (Number.isFinite(sy) ? sy : null);\n          if (yy != null) lavaSteamRef.current?.trigger({ x, y: yy, strength });\n        } catch {}\n      }\n    };\n\n    const getRainIntensity = () => Math.max(0, Math.min(100, Number(weatherRain) || 0));\n    const getSnowIntensity = () => Math.max(0, Math.min(100, Number(weatherSnow) || 0));\n    const getCloudsIntensity = () => Math.max(0, Math.min(100, Number(weatherClouds) || 0));\n    const getThunderIntensity = () => Math.max(0, Math.min(100, Number(weatherThunder) || 0));\n\n    // Reset systems\n    try { weatherSystemsRef.current.rain?.destroy(); } catch {}\n    try { weatherSystemsRef.current.snow?.destroy(); } catch {}\n    try { weatherSystemsRef.current.clouds?.destroy(); } catch {}\n    try { weatherSystemsRef.current.fog?.destroy(); } catch {}\n    try { weatherSystemsRef.current.thunder?.destroy(); } catch {}\n    weatherSystemsRef.current.rain = null;\n    weatherSystemsRef.current.snow = null;\n    weatherSystemsRef.current.clouds = null;\n    weatherSystemsRef.current.fog = null;\n    weatherSystemsRef.current.thunder = null;\n\n    // Rain\n    if (getRainIntensity() > 0) {\n      weatherSystemsRef.current.rain = new WeatherRain(weatherLayer, api, getRainIntensity);\n      weatherSystemsRef.current.rain.setIntensity(getRainIntensity());\n    }\n\n    // Snow\n    if (getSnowIntensity() > 0) {\n      weatherSystemsRef.current.snow = new WeatherSnow(weatherLayer, api, getSnowIntensity);\n      weatherSystemsRef.current.snow.setIntensity(getSnowIntensity());\n    }\n\n    // Clouds\n    if (getCloudsIntensity() > 0) {\n      weatherSystemsRef.current.clouds = new WeatherClouds(fogLayer, api, getCloudsIntensity);\n      weatherSystemsRef.current.clouds.setIntensity(getCloudsIntensity());\n    }\n\n    // Fog\n    if (Number(weatherFog) > 0) {\n      weatherSystemsRef.current.fog = new WeatherFog(fogLayer, api, () => Number(weatherFog) || 0);\n      weatherSystemsRef.current.fog.setIntensity(Number(weatherFog) || 0);\n    }\n\n    // Thunder\n    if (getThunderIntensity() > 0) {\n      weatherSystemsRef.current.thunder = new WeatherThunder(fogLayer, api, getThunderIntensity);\n      weatherSystemsRef.current.thunder.setIntensity(getThunderIntensity());\n    }\n  }, [weatherRain, weatherSnow, weatherClouds, weatherFog, weatherThunder, mapWidth, mapHeight, tileSize, isSolidAt]);\n\n  // Rebuild parallax when props change\n  useEffect(() => {\n    rebuildParallax();\n  }, [backgroundImage, backgroundColor, rebuildParallax]);\n\n  return <div ref={mountRef} style={{ width: '100%', height: '100%' }} />;\n};\n\nPixiStage.propTypes = {\n  mapWidth: PropTypes.number.isRequired,\n  mapHeight: PropTypes.number.isRequired,\n  tileSize: PropTypes.number,\n  tileMapData: PropTypes.array,\n  objectMapData: PropTypes.array,\n  secretMapData: PropTypes.array,\n  revealedSecrets: PropTypes.array,\n  registryItems: PropTypes.array,\n  playerState: PropTypes.object,\n  playerVisuals: PropTypes.object,\n  backgroundImage: PropTypes.string,\n  backgroundColor: PropTypes.string,\n  backgroundParallaxFactor: PropTypes.number,\n  cameraScrollX: PropTypes.number,\n  weatherRain: PropTypes.number,\n  weatherSnow: PropTypes.number,\n  weatherClouds: PropTypes.number,\n  projectiles: PropTypes.array,\n  healthBarEnabled: PropTypes.bool,\n  objectMetadata: PropTypes.object,\n  weatherFog: PropTypes.number,\n  weatherThunder: PropTypes.number,\n  oxygenBarEnabled: PropTypes.bool,\n  lavaBarEnabled: PropTypes.bool,\n  waterSplashesEnabled: PropTypes.bool,\n  lavaEmbersEnabled: PropTypes.bool,\n};\n\nexport default PixiStage;\n","import { Sprite, AnimatedSprite, Texture } from 'pixi.js';\nimport { getTexture, msToSpeed, getRegItem } from './helpers';\n\n// Sync and update projectiles: create missing sprites, remove stale ones, update positions\nexport const syncProjectiles = (projectilesLayer, projectileSpritesMap, projectilesList, registryItems, tileSize) => {\n  if (!projectilesLayer) return;\n\n  const map = projectileSpritesMap;\n  const list = projectilesList || [];\n  const seen = new Set();\n\n  // Create or update sprites for current projectiles\n  for (let i = 0; i < list.length; i++) {\n    const p = list[i];\n    const key = p.id;\n    seen.add(key);\n\n    let spr = map.get(key);\n    if (!spr) {\n      // Create new sprite\n      const def = getRegItem(registryItems, p.defId);\n      if (def && Array.isArray(def.textures) && def.textures.length > 1) {\n        const frames = def.textures.map((u) => getTexture(u)).filter(Boolean);\n        if (frames.length > 0) {\n          spr = new AnimatedSprite(frames);\n          spr.animationSpeed = msToSpeed(def.animationSpeed);\n          spr.play();\n        }\n      }\n      if (!spr) {\n        const tex = getTexture(getRegItem(registryItems, p.defId)?.texture) || Texture.WHITE;\n        spr = new Sprite(tex);\n      }\n      spr.anchor.set(0.5, 0.5);\n      spr.width = Math.max(2, p.w || tileSize * 0.25);\n      spr.height = Math.max(2, p.h || tileSize * 0.25);\n      projectilesLayer.addChild(spr);\n      map.set(key, spr);\n    }\n\n    // Update position and direction\n    spr.x = p.x + (p.dir >= 0 ? 0 : 0);\n    spr.y = p.y;\n    const mag = Math.abs(spr.scale.x || 1);\n    spr.scale.x = p.dir >= 0 ? mag : -mag;\n  }\n\n  // Remove sprites that no longer exist\n  for (const [key, spr] of map.entries()) {\n    if (!seen.has(key)) {\n      try {\n        spr.parent && spr.parent.removeChild(spr);\n      } catch (e) {\n        // ignore\n      }\n      try {\n        spr.destroy && spr.destroy();\n      } catch (e) {\n        // ignore\n      }\n      map.delete(key);\n    }\n  }\n};\n\n// Cleanup all projectile sprites\nexport const cleanupProjectiles = (projectileSpritesMap) => {\n  try {\n    for (const spr of projectileSpritesMap.values()) {\n      try {\n        spr.parent && spr.parent.removeChild(spr);\n      } catch (e) {\n        // ignore\n      }\n      try {\n        spr.destroy && spr.destroy();\n      } catch (e) {\n        // ignore\n      }\n    }\n    projectileSpritesMap.clear();\n  } catch (e) {\n    // ignore\n  }\n};\n","import { Sprite, Texture, Rectangle } from 'pixi.js';\nimport { getTexture } from './helpers';\n\n/**\n * Sinhroniz un atjaunina kustgo enttiju (piem. tanku) spraitus.\n * @param {Container} entitiesLayer PixiJS konteiners enttijm\n * @param {Map} entitySpritesMap Map, kur glabjas esoie spraiti (pc ID)\n * @param {Array} entitiesList Enttiju saraksts no dzinja\n * @param {Array} registryItems Reistra elementi\n * @param {number} tileSize Flzes izmrs pikseos\n */\nexport const syncEntities = (entitiesLayer, entitySpritesMap, entitiesList, registryItems, tileSize) => {\n  if (!entitiesLayer) return;\n\n  const seen = new Set();\n  const list = entitiesList || [];\n\n  for (const ent of list) {\n    const key = ent.id;\n    seen.add(key);\n\n    let spr = entitySpritesMap.get(key);\n    const def = ent.def || {};\n\n    if (!spr) {\n      // Izveidojam jaunu spraitu ar baltu tekstru k aizvietotju, kamr ldjas st\n      spr = new Sprite(Texture.WHITE);\n      spr.anchor.set(0, 0);\n      entitiesLayer.addChild(spr);\n      entitySpritesMap.set(key, spr);\n      spr._lastFrameIndex = -1;\n    }\n\n    // Atjaunojam tekstru no spritesheet, ja nepiecieams\n    const baseTexture = getTexture(def.texture);\n    const source = baseTexture?.source;\n    const isTextureReady = source && source.width > 1;\n\n    if (def.spriteSheet && def.spriteSheet.enabled && isTextureReady) {\n      const columns = def.spriteSheet.columns || 1;\n      const frameIndex = ent.currentSpriteIndex !== undefined ? ent.currentSpriteIndex : 0;\n      \n      if (spr._lastFrameIndex !== frameIndex) {\n        const texWidth = source.width;\n        const texHeight = source.height;\n        const totalSprites = def.spriteSheet.totalSprites || 1;\n\n        // Ja kolonnu skaits JSON ir nepareizs vai trkst, minm to aprint\n        let effectiveColumns = columns;\n        if (!effectiveColumns || effectiveColumns <= 0) {\n            effectiveColumns = Math.floor(texWidth / (def.spriteSheet.frameWidth || 32)) || 1;\n        }\n\n        const frameWidth = texWidth / effectiveColumns;\n        const frameHeight = texHeight / Math.ceil(totalSprites / effectiveColumns);\n        \n        const col = frameIndex % effectiveColumns;\n        const row = Math.floor(frameIndex / effectiveColumns);\n        \n        const rect = new Rectangle(col * frameWidth, row * frameHeight, frameWidth, frameHeight);\n        \n        try {\n            spr.texture = new Texture({\n              source: source,\n              frame: rect\n            });\n            spr._lastFrameIndex = frameIndex;\n        } catch (e) {\n            console.warn(`Failed to create texture for entity ${key} frame ${frameIndex}`, e);\n            spr.texture = baseTexture;\n        }\n      }\n    } else if (isTextureReady) {\n      if (spr.texture !== baseTexture) {\n        spr.texture = baseTexture;\n        spr._lastFrameIndex = -1;\n      }\n    } else if (def.editorIcon) {\n        // Ja nav tekstras, bet ir ikona (piemram, bultia, kaut gan ts te nevajadztu bt k enttijai)\n        if (spr.texture !== Texture.WHITE) spr.texture = Texture.WHITE;\n    }\n\n    // Pozcija un izmrs\n    // Svargi: Vispirms iestatm izmru, tad virzienu\n    const targetWidth = ent.width || tileSize;\n    const targetHeight = ent.height || tileSize;\n    \n    spr.width = targetWidth;\n    spr.height = targetHeight;\n    \n    // Nodroinm, ka scale nav 0 vai NaN (ja tekstra bija dvaina skum)\n    if (!spr.scale.x || isNaN(spr.scale.x)) spr.scale.x = 1;\n    if (!spr.scale.y || isNaN(spr.scale.y)) spr.scale.y = 1;\n\n    // Virziens (flipping)\n    const direction = ent.direction !== undefined ? ent.direction : 1;\n    const absScaleX = Math.abs(spr.scale.x);\n    spr.scale.x = direction >= 0 ? absScaleX : -absScaleX;\n    \n    // Pozicionana emot vr flipping\n    spr.x = ent.x + (direction < 0 ? targetWidth : 0);\n    spr.y = ent.y;\n  }\n\n  // Noemam spraitus enttijm, kas vairs neeksist\n  for (const [key, spr] of entitySpritesMap.entries()) {\n    if (!seen.has(key)) {\n      if (spr.parent) spr.parent.removeChild(spr);\n      spr.destroy({ children: true, texture: false }); // Tekstras koplietoanas d ts neizncinm\n      entitySpritesMap.delete(key);\n    }\n  }\n};\n\n/**\n * Attra visus enttiju spraitus.\n */\nexport const cleanupEntities = (entitySpritesMap) => {\n  for (const spr of entitySpritesMap.values()) {\n    if (spr.parent) spr.parent.removeChild(spr);\n    spr.destroy({ children: true, texture: false });\n  }\n  entitySpritesMap.clear();\n};\n","import { Sprite, AnimatedSprite, Texture, Rectangle, Container, Graphics } from 'pixi.js';\nimport { getTexture, msToSpeed, getRegItem } from './helpers';\nimport { buildSpriteFromDef } from './playerManager';\nimport { isWaterDef, isLavaDef } from './liquidRendering';\nimport HealthBar from '../../../../Pixi/ui/HealthBar';\n\n// Build layers: tiles, objects, and secret overlays\nexport const rebuildLayers = (refs, options) => {\n  const {\n    mapWidth,\n    mapHeight,\n    tileSize,\n    tileMapData,\n    objectMapData,\n    secretMapData,\n    revealedSecrets,\n    registryItems,\n    objectMetadata,\n    isEditor\n  } = options;\n\n  const { bgRef, objBehindRef, objFrontRef, secretLayerRef } = refs;\n\n  if (!bgRef || !objBehindRef || !objFrontRef) return;\n\n  // Clear previous and destroy old children to prevent memory leaks/ticker buildup\n  const safeDestroy = (container) => {\n    if (!container) return;\n    const children = container.removeChildren();\n    children.forEach(child => {\n      try {\n        // Destroy child but KEEP textures in cache\n        child.destroy({ children: true, texture: false });\n      } catch (e) {}\n    });\n  };\n\n  safeDestroy(bgRef);\n  safeDestroy(objBehindRef);\n  safeDestroy(objFrontRef);\n  safeDestroy(secretLayerRef?.below);\n  safeDestroy(secretLayerRef?.above);\n\n  // Track which tiles need secret overlay\n  // We need overlay for: 1) unrevealed above/secret zones, 2) all open/below zones\n  const secretOverlayTilesBelow = new Map(); // tile index -> filterColor\n  const secretOverlayTilesAbove = new Map(); // tile index -> filterColor\n\n  // Helper: resolve registry item by id\n  const getDef = (id) => getRegItem(registryItems, id);\n\n  // Background tiles (skip liquids; they are handled by LiquidRegionSystem)\n  let secretLayerCount = 0;\n  let normalLayerCount = 0;\n\n  for (let i = 0; i < mapWidth * mapHeight; i++) {\n    const id = tileMapData[i];\n    if (!id) continue;\n    const def = getDef(id);\n    if (!def) continue;\n\n    // Check if this tile is in a secret zone\n    const secretId = secretMapData?.[i];\n    const secretDef = secretId ? getDef(secretId) : null;\n    const secretSubtype = secretDef?.subtype;\n    const isInOpenArea = secretSubtype === 'open' || secretSubtype === 'below';\n    const isInSecretArea = secretSubtype === 'secret' || secretSubtype === 'above';\n    const isSecretRevealed = revealedSecrets && revealedSecrets.includes(i);\n\n    // Track which tiles need overlay rendering\n    // above/secret: overlay AFTER reveal (to darken objects after revealing secret)\n    // open/below: no overlay needed (tiles already darkened)\n    if (isInSecretArea && isSecretRevealed) {\n      const filterColor = secretDef?.filterColorInGame || secretDef?.filterColor || 'rgba(0, 0, 0, 0.6)';\n      const renderAbove = secretDef?.renderAbovePlayer;\n      if (renderAbove) {\n        secretOverlayTilesAbove.set(i, filterColor);\n      } else {\n        secretOverlayTilesBelow.set(i, filterColor);\n      }\n    }\n\n    // Determine if this tile should be rendered with filter on secret layer\n    let renderOnSecretLayer = false;\n    if (isInOpenArea) {\n      // open.area: always render on secret layer with filter\n      renderOnSecretLayer = true;\n      secretLayerCount++;\n    } else if (isInSecretArea && isSecretRevealed) {\n      // secret.area: only render on secret layer with filter AFTER revealed\n      renderOnSecretLayer = true;\n      secretLayerCount++;\n    } else {\n      normalLayerCount++;\n    }\n\n    let sprite;\n    let frames = null;\n    if (isWaterDef(def) || isLavaDef(def) || def.type === 'entity' || def.subtype === 'platform') {\n      // liquids are handled by LiquidRegionSystem; skip per-tile sprite\n      // entities and platforms are handled by separate managers\n      continue;\n    } else {\n      if (Array.isArray(def.textures) && def.textures.length > 1) {\n        frames = def.textures.map((u) => getTexture(u)).filter(Boolean);\n      }\n      if (frames && frames.length > 0) {\n        sprite = new AnimatedSprite(frames);\n        sprite.animationSpeed = msToSpeed(def.animationSpeed);\n        sprite.play();\n      } else {\n        const tex = getTexture(def.texture) || null;\n        if (!tex) continue;\n        sprite = new Sprite(tex);\n      }\n    }\n\n    const x = (i % mapWidth) * tileSize;\n    const y = Math.floor(i / mapWidth) * tileSize;\n    sprite.x = x;\n    sprite.y = y;\n    sprite.width = tileSize;\n    sprite.height = tileSize;\n\n    // Apply filter if rendering on secret layer\n    if (renderOnSecretLayer) {\n      // Add dark backing to block background image for tiles with alpha\n      // Both open.area (always) and secret.area (when revealed) need backing\n      // Add to bgRef (same layer as tiles) to keep it BELOW objects\n      const backing = new Graphics();\n      backing.rect(x, y, tileSize, tileSize);\n      backing.fill({ color: 0x000000, alpha: 0.8 }); // Dark backing to block background\n      bgRef.addChild(backing);\n\n      sprite.alpha = 0.4; // darken the tile\n      // Add to secret layer (below player always for tiles)\n      if (secretLayerRef?.below) {\n        secretLayerRef.below.addChild(sprite);\n      } else {\n        bgRef.addChild(sprite);\n      }\n    } else {\n      // Normal rendering on tiles layer\n      bgRef.addChild(sprite);\n    }\n  }\n\n  // Objects (non-player)\n  for (let i = 0; i < mapWidth * mapHeight; i++) {\n    const id = objectMapData[i];\n    if (!id || id.includes('player')) continue;\n    const def = getDef(id);\n    if (!def || def.type === 'entity' || def.subtype === 'platform' || def.subtype === 'pushable' || def.isPushable) continue;\n\n    const meta = (objectMetadata && objectMetadata[i]) || {};\n    const maxH = def.maxHealth || 100;\n    const health = meta.health !== undefined ? meta.health : maxH;\n\n    let visualElement;\n    if (def.spriteSheet && def.spriteSheet.enabled) {\n      const totalSprites = def.spriteSheet.totalSprites || 1;\n      const columns = def.spriteSheet.columns || totalSprites;\n      \n      const healthPercent = Math.max(0, Math.min(100, (health / maxH) * 100));\n      let frameIndex = Math.floor((1 - healthPercent / 100) * (totalSprites - 1));\n      frameIndex = Math.max(0, Math.min(totalSprites - 1, frameIndex));\n\n      const baseTexture = getTexture(def.texture);\n      const source = baseTexture?.source;\n      if (source && source.width > 1) {\n        const texWidth = source.width;\n        const texHeight = source.height;\n\n        const frameWidth = texWidth / columns;\n        const frameHeight = texHeight / Math.ceil(totalSprites / columns);\n        \n        const col = frameIndex % columns;\n        const row = Math.floor(frameIndex / columns);\n        \n        const rect = new Rectangle(col * frameWidth, row * frameHeight, frameWidth, frameHeight);\n        \n        const frameTexture = new Texture({\n            source: source,\n            frame: rect\n        });\n        visualElement = new Sprite(frameTexture);\n      } else {\n        visualElement = buildSpriteFromDef(def);\n      }\n    } else {\n      visualElement = buildSpriteFromDef(def);\n    }\n\n    if (!visualElement) continue;\n\n    const x = (i % mapWidth) * tileSize;\n    const y = Math.floor(i / mapWidth) * tileSize;\n    \n    // Ja tas ir teksts (piemram, bultia redaktor), centrjam to tile ietvaros\n    if (visualElement.anchor && visualElement.anchor.x === 0.5) {\n      visualElement.x = tileSize / 2;\n      visualElement.y = tileSize / 2;\n    } else {\n      visualElement.x = 0;\n      visualElement.y = 0;\n    }\n    \n    visualElement.width = tileSize;\n    visualElement.height = tileSize;\n\n    // Create a container if we need a health bar or just to keep it clean\n    const container = new Container();\n    container.x = x;\n    container.y = y;\n    \n    // Slpjam objektus, kuriem ir isHiddenInGame: true (piemram, bultias spl)\n    // Bet ja ms esam redaktor, ms gribam ts redzt.\n    if (def.isHiddenInGame && !isEditor) {\n        container.visible = false;\n    }\n\n    // Check if object is in unrevealed secret zone - if so, hide it\n    const secretId = secretMapData?.[i];\n    const secretDef = secretId ? getDef(secretId) : null;\n    const secretSubtype = secretDef?.subtype;\n    const isInSecretArea = secretSubtype === 'secret' || secretSubtype === 'above';\n    const isSecretRevealed = revealedSecrets && revealedSecrets.includes(i);\n\n    if (isInSecretArea && !isSecretRevealed && !isEditor) {\n      // Object is in unrevealed secret zone - make it invisible\n      container.visible = false;\n    }\n\n    container.addChild(visualElement);\n\n    // Add health bar for destructible objects if damaged\n    if (def.isDestructible && health < maxH && health > 0) {\n      try {\n        const hb = new HealthBar({\n          width: tileSize,\n          height: 4,\n          offsetX: 0,\n          offsetY: -5\n        });\n        hb.update(health, maxH);\n        container.addChild(hb);\n      } catch (e) {}\n    }\n\n    const renderAbove = !!def.renderAbovePlayer;\n    if (renderAbove) {\n      objFrontRef.addChild(container);\n    } else {\n      objBehindRef.addChild(container);\n    }\n  }\n\n  // Create dark overlays for unrevealed secret zones\n  // Below player overlay (for secrets with renderAbovePlayer: false)\n  if (secretOverlayTilesBelow.size > 0 && secretLayerRef?.below) {\n    const overlay = new Graphics();\n    secretOverlayTilesBelow.forEach((filterColor, idx) => {\n      const x = (idx % mapWidth) * tileSize;\n      const y = Math.floor(idx / mapWidth) * tileSize;\n\n      const match = filterColor.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d.]+))?\\)/);\n      if (match) {\n        const r = parseInt(match[1]);\n        const g = parseInt(match[2]);\n        const b = parseInt(match[3]);\n        const a = match[4] ? parseFloat(match[4]) : 1;\n\n        overlay.rect(x, y, tileSize, tileSize);\n        overlay.fill({ color: (r << 16) | (g << 8) | b, alpha: a });\n      }\n    });\n    secretLayerRef.below.addChild(overlay);\n  }\n\n  // Above player overlay (for secrets with renderAbovePlayer: true)\n  if (secretOverlayTilesAbove.size > 0 && secretLayerRef?.above) {\n    const overlay = new Graphics();\n    secretOverlayTilesAbove.forEach((filterColor, idx) => {\n      const x = (idx % mapWidth) * tileSize;\n      const y = Math.floor(idx / mapWidth) * tileSize;\n\n      const match = filterColor.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d.]+))?\\)/);\n      if (match) {\n        const r = parseInt(match[1]);\n        const g = parseInt(match[2]);\n        const b = parseInt(match[3]);\n        const a = match[4] ? parseFloat(match[4]) : 1;\n\n        overlay.rect(x, y, tileSize, tileSize);\n        overlay.fill({ color: (r << 16) | (g << 8) | b, alpha: a });\n      }\n    });\n    secretLayerRef.above.addChild(overlay);\n  }\n};\n","/**\n * Secrets Detection and Reveal Logic\n * Handles AboveSecret zone detection and revealing when player enters\n */\n\n/**\n * Flood fill to find all connected secret tiles of the same type\n * @param {number} startIndex - Starting tile index\n * @param {Array} secretMapData - Secret layer data\n * @param {number} mapWidth - Map width in tiles\n * @param {number} mapHeight - Map height in tiles\n * @param {Array} registryItems - Registry items to lookup secret definitions\n * @returns {Array} - Array of connected tile indices\n */\nexport function floodFillSecretZone(startIndex, secretMapData, mapWidth, mapHeight, registryItems) {\n  const startSecretId = secretMapData[startIndex];\n  if (!startSecretId) return [];\n\n  const startDef = registryItems.find(r => r.id === startSecretId);\n  if (!startDef || startDef.type !== 'secret') return [];\n\n  const visited = new Set();\n  const result = [];\n  const queue = [startIndex];\n\n  while (queue.length > 0) {\n    const idx = queue.shift();\n    if (visited.has(idx)) continue;\n    if (idx < 0 || idx >= secretMapData.length) continue;\n\n    visited.add(idx);\n\n    const secretId = secretMapData[idx];\n    if (!secretId || secretId !== startSecretId) continue;\n\n    result.push(idx);\n\n    // Check 4 neighbors (up, down, left, right)\n    const x = idx % mapWidth;\n    const y = Math.floor(idx / mapWidth);\n\n    // Up\n    if (y > 0) queue.push((y - 1) * mapWidth + x);\n    // Down\n    if (y < mapHeight - 1) queue.push((y + 1) * mapWidth + x);\n    // Left\n    if (x > 0) queue.push(y * mapWidth + (x - 1));\n    // Right\n    if (x < mapWidth - 1) queue.push(y * mapWidth + (x + 1));\n  }\n\n  return result;\n}\n\n/**\n * Check if player is touching any AboveSecret tiles\n * @param {Object} params - Detection parameters\n * @returns {Array|null} - Array of tile indices to reveal, or null if no detection\n */\nexport function checkSecretDetection({\n  currentX,\n  currentY,\n  width,\n  height,\n  secretMapData,\n  revealedSecrets,\n  mapWidth,\n  mapHeight,\n  registryItems,\n  TILE_SIZE\n}) {\n  if (!secretMapData || secretMapData.length === 0) return null;\n\n  // Player AABB in world pixels\n  const playerLeft = currentX;\n  const playerRight = currentX + width;\n  const playerTop = currentY;\n  const playerBottom = currentY + height;\n\n  // Overlapped tile rectangle\n  const minGX = Math.floor(playerLeft / TILE_SIZE);\n  const maxGX = Math.floor((playerRight - 1) / TILE_SIZE);\n  const minGY = Math.floor(playerTop / TILE_SIZE);\n  const maxGY = Math.floor((playerBottom - 1) / TILE_SIZE);\n\n  // Check all overlapping tiles for AboveSecret\n  for (let gy = minGY; gy <= maxGY; gy++) {\n    for (let gx = minGX; gx <= maxGX; gx++) {\n      if (gx < 0 || gx >= mapWidth || gy < 0 || gy >= mapHeight) continue;\n\n      const idx = gy * mapWidth + gx;\n      const secretId = secretMapData[idx];\n      if (!secretId) continue;\n\n      // Already revealed?\n      if (revealedSecrets && revealedSecrets.includes(idx)) continue;\n\n      const def = registryItems.find(r => r.id === secretId);\n      if (!def || def.type !== 'secret') continue;\n\n      // Only secret.area (subtype: 'secret' or old name 'above') can be revealed\n      const isSecretArea = def.subtype === 'secret' || def.subtype === 'above';\n      if (!isSecretArea || !def.revealOnEnter) continue;\n\n      // Found an unrevealed secret.area that player is touching!\n      // Flood fill to find all connected tiles\n      const connectedIndices = floodFillSecretZone(idx, secretMapData, mapWidth, mapHeight, registryItems);\n\n      // Filter out already revealed indices to prevent infinite loop\n      const newIndices = connectedIndices.filter(i => !revealedSecrets || !revealedSecrets.includes(i));\n\n      console.log('[SECRETS] Revealing zone:', {\n        triggerIndex: idx,\n        triggerSecretId: secretId,\n        triggerSubtype: def.subtype,\n        totalConnected: connectedIndices.length,\n        newToReveal: newIndices.length,\n        firstFiveNew: newIndices.slice(0, 5),\n        connectedSecretIds: newIndices.slice(0, 5).map(i => secretMapData[i])\n      });\n\n      // Only return if there are NEW indices to reveal\n      return newIndices.length > 0 ? newIndices : null;\n    }\n  }\n\n  return null;\n}\n\nexport default { checkSecretDetection, floodFillSecretZone };\n","// Audio utilities extracted from useGameEngine.js\n\n// Usage: playSfx({ soundEnabledRef, audioCtxRef, audioCtxUnlockedRef }, url, volume)\nexport function playSfx(ctx, url, volume) {\n  const { soundEnabledRef, audioCtxRef } = ctx || {};\n  try {\n    if (!soundEnabledRef?.current) return;\n    const vol = Math.max(0, Math.min(1, volume ?? 1));\n    // 1) Try HTMLAudio first\n    if (url && typeof url === 'string' && url.length > 0) {\n      try {\n        const audio = new Audio(url);\n        audio.volume = vol;\n        audio.addEventListener?.('error', () => {\n          try { audio.pause(); } catch {}\n          beepFallback(ctx, vol);\n        }, { once: true });\n        const p = audio.play?.();\n        if (p && typeof p.catch === 'function') p.catch(() => beepFallback(ctx, vol));\n        return;\n      } catch {\n        // fallback below\n      }\n    }\n    // 2) Fallback beep via WebAudio\n    beepFallback(ctx, vol);\n  } catch {}\n}\n\nexport function beepFallback(ctx, vol) {\n  try {\n    const AC = window.AudioContext || window.webkitAudioContext;\n    if (!AC) return;\n    if (!ctx?.audioCtxRef) return;\n    if (!ctx.audioCtxRef.current) ctx.audioCtxRef.current = new AC();\n    const audioCtx = ctx.audioCtxRef.current;\n    if (!audioCtx) return;\n    if (audioCtx.state === 'suspended') audioCtx.resume?.();\n    const now = audioCtx.currentTime;\n    const osc = audioCtx.createOscillator();\n    const gain = audioCtx.createGain();\n    // short square click ~520Hz for ~90ms\n    osc.type = 'square';\n    osc.frequency.setValueAtTime(520, now);\n    gain.gain.setValueAtTime(0.0001, now);\n    gain.gain.exponentialRampToValueAtTime(Math.max(0.05, (vol ?? 0.2) * 0.2), now + 0.01);\n    gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.08);\n    osc.connect(gain);\n    gain.connect(audioCtx.destination);\n    osc.start(now);\n    osc.stop(now + 0.09);\n  } catch {}\n}\n","// Horizontal movement extracted from useGameEngine.js\n\n// Calculates horizontal velocity/direction and resolves horizontal collision with snap.\n// Args:\n// - keys: input state (expects boolean a/d)\n// - state: { x, width, direction }\n// - MOVE_SPEED, TILE_SIZE, mapWidth, mapHeight\n// - checkCollision: function(newX, newY, mapWidth, mapHeight)  boolean\n// Returns: { x, vx, direction }\nexport function moveHorizontal({\n  keys,\n  state,\n  MOVE_SPEED,\n  TILE_SIZE,\n  mapWidth,\n  mapHeight,\n  checkCollision,\n  friction = 0.8,\n  acceleration = 0.2\n}) {\n  let { x, vx, width, direction } = state;\n  \n  const targetVx = keys?.a ? -MOVE_SPEED : (keys?.d ? MOVE_SPEED : 0);\n  \n  if (targetVx !== 0) {\n    // Accelerate\n    vx += targetVx * acceleration;\n    if (Math.abs(vx) > MOVE_SPEED) vx = Math.sign(vx) * MOVE_SPEED;\n    direction = Math.sign(targetVx);\n  } else {\n    // Apply friction\n    vx *= friction;\n    if (Math.abs(vx) < 0.1) vx = 0;\n  }\n\n  const proposedX = x + vx;\n  const py = state.y ?? 0;\n  if (checkCollision(proposedX, py, mapWidth, mapHeight)) {\n    // Precza apstans pie ra (tiles vai enttijas) bez rupja snapping pie TILE_SIZE\n    const step = 0.5;\n    const sign = Math.sign(vx);\n    let safeX = x;\n    \n    for (let d = step; d < Math.abs(vx); d += step) {\n      const nextX = x + d * sign;\n      if (!checkCollision(nextX, py, mapWidth, mapHeight)) {\n        safeX = nextX;\n      } else {\n        break;\n      }\n    }\n    x = safeX;\n    vx = 0;\n  } else {\n    x = proposedX;\n  }\n\n  return { x, vx, direction };\n}\n\nexport default null;\n","// Vertical physics (gravity, jump, vertical collisions)\n// Migrated from GameEngine/applyVerticalPhysics.js to make core the source of truth.\n\n// Args:\n// - keys, x, y, vy, isGrounded, animation\n// - GRAVITY, TERMINAL_VELOCITY, JUMP_FORCE, TILE_SIZE\n// - width, height, mapWidth, mapHeight\n// - checkCollision(newX, newY, mapWidth, mapHeight)\n// - isWaterAt(wx, wy): optional helper to detect liquid tiles at a world pixel\n// - vx: horizontal velocity (for deciding run/idle when landing)\n// - prevInWater: whether player was in water on previous frame\n// Returns: { y, vy, isGrounded, animation, inWater, headUnderWater, atSurface }\nexport function applyVerticalPhysics({\n  keys,\n  x,\n  y,\n  vy,\n  isGrounded,\n  animation,\n  GRAVITY,\n  TERMINAL_VELOCITY,\n  JUMP_FORCE,\n  TILE_SIZE,\n  width,\n  height,\n  mapWidth,\n  mapHeight,\n  checkCollision,\n  vx,\n  isWaterAt,
LINE LIMIT EXCEEDED